document.addEventListener("DOMContentLoaded",buAccordionMenu);var buExpandSubMenuItems=function(e){e.preventDefault(),e.stopPropagation(),"yes"===e.currentTarget.closest("nav").getAttribute("data-acrd-effect")&&doBuCollapseItems(this),doBuExpandItems(this)},doBuCollapseItems=function(e){const t=e.closest(".bu-acrd-menu-items"),r=buGetParentItems(e,".menu-item-has-children");bricksQuerySelectorAll(t,".acrd-menu-open").forEach(e=>{r.includes(e.closest(".menu-item-has-children"))||doBuExpandItems(e)})},doBuExpandItems=function(e){var t=e.closest("nav").getAttribute("data-acrd-toggle-duration"),r="false"==e.getAttribute("aria-expanded")?"true":"false",o="false"==e.getAttribute("aria-pressed")?"true":"false",n="true"==e.getAttribute("aria-hidden")?"false":"true";e.setAttribute("aria-expanded",r),e.setAttribute("aria-pressed",o),e.setAttribute("aria-hidden",n);let a=e.closest("li.menu-item-has-children"),s=a.querySelectorAll(".sub-menu")[0],i;i&&clearTimeout(i),"false"==n?(s.style.removeProperty("display"),"none"===(r=window.getComputedStyle(s).display)&&(r="block"),s.style.display=r,o=s.offsetHeight,s.style.overflow="hidden",s.style.height=0,s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,s.offsetHeight,s.style.transitionProperty="height, margin, padding",s.style.transitionDuration="".concat(parseInt(t),"ms"),s.style.height="".concat(o,"px"),s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),i=window.setTimeout(function(){s.style.removeProperty("height"),s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property")},parseInt(t)),e.classList.add("acrd-menu-open")):(s.style.transitionProperty="height, margin, padding",s.style.transitionDuration="".concat(parseInt(t),"ms"),s.style.height="".concat(s.offsetHeight,"px"),s.offsetHeight,s.style.overflow="hidden",s.style.height=0,s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,i=window.setTimeout(function(){s.style.display="none",s.style.removeProperty("height"),s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property")},parseInt(t)),e.classList.remove("acrd-menu-open"))},buExpandHashLinkSubMenuItems=function(e){e.preventDefault(),e.stopPropagation(),"yes"===e.currentTarget.closest("nav").getAttribute("data-acrd-effect")&&doBuCollapseItems(e.target),arrowBtn=this.querySelector(".bu-menu-items-arrow"),doBuExpandItems(arrowBtn)};function buAccordionMenu(){bricksQuerySelectorAll(document,".brxe-bu-accordion-menu").forEach(function(e){let t=e.querySelectorAll(".menu-item-has-children > a"),r=e.querySelectorAll(".bu-menu-items-arrow");r.forEach(e=>{e.closest(".menu-item").classList.contains("menu-item-has-children")||e.remove()}),t.forEach(e=>{let t=e.querySelector(".bu-menu-items-arrow"),r=e.closest(".menu-item-has-children");r.querySelectorAll(".sub-menu")[0];void 0===t&&null==t||(t.setAttribute("aria-label","Sub Menu of "+e.getAttribute("data-title")),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-pressed","false"),t.setAttribute("aria-hidden","true")),"#"===e.getAttribute("href")?e.addEventListener("click",buExpandHashLinkSubMenuItems):t.addEventListener("click",buExpandSubMenuItems)});const o=e.querySelectorAll(".current-menu-item");e=e.querySelector("nav").getAttribute("data-acrd-collapsed");o&&"no"==e&&o.forEach(e=>{const t=buGetParentItems(e,".current-menu-ancestor, .menu-item-has-children");t&&t.forEach(e=>{const t=e.querySelector("a");arrowBtn=t.querySelector(".bu-menu-items-arrow"),doBuExpandItems(arrowBtn)})})})}