function triggerPopup(t){t.facets.on("appended",function(t){buAjaxPopup(document)})}function buAjaxPopup(t){bricksQuerySelectorAll(t,"[data-ajax-popup]").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var t=JSON.parse(this.getAttribute("data-interactions")),t=parseInt(t[0].templateId),e=this.getAttribute("data-fetch-post-id")||!1,i=this.getAttribute("data-fetch-term-id")||!1;if(t){const n=document.querySelector(".brxe-popup-"+t);if(n){const o=n.querySelector(".brx-popup-content");o.innerHTML='<div class="bu-ap-preloader" style="display:flex; width: 100%;min-height: 200px; height:100%;justify-content: center; align-items:center;"><img decoding="async" src="'+APOPUP.loader+'" alt="loader.gif"></div>',fetch(bricksData.ajaxUrl.toString(),{method:"POST",body:"action=bu_ajax_popup&security="+APOPUP.nonce+"&popup_id="+t+"&post_id="+e+"&term_id="+i,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})}).then(function(t){if(200!==t.status)throw console.log("Status Code: "+t.status),t;return t.json()}).then(function(t){var e;t.success&&((t=t.data).error?console.log(t.error):(o.innerHTML=t.content,bricksIsFrontend&&(bricksAccordion(),bricksAlertDismiss(),bricksTabs(),bricksAnimatedTyping(),bricksAudio(),bricksCountdown(),bricksCounter(),bricksIsotope(),bricksPricingTables(),bricksSwiper(),bricksSplide(),bricksVideo(),bricksLazyLoad(),bricksInteractions(),bricksAnimation(),bricksPieChart(),bricksProgressBar(),bricksForm(),bricksPhotoswipe(),jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).trigger("wc-product-gallery-before-init",[this,window.wc_single_product_params]),jQuery(this).wc_product_gallery(window.wc_single_product_params),jQuery(this).trigger("wc-product-gallery-after-init",[this,window.wc_single_product_params])}),jQuery(function(){"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}),window.buWooQuantityManager&&buWooQuantityManager(),window.buWooQuantityTriggers&&buWooQuantityTriggers(),window.buatcdoajax&&buatcdoajax(jQuery),window.buFlexGallery&&buFlexGallery(),window.buImageAttachment&&buImageAttachment(),window.buBuyNow&&buBuyNow(),window.buSyncSliders&&buSyncSliders(),window.buWishlist&&buWishlist(),window.buCompare&&buCompare(),window.buSwatches&&buSwatches(),window.buDropdownQty&&buDropdownQty(),window.buSwatchesTooltip&&buSwatchesTooltip(),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(bricksSwiper,250),e=setTimeout(bricksSplide,250)})),n.dispatchEvent(new Event("buPopupAjaxEnd"))))}).catch(function(t){console.log(t)})}}})})}function buWooQuantityManager(){bricksQuerySelectorAll(document,".brx-popup-content .quantity .action").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e,i=t.target.closest(".quantity").querySelector(".qty:not([readonly])");i&&((e=document.querySelector('button[name="update_cart"]'))&&(e.removeAttribute("disabled"),e.setAttribute("aria-disabled","false")),t.target.classList.contains("plus")?i.stepUp():t.target.classList.contains("minus")&&i.stepDown(),e=new Event("change",{bubbles:!0}),i.dispatchEvent(e))})})}document.addEventListener("DOMContentLoaded",function(){buAjaxPopup(document),window.buAjaxPopup=buAjaxPopup,window.WP_Grid_Builder&&WP_Grid_Builder.on("init",triggerPopup)}),document.addEventListener("bricks/ajax/end",function(t){buAjaxPopup(document)}),document.addEventListener("bricks/ajax/query_result/displayed",function(t){buAjaxPopup(document)});