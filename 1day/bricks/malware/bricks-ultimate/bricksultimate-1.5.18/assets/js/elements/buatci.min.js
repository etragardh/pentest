function buAddToCartIcon(){document.querySelectorAll(".bu-prd-type-simple").forEach(function(t){t.addEventListener("click",doAddToCart);var e=JSON.parse(t.getAttribute("data-atci-tooltip"))||!1;e&&"function"==typeof tippy&&tippy(t,{appendTo:t,content:e.content,maxWidth:"none",interactive:!0,animation:e.animation,placement:e.placement,arrow:!0})}),document.querySelectorAll(".bu-prd-type-variation").forEach(function(t){t.addEventListener("click",doAddToCart);var e=JSON.parse(t.getAttribute("data-atci-tooltip"))||!1;e&&"function"==typeof tippy&&tippy(t,{appendTo:t,content:e.content,maxWidth:"none",interactive:!0,animation:e.animation,placement:e.placement,arrow:!0})})}function buAtcQuantity(){document.querySelectorAll(".brxe-bu-qty").forEach(function(t){buATCIQuantityTriggers(t)})}function ATCIUpdateQty(t,e=!1){var a=t.value,t=t.closest(".brxe-loop-builder-on");t&&e&&(atcBtn=t.querySelector(e)||null)&&atcBtn.setAttribute("data-quantity",a)}function buATCIQuantityTriggers(t){let e,a=t.querySelector(".qty");a.addEventListener("focusin",function(t){e=this.value}),t.querySelector(".action.minus").addEventListener("click",changeQuantity),t.querySelector(".action.plus").addEventListener("click",changeQuantity)}function changeQuantity(t){var e,a,n,r,t=t.currentTarget,o=t.closest(".quantity").querySelector(".qty"),i=!1;void 0!==o&&(r=itemBaseQty=parseFloat(o.value),e=parseFloat(o.getAttribute("step")),a=parseFloat(o.getAttribute("min")),n=parseFloat(o.getAttribute("max")),r=t.classList.contains("plus")?r+e:r-e,(i=isNaN(r)||r<0||r<a||n<r||r%e!=0?!0:i)||(o.value=r,ATCIUpdateQty(o,t.closest(".brxe-bu-qty").getAttribute("data-trigger-class"))))}function doAddToCart(t){if(!t.target.closest(".tippy-content")){var e=this.getAttribute("data-out-of-stock")||!1;if(!e&&"undefined"!=typeof wc_add_to_cart_params){t.preventDefault();var a=jQuery(this).find("[data-product_id]"),n=jQuery(this);if(a.addClass("hide-atc-btn"),n.find(".bu-ajax-spinner").addClass("show-spinner"),n.is(".show-spinner")&&n.addClass("removePointer"),!1===jQuery(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[a]))return jQuery(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,a]),!0;var r={};jQuery.each(a.data(),function(t,e){r[t]=e}),jQuery.each(a[0].dataset,function(t,e){r[t]=e}),jQuery(document.body).trigger("adding_to_cart",[a,r]),jQuery.ajax({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:r,success:function(t){a.removeClass("hide-atc-btn"),n.find(".bu-ajax-spinner").removeClass("show-spinner"),n.removeClass("removePointer"),t&&(t.error&&t.product_url?window.location=t.product_url:"yes"===wc_add_to_cart_params.cart_redirect_after_add?window.location=wc_add_to_cart_params.cart_url:(n.find(".bu-added-icon").show(),jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])))},dataType:"json"})}}}document.addEventListener("DOMContentLoaded",function(){bricksIsFrontend&&(buAddToCartIcon(),buAtcQuantity(),window.WP_Grid_Builder&&WP_Grid_Builder.on("init",function(t){t.facets.on("appended",function(t){buAddToCartIcon(),buAtcQuantity()})}))}),document.addEventListener("bricks/ajax/end",function(t){buAddToCartIcon(),buAtcQuantity()}),document.addEventListener("bricks/ajax/query_result/displayed",function(t){buAddToCartIcon(),buAtcQuantity()}),document.addEventListener("buAjaxSearchComplete",function(){buAddToCartIcon(),buAtcQuantity()}),document.addEventListener("buAfterGridTable",function(){setTimeout(()=>{buAddToCartIcon(),buAtcQuantity()},100)});