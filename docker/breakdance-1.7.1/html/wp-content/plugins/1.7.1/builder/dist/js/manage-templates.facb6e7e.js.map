{"version":3,"file":"js/manage-templates.facb6e7e.js","mappings":"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","sources":["webpack://builder/./src/lib/canvas/flatten-properties.ts","webpack://builder/./src/lib/colors/colors.ts","webpack://builder/./src/lib/global-blocks/global-blocks.ts","webpack://builder/./src/lib/global-settings/global-settings.ts","webpack://builder/./src/lib/panels/accordions.ts","webpack://builder/./src/lib/selectors/selectors.ts","webpack://builder/./src/lib/subscriptions/free-mode.ts","webpack://builder/./src/lib/wordpress/load.ts","webpack://builder/./src/subapps/manage-templates/ManageBreakdancePostTypes.vue","webpack://builder/./src/subapps/manage-templates/ManageTemplates.vue","webpack://builder/./src/subapps/manage-templates/types.ts","webpack://builder/./src/subapps/manage-templates/TemplateRow.vue","webpack://builder/./src/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewTooltip.vue","webpack://builder/./src/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewTooltip.vue?3595","webpack://builder/./src/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewTooltip.vue?2add","webpack://builder/./src/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewTooltip.vue?d628","webpack://builder/./src/subapps/manage-templates/lib/api.ts","webpack://builder/./src/subapps/manage-templates/lib/quick-add-templates.ts","webpack://builder/./src/subapps/manage-templates/TemplateRow.vue?ba39","webpack://builder/./src/subapps/manage-templates/TemplateRow.vue?fcb1","webpack://builder/./src/subapps/manage-templates/TemplateRow.vue?e9a3","webpack://builder/./src/subapps/manage-templates/AddTemplateDropdown.vue","webpack://builder/./src/subapps/manage-templates/lib/utils.ts","webpack://builder/./src/subapps/manage-templates/AddTemplateDropdown.vue?b0c1","webpack://builder/./src/subapps/manage-templates/AddTemplateDropdown.vue?137a","webpack://builder/./src/subapps/manage-templates/AddTemplateDropdown.vue?fa68","webpack://builder/./src/subapps/manage-templates/EditTemplateModal.vue","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggersMatrix.vue","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggerInput.vue","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggerInput.vue?6020","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggerInput.vue?9b70","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggerInput.vue?202f","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggersMatrix.vue?91eb","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggersMatrix.vue?24f2","webpack://builder/./src/components/Reusable/CustomInputs/Triggers/TriggersMatrix.vue?b752","webpack://builder/./src/components/Subscription/FreeModeAlertForPopupTriggers.vue","webpack://builder/./src/components/Subscription/FreeModeAlertForPopupTriggers.vue?8393","webpack://builder/./src/components/Subscription/FreeModeAlertForPopupTriggers.vue?6b8e","webpack://builder/./src/components/Subscription/FreeModeAlertForPopupTriggers.vue?e5f6","webpack://builder/./src/subapps/manage-templates/EditTemplateModal.vue?7b94","webpack://builder/./src/subapps/manage-templates/EditTemplateModal.vue?12b8","webpack://builder/./src/subapps/manage-templates/EditTemplateModal.vue?1d80","webpack://builder/./src/subapps/manage-templates/EmptyState.vue","webpack://builder/./src/subapps/manage-templates/EmptyState.vue?b9e8","webpack://builder/./src/subapps/manage-templates/EmptyState.vue?d29b","webpack://builder/./src/subapps/manage-templates/EmptyState.vue?60a9","webpack://builder/./src/subapps/manage-templates/ManageTemplates.vue?f496","webpack://builder/./src/subapps/manage-templates/ManageTemplates.vue?1153","webpack://builder/./src/subapps/manage-templates/ManageTemplates.vue?c1a6","webpack://builder/./src/subapps/manage-templates/ManageGlobalBlocks.vue","webpack://builder/./src/subapps/manage-templates/EditGlobalBlockModal.vue","webpack://builder/./src/subapps/manage-templates/EditGlobalBlockModal.vue?66ea","webpack://builder/./src/subapps/manage-templates/EditGlobalBlockModal.vue?45de","webpack://builder/./src/subapps/manage-templates/EditGlobalBlockModal.vue?0bfd","webpack://builder/./src/subapps/manage-templates/BlockRow.vue","webpack://builder/./src/subapps/manage-templates/BlockRow.vue?ca87","webpack://builder/./src/subapps/manage-templates/BlockRow.vue?3710","webpack://builder/./src/subapps/manage-templates/BlockRow.vue?5bc4","webpack://builder/./src/subapps/manage-templates/ManageGlobalBlocks.vue?9c69","webpack://builder/./src/subapps/manage-templates/ManageGlobalBlocks.vue?983b","webpack://builder/./src/subapps/manage-templates/ManageGlobalBlocks.vue?e595","webpack://builder/./src/subapps/manage-templates/ManageBreakdancePostTypes.vue?e995","webpack://builder/./src/subapps/manage-templates/ManageBreakdancePostTypes.vue?8098","webpack://builder/./src/subapps/manage-templates/ManageBreakdancePostTypes.vue?62ea","webpack://builder/./src/subapps/manage-templates/entry.ts","webpack://builder/./src/types/conditions.ts","webpack://builder/./src/types/custom-fonts.ts","webpack://builder/./src/types/design-library.ts","webpack://builder/./src/types/dynamic-data.ts","webpack://builder/./src/types/elements.ts","webpack://builder/./src/types/load.ts","webpack://builder/./src/types/selectors.ts","webpack://builder/./src/types/templates.ts","webpack://builder/./src/types/tree.ts","webpack://builder/./src/types/typography.ts","webpack://builder/webpack/bootstrap","webpack://builder/webpack/runtime/chunk loaded","webpack://builder/webpack/runtime/compat get default export","webpack://builder/webpack/runtime/define property getters","webpack://builder/webpack/runtime/global","webpack://builder/webpack/runtime/hasOwnProperty shorthand","webpack://builder/webpack/runtime/make namespace object","webpack://builder/webpack/runtime/node module decorator","webpack://builder/webpack/runtime/runtimeId","webpack://builder/webpack/runtime/jsonp chunk loading","webpack://builder/webpack/startup"],"sourcesContent":["import { PropertiesData } from \"@/types/tree\";\n\n/*\n * For a detailed view of the data structures look at the tests\n *\n * This function is also in PHP and they must both mirror each other's logic\n *\n * Logic:\n *\n * - Traverse the properties object recursively and find the \"breakpointId\" key. Then return its value\n * This way the returned properties will have \"flattened\" the breakpoint.\n * - If We're on the base breakpoint, also return any other value that isn't \"responsive\" (tied to a breakpoint)\n * - For non-base breakpoints, only return the values associated with that breakpoint\n * - If no values match the breakpoint, `undefined` is returned\n */\nexport function getFlattenedPropertiesByBreakpoint(\n  propertiesData: PropertiesData,\n  breakpointId: string,\n  allBreakpointIds: string[],\n  baseBreakpointId: string,\n  whitelistedPropertyPaths?: string[]\n): PropertiesData {\n  function _getFattenPropertiesByDefault(\n    properties: PropertiesData,\n    parentPath: string\n  ) {\n    if (isObjectExcludingArray(properties)) {\n      const accumulatorObj: Record<string, unknown> = {};\n\n      for (const propertyKey in properties) {\n        if (propertyKey === breakpointId) {\n          return properties[propertyKey];\n        }\n\n        // Don't include data for other breakpoints that aren't the one we're flattening\n        if (allBreakpointIds.includes(propertyKey)) continue;\n\n        const result = _getFattenPropertiesByDefault(\n          properties[propertyKey],\n          `${parentPath ? `${parentPath}.` : \"\"}${propertyKey}`\n        );\n\n        if (result !== undefined) {\n          accumulatorObj[propertyKey] = result;\n        }\n      }\n\n      // Was anything added to the accumulator?\n      return Object.keys(accumulatorObj).length ? accumulatorObj : undefined;\n    } else if (Array.isArray(properties)) {\n      const accumulatorArray: unknown[] = [];\n\n      properties.forEach(property => {\n        accumulatorArray.push(\n          _getFattenPropertiesByDefault(property, `${parentPath}[]`)\n        );\n      });\n\n      // for non-base breakpoints we can get an array of undefined. Remove it\n      // e.g: \"{tags: [1,2,3]}\" becomes \"{tags: [undefined, undefined, undefined]}\"\n      if (accumulatorArray.filter(value => value !== undefined).length === 0) {\n        return undefined;\n      }\n\n      // Was anything added to the array?\n      return accumulatorArray.length ? accumulatorArray : undefined;\n    }\n\n    const isCurrentPathWhitelisted =\n      parentPath &&\n      whitelistedPropertyPaths?.some(propertyPath =>\n        parentPath.startsWith(propertyPath)\n      );\n\n    // only return non-responsive values if we're on the base breakpoint\n    // A scalar (string, number, boolean, etc. But not an array or obj)\n    return breakpointId === baseBreakpointId || isCurrentPathWhitelisted\n      ? properties\n      : undefined;\n  }\n\n  return _getFattenPropertiesByDefault(propertiesData, \"\");\n}\n\nexport function isObjectExcludingArray(\n  value: unknown\n): /* todo: we are lying to typescript here, isn't there a better way to do this? the real problem is that properties data\nis an any */ value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n","import { Color, GlobalColor, GradientColorV } from \"@/types/colors\";\nimport slugify from \"slugify\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { v4 as uuidV4 } from \"uuid\";\n\n// https://stackoverflow.com/a/51567564\nexport function isLight(color: string) {\n  if (!isValidHex(color)) return true;\n\n  const hex = expandHexColor(color);\n\n  const r = parseInt(hex.substr(0, 2), 16);\n  const g = parseInt(hex.substr(2, 2), 16);\n  const b = parseInt(hex.substr(4, 2), 16);\n  const alpha = parseInt(hex.substr(6, 2), 16);\n  const brightness = (r * 299 + g * 587 + b * 114) / 1000;\n\n  return brightness > 230 || alpha < 100;\n}\n\nexport function stripColorSign(color: string) {\n  return color.replace(\"#\", \"\");\n}\n\n/*\n Expand 3-digit hex code to 6-digit hex codes\n #f0f -> #ff00ff\n #fff -> #ffffff\n*/\nexport function expandHexColor(color: string) {\n  const hex = stripColorSign(color);\n  if (hex.length !== 3) return hex;\n\n  return hex\n    .split(\"\")\n    .map(hex => hex + hex)\n    .join(\"\");\n}\n\nexport function isValidHex(color: string) {\n  const hex = expandHexColor(color);\n  return (hex.length === 6 || hex.length === 8) && !isNaN(Number(\"0x\" + hex));\n}\n\nexport function isCSSVariable(color: Color) {\n  return color.value.startsWith(\"var(--\");\n}\n\nexport function findColorByVariableName(color: Color, colors: GlobalColor[]) {\n  if (!isCSSVariable(color)) return undefined;\n  const name = extractVariableName(color.value);\n  return colors.find(c => c.cssVariableName === name);\n}\n\nexport function extractVariableName(color: string) {\n  const regexp = /var\\(--(.*)\\)/g;\n  const match = regexp.exec(color);\n\n  if (match !== null) {\n    return match[1];\n  }\n\n  return null;\n}\n\nexport function createVariableName(color: string, suffix?: string | number) {\n  const prefix = \"bde-palette-\";\n  const append = suffix ? `-${suffix}` : \"\";\n  const slug = slugify(color, { lower: true });\n  const uuid = uuidV4();\n\n  return `${prefix}${slug}-${uuid}${append}`;\n}\n\nexport function getGlobalColorCode(color: GlobalColor): string {\n  return pipe(\n    color.value,\n    GradientColorV.decode,\n    fold(\n      () => color.value as string,\n      gradient => gradient.value\n    )\n  );\n}\n\nexport function isGlobalColorAGradient(color: GlobalColor) {\n  return pipe(\n    color.value,\n    GradientColorV.decode,\n    fold(\n      () => false,\n      () => true\n    )\n  );\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  GlobalBlock,\n  GlobalBlocksV,\n  GlobalBlockV\n} from \"@/types/global-blocks\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { Either, fold } from \"fp-ts/lib/Either\";\nimport { ExportedTree, ExportedTreeV, TreeNode } from \"@/types/tree\";\nimport {\n  copyNode,\n  createNode,\n  exportTree,\n  findNode,\n  getBlankTree,\n  getNodeIndex,\n  getNodeParent,\n  moveNode\n} from \"@/lib/tree/tree\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { DIV_SLUG, GLOBAL_BLOCK_SLUG } from \"@/lib/elements/constants\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  getNestingRuleFromElementSlug,\n  isNestingRuleAllowedInside,\n  isThisNodeAllowedInsideThatNode\n} from \"@/lib/tree/nesting\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport async function getBlocksFromWordPress(): Promise<\n  Either<_Error[], GlobalBlock[]>\n> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_blocks\",\n    resultKey: \"blocks\",\n    decoder: GlobalBlocksV\n  });\n}\n\n// TODO this creates multiple snapshots, should be wrapped with transaction\nexport async function convertToGlobalBlock(\n  nodeIdOfElementToConvert: number,\n  blockName: string\n) {\n  const nodeToConvert = findNode(\n    documentStore.document.tree,\n    nodeIdOfElementToConvert\n  );\n  if (!nodeToConvert) return;\n\n  const globalBlockTree = createGlobalBlockTreeFromNode(nodeToConvert);\n\n  uiStore.setElementUpdatingState({\n    elementId: nodeIdOfElementToConvert,\n    isUpdating: true\n  });\n\n  pipe(\n    await saveGlobalBlockToWordPress({\n      tree: globalBlockTree,\n      label: blockName,\n      id: -1,\n      editInBreakdanceLink: \"\"\n    }),\n    fold(\n      errors => {\n        errors.forEach(e => NotificationLogger.log.message(e.msg));\n\n        uiStore.setElementUpdatingState({\n          elementId: nodeIdOfElementToConvert,\n          isUpdating: false\n        });\n      },\n      savedBlockInfo => {\n        const index = getNodeIndex(\n          documentStore.document.tree,\n          nodeToConvert.id\n        );\n        const parent = getNodeParent(\n          documentStore.document.tree,\n          nodeToConvert.id\n        );\n\n        uiStore.setElementUpdatingState({\n          elementId: nodeIdOfElementToConvert,\n          isUpdating: false\n        });\n\n        if (!parent) return;\n\n        if (\n          !isNestingRuleAllowedInside(\n            getNestingRuleFromElementSlug(GLOBAL_BLOCK_SLUG),\n            getNestingRuleFromElementSlug(parent.data.type),\n            parent.data.type,\n            \"breakdance_block\"\n          )\n        ) {\n          return;\n        }\n\n        const pointerForCreatedNodeId: { nodeId?: number } = {\n          nodeId: undefined\n        };\n\n        // TODO these create 3 snapshots. Would be great if they were a single one to easily undo/redo\n        documentStore.addElementMutation({\n          elementSlug: GLOBAL_BLOCK_SLUG,\n          parentNodeId: parent.id,\n          index: index,\n          pointer: pointerForCreatedNodeId\n        });\n\n        if (!pointerForCreatedNodeId.nodeId) {\n          return;\n        }\n\n        breakdanceStoreActions.run.onCreatedElement({\n          elementId: pointerForCreatedNodeId.nodeId,\n          transactionKey: undefined\n        });\n\n        documentStore.deleteElement({ nodeId: nodeIdOfElementToConvert });\n\n        documentStore.throttledPropertyChanged({\n          elementId: pointerForCreatedNodeId.nodeId,\n          path: \"content.content.block\",\n          value: savedBlockInfo.id,\n          meta: {\n            // TODO write something meaningful\n            snapshotLabel: \"Replace element with a global block\"\n          }\n        });\n\n        uiStore.activateElement(pointerForCreatedNodeId.nodeId);\n      }\n    )\n  );\n}\n\nfunction createGlobalBlockTreeFromNode(node: TreeNode): ExportedTree {\n  const tree = getBlankTree();\n  const copiedNode = copyNode(tree, node);\n\n  const isAllowedInsideRoot = isThisNodeAllowedInsideThatNode(\n    tree,\n    copiedNode,\n    tree.root.id,\n    \"breakdance_block\"\n  );\n\n  if (isAllowedInsideRoot) {\n    moveNode(\n      tree,\n      copiedNode.id,\n      tree.root.id,\n      tree.root.children.length,\n      \"breakdance_block\"\n    );\n  } else {\n    const divWrapperNode = createNode(tree, {\n      type: DIV_SLUG,\n      properties: configStore.element(DIV_SLUG).defaultProperties\n        ? defensiveCopy(configStore.element(DIV_SLUG).defaultProperties)\n        : null\n    });\n    moveNode(\n      tree,\n      divWrapperNode.id,\n      tree.root.id,\n      tree.root.children.length,\n      \"breakdance_block\"\n    );\n    moveNode(\n      tree,\n      copiedNode.id,\n      divWrapperNode.id,\n      divWrapperNode.children.length,\n      \"breakdance_block\"\n    );\n  }\n\n  return exportTree(tree);\n}\n\nexport async function saveGlobalBlockToWordPress(globalBlock: GlobalBlock) {\n  return await makeWordPressAjaxRequest({\n    friendlyName: \"Saving Global Block to WordPress\",\n    action: \"breakdance_save_global_block\",\n    dataToPost: {\n      ...globalBlock,\n      tree: fpJsonStringify(globalBlock.tree)\n    },\n    decoder: GlobalBlockV,\n    resultKey: \"block\"\n  });\n}\n\nexport function canSaveAsGlobalBlock(nodeToSaveId: number) {\n  const nodeToSave = findNode(documentStore.document.tree, nodeToSaveId);\n\n  if (!nodeToSave) return false;\n\n  if (nodeToSave.data.type === GLOBAL_BLOCK_SLUG) return false;\n\n  /*\n    is it allowed inside the root or inside a div?\n\n    when converting a node to a global block\n    a tree for the global block will be created. the node will be placed in\n    the tree root. if that's not allowed, it will be wrapped with a div\n    so as long as the node can be placed inside a div, it's legal to convert it\n    to a global block\n    */\n\n  const tempTree = getBlankTree();\n  const tempDiv = createNode(tempTree, {\n    type: DIV_SLUG,\n    properties: null\n  });\n  moveNode(\n    tempTree,\n    tempDiv.id,\n    tempTree.root.id,\n    tempTree.root.children.length,\n    \"breakdance_block\"\n  );\n\n  if (\n    isThisNodeAllowedInsideThatNode(\n      tempTree,\n      nodeToSave,\n      tempDiv.id,\n      \"breakdance_block\"\n    )\n  ) {\n    return true;\n  }\n\n  if (\n    isThisNodeAllowedInsideThatNode(\n      tempTree,\n      nodeToSave,\n      tempTree.root.id,\n      \"breakdance_block\"\n    )\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesDataV } from \"@/types/tree\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { globalStore } from \"@/store/store-accessor\";\nimport * as t from \"io-ts\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\nexport async function fetchGlobalSettings(): Promise<boolean> {\n  const maybeGlobalSettingsData = await makeWordPressAjaxRequest({\n    action: \"breakdance_load_global_settings\",\n    decoder: PropertiesDataV\n  });\n  return pipe(\n    maybeGlobalSettingsData,\n    fold(\n      errors => {\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n        return false;\n      },\n      loadedData => {\n        breakdanceUndo.ignore(() => {\n          globalStore.setGlobalSettings(loadedData.globalSettings);\n          globalStore.markCurrentGlobalSettingsAsUntouched();\n        });\n        return true;\n      }\n    )\n  );\n}\n\nexport async function saveGlobalSettingsToWordPress(): Promise<boolean> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving global settings to WordPress\",\n      action: \"breakdance_save_global_settings\",\n      dataToPost: {\n        globalSettings: fpJsonStringify(globalStore.globalSettings)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return false;\n      },\n      () => {\n        breakdanceUndo.ignore(() =>\n          globalStore.markCurrentGlobalSettingsAsUntouched()\n        );\n        return true;\n      }\n    )\n  );\n}\n","import { uiStore } from \"@/store/store-accessor\";\nimport { AccordionState } from \"@/types/ui\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\nexport function getElementAccordionState(\n  elementId: number,\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState.accordionState.elementProperties[elementId]?.[\n    accordionPath\n  ];\n}\n\nexport function setElementAccordionState(\n  elementId: number,\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.elementProperties = {\n    ...newPanelState.accordionState.elementProperties,\n    [elementId]: {\n      ...newPanelState.accordionState.elementProperties[elementId],\n      [accordionPath]: expand\n    }\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getSelectorAccordionState(\n  selectorName: string,\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState.accordionState.selectors[selectorName]?.[\n    accordionPath\n  ];\n}\n\nexport function setSelectorAccordionState(\n  selectorName: string,\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.selectors = {\n    ...newPanelState.accordionState.selectors,\n    [selectorName]: {\n      ...newPanelState.accordionState.selectors[selectorName],\n      [accordionPath]: expand\n    }\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function setGlobalSettingsAccordionState(\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.globalSettings = {\n    ...newPanelState.accordionState.globalSettings,\n    [accordionPath]: expand\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getGlobalSettingsAccordionState(\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState?.accordionState?.globalSettings[accordionPath];\n}\n\nexport function setDynamicDataFieldAttributesAccordionState(\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.dynamicDataFieldAttributes = {\n    ...newPanelState.accordionState.dynamicDataFieldAttributes,\n    [accordionPath]: expand\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getDynamicDataFieldAttributesAccordionState(\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState?.accordionState?.dynamicDataFieldAttributes[\n    accordionPath\n  ];\n}\n","import { left, right, Either } from \"fp-ts/lib/Either\";\nimport { CSSSelector, CSSSelectorListV } from \"@/types/selectors\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { globalStore } from \"@/store/store-accessor\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport * as t from \"io-ts\";\nimport { isUiPanelOpen } from \"@/lib/panels/panels\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\n\n/** https://stackoverflow.com/questions/448981/which-characters-are-valid-in-css-class-names-selectors */\nexport function isValidClassName(name: string) {\n  return /^-?[.]+[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(name);\n}\n\n/** https://stackoverflow.com/questions/34849001/check-if-css-selector-is-valid */\nexport function isValidSelectorName(name: string) {\n  try {\n    document.createDocumentFragment().querySelector(name);\n  } catch {\n    return false;\n  }\n  return true;\n}\n\nexport function addSelector(newSelector: CSSSelector) {\n  /* these errors should never appear - a check should happen before this point */\n  if (newSelector.type === \"class\") {\n    if (!isValidClassName(newSelector.name)) {\n      NotificationLogger.log.message(\n        `${newSelector.name} is not a valid CSS class name.`\n      );\n      return;\n    }\n  } else {\n    if (!isValidSelectorName(newSelector.name)) {\n      NotificationLogger.log.message(\n        `${newSelector.name} is not a valid CSS selector.`\n      );\n\n      return;\n    }\n  }\n\n  if (\n    globalStore.cssSelectors.find(\n      selector => selector.name === newSelector.name\n    )\n  ) {\n    NotificationLogger.log.message(`${newSelector.name} is already present.`);\n    return;\n  }\n\n  breakdanceUndo.transaction(\n    () => globalStore.setSelectors([...globalStore.cssSelectors, newSelector]),\n    \"Add Selector\"\n  );\n}\n\nexport function addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed(\n  selector: CSSSelector\n) {\n  addSelector(selector);\n\n  // TODO not sure whether this check should exist here, it's inspired by SaveColorDialog.saveAsGlobal()'s logic\n  if (!isUiPanelOpen(\"selectors\")) {\n    saveSelectorsToWordPress();\n  }\n}\n\nexport function createCssSelectorObjectFromSelectorName(\n  selectorName: string\n): Either<string[], CSSSelector> {\n  if (!isValidSelectorName(selectorName)) {\n    return left([`\"${selectorName}\" is not a valid CSS selector.`]);\n  }\n\n  const isClass = !!isValidClassName(selectorName);\n\n  return right({\n    name: selectorName,\n    type: isClass ? \"class\" : \"custom\",\n    properties: {}\n  });\n}\n\nexport async function refetchSelectorsFromServerToGlobalStore(): Promise<\n  boolean\n> {\n  const selectorsFromServerOrErrors = await makeWordPressAjaxRequest({\n    action: \"breakdance_load_selectors\",\n    decoder: CSSSelectorListV\n  });\n\n  return pipe(\n    selectorsFromServerOrErrors,\n    fold(\n      errors => {\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n        return false;\n      },\n      loadedData => {\n        breakdanceUndo.ignore(() => {\n          globalStore.setSelectors(loadedData);\n          globalStore.markCurrentSelectorsAsUntouched();\n        });\n        return true;\n      }\n    )\n  );\n}\n\nexport async function saveSelectorsToWordPress(): Promise<boolean> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving selectors to WordPress\",\n      action: \"breakdance_save_selectors\",\n      dataToPost: {\n        selectors: fpJsonStringify(globalStore.cssSelectors)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return false;\n      },\n      () => {\n        breakdanceUndo.ignore(() =>\n          globalStore.markCurrentSelectorsAsUntouched()\n        );\n        return true;\n      }\n    )\n  );\n}\n","import { configStore } from \"@/store/store-accessor\";\nimport { PopupTriggers } from \"@/subapps/manage-templates/types\";\nimport { Condition, RuleGroup, Trigger } from \"@/types/conditions\";\nimport { DynamicField } from \"@/types/dynamic-data\";\n\nexport function appendProToProConditionsLabelInFreeMode(\n  label: string,\n  condition: Condition\n) {\n  if (condition.proOnly) {\n    return appendProToLabelInFreeMode(label);\n  }\n\n  return label;\n}\n\nexport function appendProToLabelInFreeMode(label: string) {\n  if (configStore.subscriptionMode === \"free\") {\n    return `${label} [PRO]`;\n  }\n\n  return label;\n}\n\nexport function areProConditionsUsedInRules(\n  ruleGroups: RuleGroup[] | undefined | null,\n  proOnlyConditions: Condition[]\n) {\n  return (\n    ruleGroups &&\n    proOnlyConditions.length &&\n    ruleGroups\n      .flat()\n      .find(rule =>\n        proOnlyConditions.find(condition => condition.slug === rule.ruleSlug)\n      )\n  );\n}\n\nexport function areProPopupTriggersUsed(\n  appliedTriggers: Trigger[],\n  allPopupTriggers: PopupTriggers[]\n) {\n  const proOnlyTriggers = allPopupTriggers.filter(trigger => trigger.proOnly);\n\n  return appliedTriggers.find(appliedTrigger =>\n    proOnlyTriggers.find(\n      proOnlyTrigger => proOnlyTrigger.value == appliedTrigger.slug\n    )\n  );\n}\n\nexport function isDynamicFieldProOnlyAndUserIsOnFreeTier(field: DynamicField) {\n  return configStore.subscriptionMode === \"free\" && field.proOnly;\n}\n\nexport function getProBadge() {\n  return {\n    backgroundColor: \"var(--gray200)\",\n    label: \"Pro\",\n    textColor: \"var(--gray800)\"\n  };\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ConfigDataLoadedFromWordPress,\n  DocumentDataLoadedFromWordPress,\n  ExpectedDataToLoadConfig,\n  ExpectedDataToLoadConfigV,\n  ExpectedDataToLoadDocument,\n  ExpectedDataToLoadDocumentV\n} from \"@/types/load\";\nimport {\n  configStore,\n  documentStore,\n  uiStore,\n  globalStore,\n  browseModeStore\n} from \"@/store/store\";\nimport { initAPI } from \"@/lib/api/api\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { Either, fold } from \"fp-ts/lib/Either\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { loadAllDynamicDataFromTreeIntoStore } from \"@/lib/dynamic-data/load\";\nimport { Store } from \"vuex\";\nimport {\n  precompileTemplatesOfElements,\n  precompileTwigMacrosTemplate\n} from \"@/lib/twig/twig\";\nimport { setWindowBreakdanceObjectAssetsFunctionsForBuilderMode } from \"@/lib/canvas/helpers\";\nimport * as t from \"io-ts\";\nimport { TemplatePreviewableItem } from \"@/types/templates\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { enableBrowseMode } from \"@/lib/browse-mode\";\nimport { BreakdanceWindowObjectDataFromLoaderForBrowseMode } from \"@/types/breakdance-window-object\";\nimport { BuilderElementV } from \"@/types/elements\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { chunk } from \"lodash\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport async function loadDocumentFromWordPress(\n  id: number\n): Promise<Either<_Error[], ExpectedDataToLoadDocument>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_document\",\n    dataToPost: { id: id },\n    decoder: ExpectedDataToLoadDocumentV\n  });\n}\n\nexport async function loadConfigFromWordPress(): Promise<\n  Either<_Error[], ExpectedDataToLoadConfig>\n> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_document\",\n    decoder: ExpectedDataToLoadConfigV\n  });\n}\n\n/**\n * Initial mode is browse mode, loads config from WordPress\n */\nexport function initializeAppWhenInitialModeIsBrowse(\n  maybeLoadedData: Either<_Error[], ExpectedDataToLoadConfig>,\n  browseModeOptions?: Pick<\n    BreakdanceWindowObjectDataFromLoaderForBrowseMode,\n    \"browseModeOpenUrl\" | \"returnUrl\"\n  >\n) {\n  pipe(\n    maybeLoadedData,\n    fold(\n      errors => {\n        uiStore.setInterfaceState(\"normal\");\n\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n      },\n      async loadedData => {\n        initializeBreakdanceWindowObject();\n        initAPI(loadedData.plugins);\n\n        putDataInStoreFromWordPressConfig(loadedData);\n\n        if (browseModeOptions?.returnUrl) {\n          browseModeStore.setBackToAdminUrl(browseModeOptions.returnUrl);\n        }\n\n        precompileTwigMacrosTemplate();\n        precompileTemplatesOfElements();\n\n        uiStore.selectBaseBreakpoint();\n\n        enableBrowseMode(\n          \"globalSettings\",\n          browseModeOptions?.browseModeOpenUrl\n        );\n      }\n    )\n  );\n}\n\n/**\n * Initial mode is builder, loads both document data and config from WordPress\n */\nexport function initializeAppWhenInitialModeIsBuilder(\n  maybeLoadedData: Either<_Error[], ExpectedDataToLoadDocument>\n) {\n  pipe(\n    maybeLoadedData,\n    fold(\n      errors => {\n        uiStore.setInterfaceState(\"normal\");\n\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n      },\n      async loadedData => {\n        if (\"errorType\" in loadedData) {\n          uiStore.setInterfaceState(\"normal\");\n          configStore.setInvalidPostData(loadedData);\n\n          return;\n        }\n\n        initializeBreakdanceWindowObject();\n        setWindowBreakdanceObjectAssetsFunctionsForBuilderMode();\n\n        initAPI(loadedData.plugins);\n\n        putDataInStoreFromDocumentLoadedFromWordpress(loadedData);\n\n        precompileTwigMacrosTemplate();\n        precompileTemplatesOfElements();\n\n        await loadAllDynamicDataFromTreeIntoStore();\n\n        uiStore.selectBaseBreakpoint();\n        uiStore.setInterfaceState(\"normal\");\n\n        breakdanceUndo.initialize();\n      }\n    )\n  );\n}\n\nexport function putDataInStoreFromWordPressConfig(\n  d: ConfigDataLoadedFromWordPress\n) {\n  configStore.setEnvironment(d.environment);\n  configStore.setElementsAndAppendRootElement(d.builderElements);\n  configStore.setElementsExternalAttrsDepsAndActions(\n    d.elementsExternalAttrsDepsAndActions\n  );\n  configStore.setElementCategories(d.builderElementCategories);\n  configStore.setPreferences(d.preferences);\n  configStore.setDynamicFields(d.dynamicFields);\n  configStore.setConditions(d.conditions);\n  configStore.setFonts(d.fonts);\n  configStore.setGlobalSettingsControlsAndTemplate(\n    d.globalSettingsControlsAndTemplate\n  );\n  configStore.setAvailableDocuments(d.availableDocuments);\n  configStore.setAvailableMediaSizes(d.availableMediaSizes);\n  configStore.setAvailablePermissions(d.availablePermissions);\n  configStore.setPermission(d.permission);\n  configStore.setSelectorControls(d.selectors.controls);\n  configStore.setClassTemplate(d.selectors.template);\n  configStore.setNeededUrls(d.neededData);\n  configStore.setPresetsForElements(d.elementPresets);\n  configStore.setBuiltinBreakpoints(d.builtinBreakpoints);\n  configStore.setTwigMacros(d.twigMacros);\n  configStore.setTwigMacrosHash(d.twigMacrosHash);\n  configStore.setAvailableWordpressPlugins(d.availableWordpressPlugins);\n  configStore.setDesignLibrary(d.designLibrary);\n  configStore.setSubscriptionMode(d.subscriptionMode);\n\n  breakdanceUndo.ignore(() => {\n    globalStore.setGlobalSettings(d.globalSettings);\n    globalStore.markCurrentGlobalSettingsAsUntouched();\n\n    globalStore.setSelectors(d.selectors.selectors);\n    globalStore.markCurrentSelectorsAsUntouched();\n  });\n}\n\nexport function putDataInStoreFromDocumentLoadedFromWordpress(\n  d: DocumentDataLoadedFromWordPress\n) {\n  documentStore.setDocument(d.document);\n\n  configStore.setDocumentSpecificNeededUrls(d.documentSpecificNeededUrls);\n  configStore.loadTemplatePreviewData(d.templatePreview);\n\n  putDataInStoreFromWordPressConfig(d);\n}\n\nfunction initializeBreakdanceWindowObject() {\n  // Save the URL on first page load. The URL may change later and we want to be able to use it\n  // For example if we by using a Router\n  window.Breakdance.originalUrl = location.href;\n\n  window.Breakdance.stores = {\n    configStore,\n    documentStore,\n    uiStore,\n    globalStore\n  };\n}\n\nexport function getDocumentUrlFromId(documentId: number) {\n  const updatedUrl = new URL(window.Breakdance.originalUrl);\n\n  updatedUrl.searchParams.set(\"id\", `${documentId}`);\n  updatedUrl.search = updatedUrl.searchParams.toString();\n\n  return updatedUrl.href;\n}\n\nexport async function saveLastPreviewedItemInWp(\n  reviewableItem: TemplatePreviewableItem\n) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_save_template_last_previewed_item\",\n    decoder: t.type({ success: t.literal(true) }),\n    dataToPost: {\n      postId: documentStore.document.documentMeta.id,\n      item: fpJsonStringify(reviewableItem)\n    }\n  });\n}\n\nclass InitialStoreState {\n  initialState: unknown;\n  store!: Store<any>;\n\n  setupHook(store: Store<any>) {\n    this.store = store;\n    this.initialState = defensiveCopy(this.store.state);\n  }\n\n  resetToInitialState() {\n    // TODO: but what about the AJX errors? lmfao.\n    const newState = defensiveCopy(this.initialState);\n    this.store.replaceState(newState);\n  }\n}\n\nexport const initialStoreState = new InitialStoreState();\n\nexport const vuexInitialStoreStateInitFunction = (store: Store<any>) => {\n  initialStoreState.setupHook(store);\n};\n\nexport async function loadBuilderElementsFromWordPress() {\n  pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_load_builder_elements\",\n      resultKey: \"elements\",\n      decoder: t.array(BuilderElementV)\n    }),\n    fold(\n      errors => {\n        errors.forEach(e => NotificationLogger.log.message(e.msg));\n        configStore.setElementsLoadingState(\"failed\");\n        uiStore.logError(\"Failed to load elements\");\n      },\n      elements => {\n        const chunked = chunk(elements, 10);\n\n        chunked.forEach((elementsChunk, index) => {\n          // @ts-ignore\n          requestIdleCallback(() => {\n            configStore.addNonExistentElementsNonReactively(elementsChunk);\n            precompileTemplatesOfElements(elementsChunk);\n\n            const isLastChunk = index === chunked.length - 1;\n            if (isLastChunk) {\n              // TODO this clears and re-registers store actions for elements that have been initially loaded, should it only affect newly loaded elements?\n              breakdanceStoreActions.registerAllStoreActions();\n              configStore.setElementsLoadingState(\"success\");\n            }\n          });\n        });\n      }\n    )\n  );\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',{staticClass:\"breakdance-admin-wp\"},[_c('Notifications'),_c('div',{staticClass:\"manage-templates-app\"},[(_vm.isBlockPostType)?[_c('ManageGlobalBlocks')]:[_c('ManageTemplates',{attrs:{\"postType\":_vm.postType}})]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.isLoadingData)?_c('Loading'):_vm._e(),_c('div',{staticClass:\"manage-templates\"},[_c('div',{staticClass:\"manage-templates__header\"},[_c('h1',{staticClass:\"manage-templates__title\"},[_vm._v(\" \"+_vm._s(_vm.showTrash ? `Deleted ${_vm.templateName}s` : `${_vm.templateName}s`)+\" \")]),(!_vm.showTrash)?[(\n            _vm.postType === 'breakdance_header' ||\n            _vm.postType === 'breakdance_footer' ||\n            _vm.postType === 'breakdance_popup'\n          )?_c('v-btn',{staticClass:\"breakdance-wp-admin-templating-button\",attrs:{\"elevation\":\"0\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.modalData = { type: 'add', data: _vm.blankTemplateWithValidSettings }}}},[(_vm.postType === 'breakdance_header')?_c('span',[_vm._v(\"Add Header\")]):_vm._e(),(_vm.postType === 'breakdance_footer')?_c('span',[_vm._v(\"Add Footer\")]):_vm._e(),(_vm.postType === 'breakdance_popup')?_c('span',[_vm._v(\"Add Popup\")]):_vm._e()]):_vm._e(),(_vm.postType === 'breakdance_template')?_c('AddTemplateDropdown',{attrs:{\"templateName\":_vm.templateName,\"isWooCommerceActive\":_vm.isWooCommerceActive,\"templates\":_vm.templatesByStatus},on:{\"input\":_vm.saveTemplate,\"blankModal\":function($event){return _vm.handleTemplateCardModal(`add`, _vm.blankTemplateWithValidSettings)},\"modalWithSettings\":function($event){return _vm.handleTemplateCardModal(`add`, $event)}}}):_vm._e()]:_vm._e()],2),(\n        this.templatesByStatus.length > 0 ||\n        this.filteredTemplatesBySearch.length > 0 ||\n        _vm.trashLength > 0 ||\n        _vm.showTrash\n      )?_c('div',{staticClass:\"manage-templates__actions\"},[(!_vm.showTrash)?_c('div',{staticClass:\"manage-templates__search\"},[_c('SearchInput',{attrs:{\"placeholder\":_vm.searchInputPlaceholder},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1):_vm._e(),_c('div',{staticClass:\"manage-templates__secondary-actions\"},[(_vm.showTrash && this.templatesByStatus.length)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"text\":\"\",\"loading\":_vm.emptyingTrash},on:{\"click\":_vm.emptyTrash}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"}}),_vm._v(\" Empty Trash \")],1):_vm._e(),(_vm.trashLength || _vm.showTrash)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showTrash = !_vm.showTrash}}},[(_vm.showTrash)?[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"ArrowLeftLongIcon\",\"size\":\"16\"}}),_vm._v(\" Back \")]:[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"}}),_vm._v(\" Trash (\"+_vm._s(_vm.trashLength)+\") \")]],2):_vm._e()],1)]):_vm._e()]),_c('EmptyState',{attrs:{\"value\":_vm.emptyStateData}}),(_vm.filteredTemplatesBySearch.length > 0)?_c('v-simple-table',{staticClass:\"manage-templates__table breakdance-table\",class:_vm.newTemplateAdded ? 'added' : ''},[_c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"35%\"}},[_vm._v(\"Template\")]),_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"Applies to\")]),_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"Conditions\")]),(_vm.postType === 'breakdance_popup')?_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"Triggers\")]):_vm._e(),(_vm.postType !== 'breakdance_popup')?_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"Priority\")]):_vm._e(),_c('th',{attrs:{\"width\":\"10%\"}},[_vm._v(\"Active\")])])]),_c('transition-group',{attrs:{\"tag\":\"tbody\",\"name\":\"fade\",\"mode\":\"in-out\"}},_vm._l((_vm.filteredTemplatesBySearch),function(template){return _c('TemplateRow',{key:template.id,class:!_vm.newTemplateAdded ? 'animation-disabled' : '',attrs:{\"value\":_vm.getTemplateWithValidSettings(template),\"templateTypeCategories\":_vm.templatesManagementData.templateTypeCategories,\"templateParents\":_vm.templateParentsWithoutTrashed},on:{\"input\":_vm.handleTemplateCardModal,\"update\":_vm.updateTemplate,\"duplicate\":_vm.duplicateTemplate,\"trash\":_vm.trashTemplate,\"delete\":_vm.deleteTemplate,\"restore\":_vm.restoreTemplate}})}),1)],1):_vm._e(),(_vm.modalData)?_c('EditTemplateModal',{attrs:{\"value\":_vm.modalData.data,\"templatesManagementData\":_vm.templatesManagementData,\"postType\":_vm.postType,\"templateParents\":_vm.templateParentsWithoutTrashed,\"templates\":_vm.templatesByStatus,\"mode\":_vm.modalData.type,\"skipWarning\":_vm.skipWarning,\"hasPermissionToManageFallbacks\":_vm.hasPermissionToManageFallbacks},on:{\"input\":function($event){return _vm.saveTemplate($event)},\"close\":function($event){_vm.modalData = false},\"skipWarning\":function($event){_vm.skipWarning = $event}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ConditionV, RuleGroupV, TriggersV } from \"@/types/conditions\";\nimport { DynamicFieldV } from \"@/types/dynamic-data\";\nimport * as t from \"io-ts\";\nimport { EnvironmentV } from \"@/types/load\";\n\nexport const TemplateTypeV = t.intersection([\n  t.type({\n    slug: t.string,\n    label: t.string\n  }),\n  t.partial({\n    defaultPriority: t.number\n  })\n]);\n\nexport const TemplateParentsV = t.array(\n  t.type({\n    text: t.string,\n    value: t.number\n  })\n);\n\nexport type TemplateParents = t.TypeOf<typeof TemplateParentsV>;\n\nexport const TemplateTypeCategoriesV = t.array(\n  t.type({\n    label: t.string,\n    types: t.array(TemplateTypeV)\n  })\n);\n\nexport type TemplateTypeCategories = t.TypeOf<typeof TemplateTypeCategoriesV>;\n\nexport const TemplateSettingsV = t.partial({\n  parentId: t.number,\n  type: t.string,\n  ruleGroups: t.array(RuleGroupV),\n  triggers: TriggersV,\n  priority: t.number,\n  disabled: t.boolean,\n  fallback: t.boolean,\n  onlyShowOnce: t.boolean,\n  avoidMultiple: t.boolean,\n  limitPageLoad: t.union([t.number, t.null]),\n  limitSession: t.union([t.number, t.null]),\n  limitForever: t.union([t.number, t.null])\n});\n\nexport type TemplateSettings = t.TypeOf<typeof TemplateSettingsV>;\n\nexport const SupportedPostTypeV = t.union([\n  t.literal(\"breakdance_template\"),\n  t.literal(\"breakdance_popup\"),\n  t.literal(\"breakdance_header\"),\n  t.literal(\"breakdance_footer\"),\n  t.literal(\"breakdance_block\"),\n  t.literal(\"breakdance_acf_block\")\n]);\n\nexport type SupportedPostType = t.TypeOf<typeof SupportedPostTypeV>;\n\nexport const PartialTemplateV = t.type({\n  id: t.number,\n  title: t.string,\n  editInBreakdanceLink: t.string,\n  postType: SupportedPostTypeV,\n  status: t.union([t.literal(\"publish\"), t.literal(\"trash\"), t.undefined])\n});\n\nexport const TemplateV = t.intersection([\n  PartialTemplateV,\n  t.type({\n    settings: t.union([TemplateSettingsV, t.null])\n  })\n]);\n\nexport type Template = t.TypeOf<typeof TemplateV>;\n\nexport const TemplateWithValidSettingsV = t.intersection([\n  PartialTemplateV,\n  t.type({\n    settings: TemplateSettingsV\n  })\n]);\n\nexport type TemplateWithValidSettings = t.TypeOf<\n  typeof TemplateWithValidSettingsV\n>;\n\nconst PopupTriggersV = t.type({\n  text: t.string,\n  value: t.string,\n  proOnly: t.union([t.undefined, t.boolean])\n});\n\nexport type PopupTriggers = t.TypeOf<typeof PopupTriggersV>;\n\nexport const TemplatesManagementDataV = t.type({\n  conditions: t.array(ConditionV),\n  dynamicFields: t.array(DynamicFieldV),\n  templateTypeCategories: TemplateTypeCategoriesV,\n  popupTriggers: t.union([t.null, t.array(PopupTriggersV)])\n});\n\nexport type TemplatesManagementData = t.TypeOf<typeof TemplatesManagementDataV>;\n\nexport const ManageTemplatesDataToLoadV = t.type({\n  templates: t.array(TemplateV),\n  templatesManagementData: TemplatesManagementDataV,\n  isWooCommerceActive: t.boolean,\n  environment: EnvironmentV\n});\n\nexport type ManageTemplatesDataToLoad = t.TypeOf<\n  typeof ManageTemplatesDataToLoadV\n>;\n\nexport type QuickAddTemplate = {\n  name: string;\n  textColor: string;\n  backgroundColor: string;\n  category: string;\n  settings: TemplateSettings;\n  openDialog?: boolean;\n};\n\nexport type TemplateStatus = \"publish\" | \"trash\";\n\nexport type EmptyStateV = {\n  itemsByStatus: number;\n  filteredItemsBySearch: number;\n  templateName:\n    | \"Template\"\n    | \"Footer\"\n    | \"Header\"\n    | \"Unsupported template\"\n    | \"Popup\"\n    | \"Global Block\";\n  showTrash: boolean;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('tr',[_c('td',[_c('div',{staticClass:\"manage-templates__title-row\"},[(_vm.mode === 'trash')?_c('span',{staticClass:\"manage-templates__title-link\"},[_vm._v(\" \"+_vm._s(_vm.value.title)+\" \"),_c('span',{staticClass:\"manage-templates__title-id\"},[_vm._v(\"#\"+_vm._s(_vm.value.id))])]):_c('a',{staticClass:\"manage-templates__title-link\",attrs:{\"target\":\"_top\",\"href\":_vm.value.editInBreakdanceLink}},[_vm._v(\" \"+_vm._s(_vm.value.title)+\" \"),_c('span',{staticClass:\"manage-templates__title-id\"},[_vm._v(\"#\"+_vm._s(_vm.value.id))])])]),_c('div',{staticClass:\"manage-templates__row-actions\"},[(_vm.mode === 'publish')?_c('a',{staticClass:\"manage-templates__btn-action\",attrs:{\"href\":_vm.value.editInBreakdanceLink,\"target\":\"_top\",\"title\":\"Edit in Breakdance\"}},[_vm._v(\" Edit in Breakdance \")]):_vm._e(),(_vm.mode === 'publish')?_c('button',{staticClass:\"manage-templates__btn-action\",attrs:{\"title\":\"Settings\"},on:{\"click\":_vm.openEditTemplateModal}},[_vm._v(\" Settings \")]):_vm._e(),(_vm.mode === 'trash')?_c('button',{staticClass:\"manage-templates__btn-action\",attrs:{\"title\":\"Restore\"},on:{\"click\":_vm.restoreTemplate}},[_vm._v(\" Restore \")]):_vm._e(),(_vm.mode === 'publish')?_c('button',{staticClass:\"manage-templates__btn-action\",attrs:{\"title\":\"Duplicate\"},on:{\"click\":_vm.duplicateTemplate}},[_vm._v(\" Duplicate \")]):_vm._e(),_c('button',{staticClass:\"manage-templates__btn-action is-danger\",attrs:{\"title\":_vm.mode === 'publish' ? 'Trash' : 'Delete permanently'},on:{\"click\":_vm.deleteTemplate}},[_vm._v(\" \"+_vm._s(_vm.mode === \"publish\" ? \"Trash\" : \"Delete permanently\")+\" \")])])]),_c('td',{staticClass:\"manage-template__applies-to\"},[(_vm.matchingQuickAddTemplate)?[_c('span',{staticClass:\"d-block\"},[_vm._v(_vm._s(_vm.matchingQuickAddTemplate.name))]),_c('ElementBadge',{staticClass:\"template-row-element-badge\",attrs:{\"value\":{\n          backgroundColor: _vm.matchingQuickAddTemplate.backgroundColor,\n          textColor: _vm.matchingQuickAddTemplate.textColor,\n          label: _vm.matchingQuickAddTemplate.category\n        }}})]:(_vm.appliesToLabel)?[_vm._v(_vm._s(_vm.appliesToLabel))]:_vm._e()],2),_c('td',[(_vm.value.settings.ruleGroups && _vm.value.settings.ruleGroups.length)?[_c('ConditionsPreviewTooltip',{attrs:{\"value\":_vm.value.settings.ruleGroups}})]:_vm._e()],2),(_vm.value.postType === 'breakdance_popup')?_c('td',{staticClass:\"manage-template__td_text\"},[_vm._v(\" \"+_vm._s(_vm.triggerLabels(_vm.value.settings.triggers))+\" \")]):_vm._e(),(_vm.value.postType !== 'breakdance_popup')?_c('td',{staticClass:\"manage-template__td_text\"},[(_vm.value.settings.priority !== undefined)?[_vm._v(\" \"+_vm._s(_vm.value.settings.priority)+\" \")]:_vm._e()],2):_vm._e(),_c('td',{staticClass:\"manage-template__td_text\"},[[_c('ToggleInput',{attrs:{\"value\":!_vm.value.settings.disabled},on:{\"input\":_vm.updateDisabled}})]],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[[_c('v-tooltip',{staticClass:\"condition-preview-tooltip-element\",attrs:{\"bottom\":\"\",\"transition\":\"0\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('span',_vm._g(_vm._b({},'span',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"CodeBranchIcon\",\"size\":\"18\"}})],1)]}}])},[_c('span',[_c('div',{staticClass:\"condition-preview-tooltip-contanier\"},[_vm._l((_vm.value),function(group,index){return [_c('div',{staticClass:\"condition-preview-tooltip\"},[(index > 0)?_c('span',{staticClass:\"condition-preview-or-separator\"},[_c('span',[_vm._v(\"OR\")])]):_vm._e(),_vm._l((group),function(rule,ruleIndex){return _c('ConditionPreviewRule',{key:ruleIndex,attrs:{\"rule\":rule,\"index\":ruleIndex}})})],2)]})],2)])])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { RuleGroup } from \"@/types/conditions\";\nimport ConditionPreviewRule from \"@/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewRule.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { ConditionPreviewRule, Icon }\n})\nexport default class ConditionsPreview extends Vue {\n  @Prop()\n  value!: RuleGroup[] | undefined;\n\n  edit(value: unknown) {\n    this.$emit(\"input\", defensiveCopy(value));\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConditionPreviewTooltip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConditionPreviewTooltip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConditionPreviewTooltip.vue?vue&type=template&id=70a29c4c&\"\nimport script from \"./ConditionPreviewTooltip.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConditionPreviewTooltip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConditionPreviewTooltip.vue?vue&type=style&index=0&id=70a29c4c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ManageTemplatesDataToLoadV,\n  SupportedPostType,\n  TemplateStatus,\n  TemplateWithValidSettings,\n  TemplateWithValidSettingsV\n} from \"../types\";\nimport * as t from \"io-ts\";\nimport { GlobalBlocksV } from \"@/types/global-blocks\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\n/**\n * if template.id refers to a template that exists, it will be updated\n * if not, it will be created\n *\n * the template as it exists on the server after saving will be returned by this function\n */\nexport async function saveTemplateToWordPress(\n  template: TemplateWithValidSettings\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_manage_templates_save\",\n    dataToPost: {\n      id: template.id,\n      title: template.title,\n      postType: template.postType,\n      settings: fpJsonStringify(template.settings)\n    },\n    decoder: TemplateWithValidSettingsV,\n    resultKey: \"data\",\n    friendlyName: \"Save template\"\n  });\n}\n\nexport async function duplicateTemplateToWordPress(\n  template: TemplateWithValidSettings\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_manage_templates_duplicate\",\n    dataToPost: {\n      originalId: template.id,\n      title: template.title,\n      postType: template.postType,\n      settings: fpJsonStringify(template.settings)\n    },\n    decoder: TemplateWithValidSettingsV,\n    resultKey: \"data\",\n    friendlyName: \"Duplicate template\"\n  });\n}\n\nexport async function getAllTemplatesAndNeededDataFromWordPress(\n  postType: SupportedPostType\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_manage_templates_load_data\",\n    dataToPost: {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      post_type: postType\n    },\n    decoder: ManageTemplatesDataToLoadV,\n    resultKey: \"data\",\n    friendlyName: \"Get templates data\"\n  });\n}\n\nexport async function getAllGlobalBlocksFromWordPress() {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_manage_global_blocks\",\n    decoder: GlobalBlocksV,\n    resultKey: \"data\",\n    friendlyName: \"Get global blocks data\"\n  });\n}\n\nexport async function deleteTemplateFromWordPress(\n  title: string,\n  id: number,\n  status: TemplateStatus | undefined\n) {\n  if (\n    !confirm(\n      `${\n        status === \"publish\" ? \"Moving to trash\" : \"Permanently deleting\"\n      } \"${title}\". Are you sure?`\n    )\n  )\n    return undefined;\n\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_manage_templates_delete\",\n      dataToPost: {\n        id,\n        trashOrDelete: status === \"trash\" ? \"delete\" : \"trash\"\n      },\n      decoder: t.literal(\"success\"),\n      resultKey: \"data\",\n      friendlyName: `Deleting \"${title}\"`\n    }),\n    fold(\n      () => {\n        NotificationLogger.log.message(`Failed to delete \"${title}\"`);\n        return undefined;\n      },\n      () => {\n        return id;\n      }\n    )\n  );\n}\n\nexport async function restoreTemplateFromWordPress(title: string, id: number) {\n  if (!confirm(`Restoring \"${title}\". Are you sure?`)) return undefined;\n\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_manage_templates_restore\",\n      dataToPost: {\n        id\n      },\n      decoder: t.literal(\"success\"),\n      resultKey: \"data\",\n      friendlyName: `Restoring ${title}`\n    }),\n    fold(\n      () => {\n        NotificationLogger.log.message(`Failed to restore \"${title}\"`);\n        return undefined;\n      },\n      () => {\n        return id;\n      }\n    )\n  );\n}\n\nexport async function emptyTrashForPostType(postType: SupportedPostType) {\n  if (!confirm(\"Delete all trash permanently?\")) return false;\n\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_manage_templates_empty_trash\",\n      dataToPost: {\n        postType: postType\n      },\n      decoder: t.literal(\"success\"),\n      resultKey: \"data\",\n      friendlyName: `Emptying trash for ${postType}`\n    }),\n    fold(\n      () => {\n        return false;\n      },\n      () => {\n        return true;\n      }\n    )\n  );\n}\n","import { QuickAddTemplate } from \"@/subapps/manage-templates/types\";\nimport color from \"@/sass/modules/color.module.scss\";\n\nexport const QUICK_ADD_TEMPLATES: QuickAddTemplate[] = [\n  {\n    name: \"Single Product\",\n    category: \"Woo\",\n    textColor: \"var(--brandWooCommerce)\",\n    backgroundColor: \"var(--brandWooCommerceBackground)\",\n    settings: {\n      type: \"product\",\n      ruleGroups: [],\n      priority: 20\n    }\n  },\n  {\n    name: \"Shop Page & All Product Archives\",\n    category: \"Woo\",\n    textColor: \"var(--brandWooCommerce)\",\n    backgroundColor: \"var(--brandWooCommerceBackground)\",\n    settings: {\n      type: \"all-product-archives\",\n      ruleGroups: [],\n      priority: 10\n    }\n  },\n  {\n    name: \"Specific Product Archive\",\n    category: \"Woo\",\n    textColor: \"var(--brandWooCommerce)\",\n    backgroundColor: \"var(--brandWooCommerceBackground)\",\n    settings: {\n      type: \"specific-product-archive\",\n      ruleGroups: [\n        [\n          {\n            ruleSlug: \"product-is-taxonomy\",\n            operand: \"is\",\n            value: []\n          }\n        ]\n      ],\n      priority: 20\n    },\n    openDialog: true\n  },\n  {\n    name: \"Single Post\",\n    category: \"Blog\",\n    textColor: \"var(--brandWordPress)\",\n    backgroundColor: \"var(--brandWordPressBackground)\",\n    settings: {\n      type: \"post\",\n      ruleGroups: [],\n      priority: 20\n    }\n  },\n  {\n    name: \"Post Archive\",\n    category: \"Blog\",\n    textColor: \"var(--brandWordPress)\",\n    backgroundColor: \"var(--brandWordPressBackground)\",\n    settings: {\n      type: \"post-archives\",\n      ruleGroups: [],\n      priority: 10\n    }\n  },\n  {\n    name: \"404 Not Found\",\n    category: \"Other\",\n    textColor: color.green800_light,\n    backgroundColor: color.green100_light,\n    settings: {\n      type: \"404\",\n      ruleGroups: []\n    }\n  },\n  {\n    name: \"Search Results\",\n    textColor: color.green800_light,\n    backgroundColor: color.green100_light,\n    category: \"Other\",\n    settings: {\n      type: \"search\",\n      ruleGroups: []\n    }\n  }\n];\n","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  TemplateParents,\n  TemplateTypeCategories,\n  TemplateWithValidSettings\n} from \"./types\";\nimport ConditionsPreviewTooltip from \"@/components/Reusable/CustomInputs/ConditionInput/ConditionPreviewTooltip.vue\";\nimport {\n  deleteTemplateFromWordPress,\n  restoreTemplateFromWordPress\n} from \"./lib/api\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { QUICK_ADD_TEMPLATES } from \"@/subapps/manage-templates/lib/quick-add-templates\";\nimport ElementBadge from \"@/components/ElementPropertiesPanel/ElementBadge.vue\";\nimport { Trigger } from \"@/types/conditions\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {\n    ToggleInput,\n    Icon,\n    ConditionsPreviewTooltip,\n    ElementBadge\n  }\n})\nexport default class TemplateRow extends Vue {\n  @Prop()\n  value!: TemplateWithValidSettings;\n\n  @Prop()\n  templateTypeCategories!: TemplateTypeCategories;\n\n  @Prop()\n  templateParents!: TemplateParents;\n\n  openEditTemplateModal() {\n    if (this.mode === \"trash\") {\n      return;\n    }\n\n    this.$emit(\"input\", \"edit\", this.value);\n  }\n\n  get mode() {\n    return this.value.status;\n  }\n\n  get appliesToLabel() {\n    const templateType = this.value.settings.type;\n    let templateTypeLabel = \"\";\n\n    this.templateTypeCategories.some(templateTypeCategory => {\n      const currentTemplateType = templateTypeCategory.types.find(\n        type => type.slug === templateType\n      );\n\n      if (currentTemplateType) {\n        templateTypeLabel = currentTemplateType.label;\n\n        return true;\n      }\n\n      return false;\n    });\n\n    return templateTypeLabel;\n  }\n\n  deleteInProgress = false;\n\n  async deleteTemplate() {\n    this.deleteInProgress = true;\n\n    const response = await deleteTemplateFromWordPress(\n      this.value.title,\n      this.value.id,\n      this.value.status\n    );\n\n    if (response) {\n      this.$emit(\n        this.value.status === \"publish\" ? \"trash\" : \"delete\",\n        response\n      );\n    }\n\n    this.deleteInProgress = false;\n  }\n\n  restoreInProgress = false;\n\n  async restoreTemplate() {\n    this.restoreInProgress = true;\n\n    const response = await restoreTemplateFromWordPress(\n      this.value.title,\n      this.value.id\n    );\n\n    if (response) this.$emit(\"restore\", response);\n\n    this.restoreInProgress = false;\n  }\n\n  duplicateTemplate() {\n    const duplicatedTemplate = defensiveCopy(this.value);\n\n    duplicatedTemplate.title = `Copy of \"${duplicatedTemplate.title}\"`;\n    duplicatedTemplate.settings.disabled = true;\n\n    this.$emit(\"duplicate\", duplicatedTemplate);\n  }\n\n  get matchingQuickAddTemplate() {\n    return QUICK_ADD_TEMPLATES.find(\n      quickAddTemplate =>\n        quickAddTemplate.settings.type === this.value.settings.type\n    );\n  }\n\n  triggerLabels(triggers: Trigger[]) {\n    return triggers\n      .map(trigger => {\n        return trigger.slug;\n      })\n      .join(\", \");\n  }\n\n  updateDisabled(enabled: boolean) {\n    const newTemplate = defensiveCopy(this.value);\n\n    newTemplate.settings.disabled = !enabled;\n\n    this.$emit(\"update\", newTemplate);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TemplateRow.vue?vue&type=template&id=3d230cfe&\"\nimport script from \"./TemplateRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./TemplateRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TemplateRow.vue?vue&type=style&index=0&id=3d230cfe&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"breakdance-wp-admin-templating-button\",attrs:{\"elevation\":\"0\",\"outlined\":\"\",\"loading\":_vm.quickAddInProgress}},on),[_vm._v(\" Add Template \")])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',[_c('v-list',{attrs:{\"dense\":\"\",\"width\":\"350\"}},[_vm._l((_vm.quickAddTemplates),function(quickAddTemplate){return _c('v-list-item',{key:quickAddTemplate.name,on:{\"click\":function($event){return _vm.quickAdd(quickAddTemplate)}}},[_c('v-list-item-title',{staticClass:\"quick-add-item\"},[_vm._v(\" \"+_vm._s(quickAddTemplate.name)+\" \"),_c('ElementBadge',{attrs:{\"value\":{\n                backgroundColor: quickAddTemplate.backgroundColor,\n                textColor: quickAddTemplate.textColor,\n                label: quickAddTemplate.category\n              }}})],1)],1)}),_c('v-list-item',{staticClass:\"add-custom-template-wrapper\"},[_c('v-list-item-title',{staticClass:\"add-custom-template-wrapper-title\"},[_c('v-btn',{staticClass:\"breakdance-wp-admin-templating-button\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$emit('blankModal')}}},[_vm._v(\"Add Custom Template\")])],1)],1)],2)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  Template,\n  TemplateSettings,\n  TemplateStatus\n} from \"@/subapps/manage-templates/types\";\nimport isEqual from \"lodash/isEqual\";\n\ninterface WithIdAndStatus {\n  id: number;\n  status?: TemplateStatus;\n}\n\nexport function saveNewTemplate<T extends WithIdAndStatus>(\n  newTemplate: T,\n  templates: T[]\n) {\n  const templateIndex = templates.findIndex(t => t.id === newTemplate.id);\n\n  const newTemplates = defensiveCopy(templates);\n\n  if (templateIndex !== -1) {\n    newTemplates[templateIndex] = defensiveCopy(newTemplate);\n  } else {\n    newTemplates.unshift(defensiveCopy(newTemplate));\n  }\n\n  return newTemplates;\n}\n\nexport function deleteTemplate<T extends WithIdAndStatus>(\n  idToDelete: number,\n  templates: T[]\n) {\n  const templateIndex = templates.findIndex(\n    t => \"id\" in t && t.id === idToDelete\n  );\n\n  const newTemplates = defensiveCopy(templates);\n\n  if (templateIndex !== -1) {\n    newTemplates.splice(templateIndex, 1);\n  }\n\n  return newTemplates;\n}\n\nexport function changeTemplateStatus<T extends WithIdAndStatus>(\n  idToDelete: number,\n  templates: T[],\n  status: TemplateStatus\n) {\n  const templateIndex = templates.findIndex(\n    t => \"id\" in t && t.id === idToDelete\n  );\n\n  const newTemplates = defensiveCopy(templates);\n\n  if (templateIndex !== -1) {\n    newTemplates[templateIndex].status = status;\n  }\n\n  return newTemplates;\n}\n\nexport function deleteAllTrash<T extends WithIdAndStatus>(templates: T[]) {\n  return defensiveCopy(templates).filter(t => t.status !== \"trash\");\n}\n\nexport function checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue(\n  templates: Template[],\n  templateSettings: TemplateSettings,\n  templateName: string\n) {\n  const templateSettingsAlreadyExists = templates.find(t =>\n    isEqual(t.settings, templateSettings)\n  );\n\n  return templateSettingsAlreadyExists\n    ? confirm(\n        `You already have a ${templateName} with the same settings called \"${templateSettingsAlreadyExists.title}\". Continue anyway?`\n      )\n    : true;\n}\n","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { QuickAddTemplate, Template, TemplateWithValidSettings } from \"./types\";\nimport { saveTemplateToWordPress } from \"./lib/api\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { QUICK_ADD_TEMPLATES } from \"@/subapps/manage-templates/lib/quick-add-templates\";\nimport { checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue } from \"@/subapps/manage-templates/lib/utils\";\nimport ElementBadge from \"@/components/ElementPropertiesPanel/ElementBadge.vue\";\n\n@Component({\n  components: { Dropdown, ElementBadge }\n})\nexport default class AddTemplateDropdown extends Vue {\n  @Prop()\n  templateName!: string;\n\n  @Prop()\n  isWooCommerceActive!: boolean;\n\n  @Prop()\n  templates!: Template[];\n\n  open = false;\n  quickAddInProgress = false;\n\n  get quickAddTemplates() {\n    return this.isWooCommerceActive\n      ? QUICK_ADD_TEMPLATES\n      : QUICK_ADD_TEMPLATES.filter(\n          template => template.category.toLowerCase() !== \"woocommerce\"\n        );\n  }\n\n  async quickAdd(quickAddTemplate: QuickAddTemplate) {\n    const templateToAdd: TemplateWithValidSettings = {\n      // -1 = new post in wp\n      id: -1,\n      title: quickAddTemplate.name,\n      editInBreakdanceLink: \"\",\n      postType: \"breakdance_template\",\n      settings: quickAddTemplate.settings,\n      status: \"publish\"\n    };\n\n    if (\n      !checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue(\n        this.templates,\n        quickAddTemplate.settings,\n        \"template\"\n      )\n    ) {\n      return;\n    }\n\n    if (quickAddTemplate.openDialog) {\n      this.$emit(\"modalWithSettings\", templateToAdd);\n\n      return;\n    }\n\n    this.quickAddInProgress = true;\n\n    pipe(\n      await saveTemplateToWordPress(templateToAdd),\n      fold(\n        () => {\n          NotificationLogger.log.message(\n            `The new ${this.templateName} couldn't be saved`\n          );\n        },\n        savedTemplate => {\n          this.$emit(\"input\", savedTemplate);\n        }\n      )\n    );\n\n    this.quickAddInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddTemplateDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddTemplateDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddTemplateDropdown.vue?vue&type=template&id=545e61b8&\"\nimport script from \"./AddTemplateDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddTemplateDropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddTemplateDropdown.vue?vue&type=style&index=0&id=545e61b8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"750\",\"persistent\":_vm.hasUnsavedChanges,\"scrollable\":true,\"transition\":false},on:{\"input\":_vm.closeDialog}},[(_vm.skipWarning)?[_c('v-card',{staticClass:\"template-settings-modal-content\",attrs:{\"width\":\"750\",\"tile\":\"\",\"flat\":\"\"}},[_c('v-card-title',{staticClass:\"edit-template-modal-titlebar\"},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.mode === \"add\" ? `Add ${_vm.templateName}` : `Editing \"${_vm.internalValue.title}\"`)+\" \")]),_c('v-spacer')],1),_c('v-card-text',[_c('div',{staticClass:\"mt-4 d-flex flex-column\"},[_c('FreeModeAlertForConditionsUsed',{attrs:{\"value\":_vm.internalValue.settings.ruleGroups,\"available-conditions\":_vm.availableConditions}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('TextInput',{staticClass:\"template-modal-not-so-wide\",attrs:{\"value\":_vm.internalValue.title,\"placeholder\":`New ${_vm.templateName}`,\"size\":\"md\",\"label\":\"Title\"},on:{\"input\":_vm.setTemplateTitle}}),(_vm.titleError)?_c('div',{staticClass:\"bde-templates_field-error\"},[_vm._v(\" \"+_vm._s(_vm.titleError)+\" \")]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Location\")]),_c('DropdownInput',{staticClass:\"breakdance-dense-select--md template-modal-not-so-wide\",attrs:{\"placeholder\":`Apply ${_vm.templateName} to...`,\"items\":_vm.templateTypesDropdownInVuetifyShape,\"value\":_vm.internalValue.settings.type},on:{\"input\":_vm.setTemplateType},scopedSlots:_vm._u([{key:\"selection\",fn:function({ item }){return [_c('div',{staticClass:\"v-select__selection v-select__selection--comma\"},[_vm._v(\" \"+_vm._s(item.category)+\" / \"+_vm._s(item.text)+\" \")])]}}],null,false,1945710855)}),(_vm.locationError)?_c('div',{staticClass:\"bde-templates_field-error\"},[_vm._v(\" \"+_vm._s(_vm.locationError)+\" \")]):_vm._e()],1)],1),_c('label',{staticClass:\"mt-6 breakdance-text-input__label\"},[_vm._v(\"Conditions\")]),_c('ConditionsMatrix',{attrs:{\"value\":_vm.internalValue.settings.ruleGroups || [],\"availableConditions\":_vm.availableConditions,\"templateType\":_vm.internalValue.settings.type},on:{\"input\":function($event){return _vm.updateRuleGroups($event)}}})],1),(_vm.postType === 'breakdance_popup')?_c('div',[_c('label',{staticClass:\"mt-6 breakdance-text-input__label\"},[_vm._v(\"Popup Opens When\")]),_c('TriggersMatrix',{attrs:{\"value\":_vm.internalValue.settings.triggers || [],\"triggers\":_vm.templatesManagementData.popupTriggers,\"disable-trigger-limits\":_vm.internalValue.settings.onlyShowOnce},on:{\"input\":function($event){return _vm.updateTriggers($event)}}}),_c('FreeModeAlertForPopupTriggers',{attrs:{\"value\":_vm.internalValue.settings.triggers || [],\"triggers\":_vm.templatesManagementData.popupTriggers}}),_c('label',{staticClass:\"d-flex mt-6 breakdance-text-input__label\"},[_vm._v(\"Limit how often this popup shows\")]),_c('ToggleInput',{attrs:{\"value\":_vm.hasOnlyShow},on:{\"input\":_vm.toggleOnlyShow}}),(_vm.hasOnlyShow)?_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"flex-grow-1 template-rule-input-row\"},[_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Per Page Load\")]),_c('NumberInput',{attrs:{\"value\":_vm.internalValue.settings.limitPageLoad},on:{\"input\":_vm.setLimitPageLoad}})],1),_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Per Session\")]),_c('NumberInput',{attrs:{\"value\":_vm.internalValue.settings.limitSession},on:{\"input\":_vm.setLimitSession}})],1),_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Forever\")]),_c('NumberInput',{attrs:{\"value\":_vm.internalValue.settings.limitForever},on:{\"input\":_vm.setLimitForever}})],1)])]):_vm._e(),_c('label',{staticClass:\"d-flex mt-3 breakdance-text-input__label\"},[_vm._v(\"Do not show this popup if any other popup has already shown\")]),_c('ToggleInput',{attrs:{\"value\":_vm.internalValue.settings.avoidMultiple},on:{\"input\":_vm.setAvoidMultiple}})],1):_vm._e(),(_vm.postType !== 'breakdance_popup')?_c('v-row',{staticClass:\"mb-3\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"breakdance-text-input__label mt-6\",staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\" Priority \")]),_c('NumberInput',{staticClass:\"breakdance-simple-number-input--md template-priority-input\",attrs:{\"value\":_vm.internalValue.settings.priority},on:{\"input\":_vm.setTemplatePriority}}),(_vm.priorityError)?_c('div',{staticClass:\"bde-templates_field-error\"},[_vm._v(\" \"+_vm._s(_vm.priorityError)+\" \")]):_vm._e()],1),(_vm.hasPermissionToManageFallbacks)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"breakdance-text-input__label\",staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\" Fallback \")]),_c('v-switch',{attrs:{\"input-value\":_vm.internalValue.settings.fallback},on:{\"change\":_vm.setFallback}})],1):_vm._e()],1):_vm._e()],1),_c('v-card-actions',{staticClass:\"edit-template-modal-actions\"},[_c('v-row',[_c('v-col',{staticClass:\"text-left\"},[(_vm.hasUnsavedChanges)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]):_vm._e()],1),_c('v-col',{staticClass:\"text-right\"},[_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"elevation\":\"0\",\"loading\":_vm.saveInProgress,\"disabled\":_vm.isThereAnError},on:{\"click\":_vm.saveTemplate}},[(_vm.mode === 'edit')?[_vm._v(\"Save\")]:[_vm._v(\"Add \"+_vm._s(_vm.templateName))]],2)],1)],1)],1)],1)]:[_c('v-card',{staticClass:\"breakdance-dialog\",attrs:{\"width\":\"400\",\"tile\":\"\",\"flat\":\"\"}},[(_vm.mode === 'add')?[_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._v(\" Add Custom Template \")]),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_vm._v(\" Please read the documentation before creating custom templates. \")])]:_vm._e(),(_vm.mode === 'edit')?[_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._v(\" Advanced Template Settings \")]),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_vm._v(\" Please read the documentation before making customizations to template settings. \")])]:_vm._e(),_c('v-card-actions',{staticClass:\"breakdance-dialog-actions\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"medium\":\"\"},on:{\"click\":_vm.acknowledgeWarning}},[_vm._v(\" Continue \")])],1)],2)]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"trigger-matrix\"},[_vm._l((_vm.value),function(trigger,i){return _c('div',{key:i,staticClass:\"template-rule-group-wrapper\"},[(i > 0)?_c('span',{staticClass:\"template-rule-group-or\"},[_c('span',[_vm._v(\"OR\")])]):_vm._e(),_c('TriggerInput',{attrs:{\"value\":trigger,\"triggers\":_vm.triggers,\"disable-limit\":_vm.disableTriggerLimits},on:{\"input\":function($event){return _vm.updateTrigger($event, i)},\"delete\":function($event){return _vm.deleteTrigger(i)}}})],1)}),_c('NiceButton',{staticClass:\"breakdance-condition-matrix__add-condition\",attrs:{\"outlined\":\"\",\"text\":\"\",\"data-test-id\":\"add-condition-button\",\"left-icon\":\"PlusIcon\"},on:{\"click\":_vm.addTrigger}},[_vm._v(\" Add Trigger \")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"template-rule-group-condition\"},[_c('div',{staticClass:\"template-rule-input-row flex-grow-1\"},[_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Trigger on\")]),_c('DropdownInput',{attrs:{\"placeholder\":\"Choose trigger...\",\"items\":_vm.availableTriggersForDropdown,\"value\":_vm.value.slug},on:{\"input\":_vm.setValue}})],1),(_vm.value.slug === 'scroll')?_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Scrolls to\")]),_c('DropdownInput',{attrs:{\"items\":_vm.scrollTypeOptions,\"value\":_vm.scrollTypeValue},on:{\"input\":_vm.setScrollType}})],1):_vm._e(),(_vm.value.slug === 'click')?_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Click target\")]),_c('DropdownInput',{attrs:{\"items\":_vm.clickTypeOptions,\"value\":_vm.clickTypeValue},on:{\"input\":_vm.setClickType}})],1):_vm._e(),(_vm.hasDelayOption)?_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(_vm._s(_vm.delayLabel))]),_c('NumberInput',{attrs:{\"value\":_vm.delayValue},on:{\"input\":_vm.setDelay}})],1):_vm._e(),(_vm.hasPercentOption)?_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Percent\")]),_c('NumberInput',{attrs:{\"value\":_vm.value.options.percent},on:{\"input\":_vm.setPercent}})],1):_vm._e(),(_vm.hasSelectorOption)?_c('div',[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Selector\")]),_c('TextInput',{attrs:{\"placeholder\":\"#elementId\",\"value\":_vm.value.options.selector},on:{\"input\":_vm.setSelector}})],1):_vm._e()]),_c('div',{staticClass:\"d-flex\"},[_c('IconButton',{staticClass:\"template-rule-group-delete mt-6\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":function($event){return _vm.$emit('delete')}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { Trigger } from \"@/types/conditions\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DynamicDataFieldText from \"@/components/Reusable/ControlsTree/DynamicData/DynamicDataFieldText.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport NumberInput from \"@/components/Reusable/CustomInputs/NumberInput.vue\";\nimport { appendProToLabelInFreeMode } from \"@/lib/subscriptions/free-mode\";\nimport { PopupTriggers } from \"@/subapps/manage-templates/types\";\n\n@Component({\n  components: {\n    NumberInput,\n    Icon,\n    CodeInput,\n    DynamicDataFieldText,\n    TextInput,\n    DropdownInput,\n    IconButton\n  }\n})\nexport default class TriggerInput extends Vue {\n  @Prop()\n  value!: Trigger;\n\n  @Prop()\n  triggers!: PopupTriggers[];\n\n  @Prop({ default: false })\n  disableLimit!: boolean;\n\n  get availableTriggersForDropdown(): {\n    text: string;\n    value: string;\n  }[] {\n    return this.triggers.map(trigger => ({\n      text: trigger.proOnly\n        ? appendProToLabelInFreeMode(trigger.text)\n        : trigger.text,\n      value: trigger.value\n    }));\n  }\n\n  setValue(value: string | undefined | null) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.slug = value ?? undefined;\n    this.update(newTrigger);\n  }\n\n  setDelay(value: number | undefined | null) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.options = {\n      ...newTrigger.options,\n      ...{ delay: value ?? undefined }\n    };\n    this.update(newTrigger);\n  }\n\n  setPercent(value: number | undefined | null) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.options = {\n      ...newTrigger.options,\n      ...{ percent: value ?? undefined }\n    };\n    this.update(newTrigger);\n  }\n\n  setSelector(value: string | undefined | null) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.options = {\n      ...newTrigger.options,\n      ...{ selector: value ?? undefined }\n    };\n    this.update(newTrigger);\n  }\n\n  setScrollType(value: string) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.options = { ...newTrigger.options, ...{ scrollType: value } };\n    this.update(newTrigger);\n  }\n\n  get scrollTypeOptions() {\n    return [\n      { text: \"Percent\", value: \"percent\" },\n      { text: \"Selector\", value: \"selector\" }\n    ];\n  }\n\n  get scrollTypeValue() {\n    return this.value?.options?.scrollType ?? null;\n  }\n\n  setClickType(value: string) {\n    const newTrigger = defensiveCopy(this.value);\n    newTrigger.options = { ...newTrigger.options, ...{ clickType: value } };\n    this.update(newTrigger);\n  }\n\n  get clickTypeOptions() {\n    return [\n      { text: \"Anywhere\", value: \"anywhere\" },\n      { text: \"Selector\", value: \"selector\" }\n    ];\n  }\n\n  get clickTypeValue() {\n    return this.value?.options?.clickType ?? null;\n  }\n\n  get delayValue() {\n    return this.value?.options?.delay ?? null;\n  }\n\n  get delayLabel() {\n    if (this.value.slug === \"inactivity\") {\n      return \"Inactivity length (seconds)\";\n    }\n    return \"Show after (seconds)\";\n  }\n\n  get hasPercentOption() {\n    return (\n      this.value.slug === \"scroll\" &&\n      this.value.options?.scrollType === \"percent\"\n    );\n  }\n\n  get hasDelayOption() {\n    return this.value.slug === \"load\" || this.value.slug === \"inactivity\";\n  }\n\n  get hasSelectorOption() {\n    return (\n      (this.value.slug === \"scroll\" &&\n        this.value.options?.scrollType === \"selector\") ||\n      (this.value.slug === \"click\" &&\n        this.value.options?.clickType === \"selector\")\n    );\n  }\n\n  update(newTrigger: Trigger) {\n    this.$emit(\"input\", newTrigger);\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TriggerInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TriggerInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TriggerInput.vue?vue&type=template&id=53e75982&\"\nimport script from \"./TriggerInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./TriggerInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { Trigger } from \"@/types/conditions\";\nimport DynamicDataFields from \"@/components/Reusable/ControlsTree/DynamicData/DynamicDataFields.vue\";\nimport DynamicDataDialog from \"@/components/Reusable/ControlsTree/DynamicData/DynamicDataDialog.vue\";\nimport TemplateRuleGroupInput from \"@/components/Reusable/CustomInputs/Conditions/TemplateRuleGroupInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport TriggerInput from \"@/components/Reusable/CustomInputs/Triggers/TriggerInput.vue\";\nimport { PopupTriggers } from \"@/subapps/manage-templates/types\";\n\n@Component({\n  components: {\n    TriggerInput,\n    NiceButton,\n    Icon,\n    DynamicDataFields,\n    DynamicDataDialog,\n    TemplateRuleGroupInput\n  }\n})\nexport default class TriggersMatrix extends Vue {\n  @Prop()\n  value!: Trigger[];\n\n  @Prop()\n  triggers!: PopupTriggers[];\n\n  @Prop({ default: false })\n  disableTriggerLimits!: boolean;\n\n  addTrigger() {\n    const newTriggers = defensiveCopy(this.value);\n    newTriggers.push({});\n\n    this.$emit(\"input\", newTriggers);\n  }\n\n  deleteTrigger(groupIndex: number) {\n    const newRuleGroups = defensiveCopy(this.value);\n    newRuleGroups.splice(groupIndex, 1);\n\n    this.$emit(\"input\", newRuleGroups);\n  }\n\n  updateTrigger(newTrigger: Trigger, triggerIndex: number) {\n    const newTriggers = defensiveCopy(this.value);\n    newTriggers[triggerIndex] = newTrigger;\n\n    this.$emit(\"input\", newTriggers);\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TriggersMatrix.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TriggersMatrix.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TriggersMatrix.vue?vue&type=template&id=018ad530&\"\nimport script from \"./TriggersMatrix.vue?vue&type=script&lang=ts&\"\nexport * from \"./TriggersMatrix.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.areProTriggersUsed)?_c('ProOnlyAlertBox',{staticClass:\"mb-5 mt-6\",attrs:{\"options\":{\n    feature: 'popups',\n    content: `Get Breakdance Pro to get access to all popup triggers.`\n  }}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { areProPopupTriggersUsed } from \"@/lib/subscriptions/free-mode\";\nimport { Trigger } from \"@/types/conditions\";\nimport ProOnlyAlertBox from \"@/components/Subscription/ProOnlyAlertBox.vue\";\nimport { PopupTriggers } from \"@/subapps/manage-templates/types\";\n@Component({\n  components: { ProOnlyAlertBox }\n})\nexport default class FreeModeAlertForPopupTriggers extends Vue {\n  @Prop()\n  value!: Trigger[];\n\n  @Prop()\n  triggers!: PopupTriggers[];\n\n  get areProTriggersUsed() {\n    return areProPopupTriggersUsed(this.value, this.triggers);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FreeModeAlertForPopupTriggers.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FreeModeAlertForPopupTriggers.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FreeModeAlertForPopupTriggers.vue?vue&type=template&id=4176c79c&\"\nimport script from \"./FreeModeAlertForPopupTriggers.vue?vue&type=script&lang=ts&\"\nexport * from \"./FreeModeAlertForPopupTriggers.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport {\n  Condition,\n  RuleGroup,\n  Trigger,\n  VuetifyShapeForSelect\n} from \"@/types/conditions\";\nimport {\n  TemplateSettings,\n  TemplatesManagementData,\n  TemplateWithValidSettings,\n  TemplateParents,\n  SupportedPostType,\n  Template\n} from \"./types\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ConditionsMatrix from \"@/components/Reusable/CustomInputs/Conditions/ConditionsMatrix.vue\";\nimport {\n  getConditionsThatApplyToTemplateTypes,\n  getConditionsThatAreAvailableForTemplateType,\n  removeEmptyRulesFromRuleGroup\n} from \"@/lib/conditions/conditions\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport NumberInput from \"@/components/Reusable/CustomInputs/NumberInput.vue\";\nimport lodash from \"lodash\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport { saveTemplateToWordPress } from \"./lib/api\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { centerDialogInScreen } from \"@/subapps/manage-templates/lib/modal-position\";\nimport { checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue } from \"@/subapps/manage-templates/lib/utils\";\nimport isEqual from \"lodash/isEqual\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport TriggersMatrix from \"@/components/Reusable/CustomInputs/Triggers/TriggersMatrix.vue\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport FreeModeAlertForConditionsUsed from \"@/components/Subscription/FreeModeAlertForConditionsUsed.vue\";\nimport FreeModeAlertForPopupTriggers from \"@/components/Subscription/FreeModeAlertForPopupTriggers.vue\";\n\n@Component({\n  components: {\n    FreeModeAlertForConditionsUsed,\n    FreeModeAlertForPopupTriggers,\n    ToggleInput,\n    TriggersMatrix,\n    Icon,\n    NumberInput,\n    TextInput,\n    DropdownInput,\n    ConditionsMatrix,\n    Dialog\n  }\n})\nexport default class EditTemplateModal extends Vue {\n  @Prop()\n  value!: TemplateWithValidSettings;\n\n  @Prop()\n  postType!: SupportedPostType;\n\n  @Prop()\n  mode!: \"add\" | \"edit\";\n\n  @Prop()\n  templatesManagementData!: TemplatesManagementData;\n\n  @Prop()\n  templateParents!: TemplateParents;\n\n  @Prop()\n  templates!: Template[];\n\n  @Prop()\n  skipWarning!: boolean;\n\n  @Prop()\n  hasPermissionToManageFallbacks!: boolean;\n\n  internalValue: TemplateWithValidSettings = defensiveCopy(this.value);\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  editingAdvancedSettings = false;\n\n  acknowledgeWarning() {\n    this.$emit(\"skipWarning\", true);\n  }\n\n  beforeMount() {\n    if (this.value.postType !== \"breakdance_template\") {\n      this.acknowledgeWarning();\n    }\n  }\n\n  mounted() {\n    centerDialogInScreen();\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => this.hasUnsavedChanges\n    );\n  }\n\n  get templateName() {\n    if (this.postType === \"breakdance_template\") return \"template\";\n    if (this.postType === \"breakdance_footer\") return \"footer\";\n    if (this.postType === \"breakdance_header\") return \"header\";\n    if (this.postType === \"breakdance_popup\") return \"popup\";\n\n    return \"Unsupported template\";\n  }\n\n  get templateTypesDropdownInVuetifyShape(): VuetifyShapeForSelect[] {\n    const vuetifyShape: VuetifyShapeForSelect[] = [];\n\n    this.templatesManagementData.templateTypeCategories.forEach(\n      templateTypeCategory => {\n        vuetifyShape.push({ header: templateTypeCategory.label });\n\n        vuetifyShape.push(\n          ...templateTypeCategory.types.map(templateType => {\n            return {\n              category: templateTypeCategory.label,\n              text: templateType.label,\n              value: templateType.slug\n            };\n          })\n        );\n\n        vuetifyShape.push({ divider: true });\n      }\n    );\n\n    vuetifyShape.pop();\n\n    return vuetifyShape;\n  }\n\n  get selectedLocationCategory() {\n    return this.templatesManagementData.templateTypeCategories.find(\n      templateTypeCategory =>\n        templateTypeCategory.types.find(\n          type => type.slug === this.internalValue.settings.type\n        )\n    );\n  }\n\n  get categoryLabelForSelectedLocation() {\n    return this.selectedLocationCategory?.label;\n  }\n\n  get labelForSelectedLocation() {\n    return (\n      this.selectedLocationCategory?.types.find(\n        type => type.slug === this.internalValue.settings.type\n      )?.label || this.internalValue.settings.type\n    );\n  }\n\n  get labelForInheritingParent() {\n    return (\n      this.templateParents.find(\n        parent => parent.value === this.internalValue.settings.parentId\n      )?.text || `Parent with ID: ${this.internalValue.settings.parentId}`\n    );\n  }\n\n  get availableConditions(): Condition[] {\n    const availableConditions = getConditionsThatAreAvailableForTemplateType(\n      this.templatesManagementData.conditions,\n      this.internalValue.settings.type\n    );\n\n    if (this.internalValue.settings.type) {\n      return getConditionsThatApplyToTemplateTypes(availableConditions, [\n        this.internalValue.settings.type\n      ]).filter(condition => condition.supports.includes(\"templating\"));\n    }\n\n    return availableConditions.filter(condition =>\n      condition.supports.includes(\"templating\")\n    );\n  }\n\n  get templateParentsExcludingCurrentTemplate() {\n    const templatesExcludingSelf = this.templateParents.filter(\n      parent => this.value.id !== parent.value\n    );\n\n    if (\n      this.inheritedTemplateNoLongerExists &&\n      this.internalValue.settings.parentId\n    ) {\n      templatesExcludingSelf.unshift({\n        text: `Selected template with ID: ${this.internalValue.settings.parentId} no longer exists.`,\n        value: this.internalValue.settings.parentId\n      });\n    }\n\n    return templatesExcludingSelf;\n  }\n\n  get inheritedTemplateNoLongerExists() {\n    if (!this.internalValue.settings.parentId) return false;\n\n    return !this.templateParents.find(\n      template => template.value === this.internalValue.settings.parentId\n    );\n  }\n\n  get inheritanceUiEnabled() {\n    return this.postType === \"breakdance_template\";\n  }\n\n  setTemplateTitle(newTitle: string | null) {\n    this.internalValue = {\n      ...this.internalValue,\n      title: newTitle || \"\"\n    };\n  }\n\n  updateTemplateSettings(newTemplateSettings: TemplateSettings) {\n    this.internalValue.settings = defensiveCopy(newTemplateSettings);\n  }\n\n  saveInProgress = false;\n  attemptedToSave = false;\n\n  async saveTemplate() {\n    this.attemptedToSave = true;\n\n    if (this.isThereAnError) return;\n\n    const cleanTemplate = defensiveCopy(this.internalValue);\n\n    if (!cleanTemplate.settings.priority) {\n      cleanTemplate.settings.priority = 1;\n    }\n\n    const settingsChanged = !isEqual(\n      this.value.settings,\n      cleanTemplate.settings\n    );\n\n    if (\n      settingsChanged &&\n      !checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue(\n        this.templates,\n        cleanTemplate.settings,\n        this.templateName\n      )\n    ) {\n      return;\n    }\n\n    this.saveInProgress = true;\n\n    cleanTemplate.settings.ruleGroups =\n      (cleanTemplate.settings.ruleGroups &&\n        removeEmptyRulesFromRuleGroup(cleanTemplate.settings.ruleGroups)) ||\n      [];\n    cleanTemplate.settings.triggers =\n      (cleanTemplate.settings.triggers &&\n        cleanTemplate.settings.triggers.filter((trigger: Trigger) => {\n          return Object.keys(trigger).length > 0;\n        })) ||\n      [];\n    cleanTemplate.settings.type = cleanTemplate.settings.type || \"none\";\n    cleanTemplate.title = cleanTemplate.title || `New ${this.postType}`;\n\n    pipe(\n      await saveTemplateToWordPress(cleanTemplate),\n      fold(\n        () => {\n          NotificationLogger.log.message(\n            `${this.templateName} was not saved, or it was saved but the value is invalid`\n          );\n        },\n        savedTemplate => {\n          this.$emit(\"input\", savedTemplate);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n\n    this.closeDialog();\n  }\n\n  setTemplateType(templateType: string | undefined) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n\n    newTemplateSettings.type = templateType;\n\n    if (\n      !this.internalValue.settings ||\n      newTemplateSettings.type !== this.internalValue.settings.type\n    ) {\n      newTemplateSettings.ruleGroups = [];\n    }\n\n    if (newTemplateSettings.type) {\n      newTemplateSettings.priority = this.getDefaultTemplatePriorityBasedOnType(\n        newTemplateSettings.type\n      );\n    }\n\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setTemplateParent(templateParent: number | \"\") {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n\n    if (!templateParent) {\n      delete newTemplateSettings.parentId;\n    } else {\n      newTemplateSettings.parentId = templateParent;\n    }\n\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setTemplatePriority(templatePriority: number | null) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n\n    newTemplateSettings.priority = templatePriority ?? undefined;\n\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  getDefaultTemplatePriorityBasedOnType(typeSlug: string) {\n    return this.templatesManagementData.templateTypeCategories\n      .flatMap(c => c.types)\n      .find(t => t.slug === typeSlug)?.defaultPriority;\n  }\n\n  updateRuleGroups(newRuleGroups: RuleGroup[]) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.ruleGroups = newRuleGroups;\n\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  updateTriggers(newTriggers: Trigger[]) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.triggers = newTriggers;\n\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  get locationError() {\n    if (!this.attemptedToSave) return false;\n\n    if (!this.internalValue.settings.type) {\n      return \"Location is required\";\n    }\n\n    return false;\n  }\n\n  get titleError() {\n    if (!this.attemptedToSave) return false;\n\n    if (!this.internalValue.title) {\n      return \"Title is required\";\n    }\n\n    return false;\n  }\n\n  get priorityError() {\n    if (!this.attemptedToSave) return false;\n\n    if (this.internalValue.settings.priority === undefined) {\n      return false;\n    }\n\n    if (this.postType === \"breakdance_popup\") {\n      return false;\n    }\n\n    if (this.internalValue.settings.priority < 1) {\n      return \"The minimum priority is 1\";\n    }\n\n    return false;\n  }\n\n  get isThereAnError() {\n    return !!(this.priorityError || this.titleError || this.locationError);\n  }\n\n  get hasUnsavedChanges() {\n    return !lodash.isEqual(this.internalValue, this.value);\n  }\n\n  closeDialog() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n\n    this.$emit(\"close\");\n  }\n\n  setFallback(fallback: boolean) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.fallback = fallback;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setOnlyShowOnce(onlyShowOnce: boolean) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.onlyShowOnce = onlyShowOnce;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setAvoidMultiple(avoidMultiple: boolean) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.avoidMultiple = avoidMultiple;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  onlyShowOpen = false;\n  toggleOnlyShow(value: boolean) {\n    if (!value) {\n      this.setLimitPageLoad(null);\n      this.setLimitSession(null);\n      this.setLimitForever(null);\n    }\n    this.onlyShowOpen = value;\n  }\n\n  get hasOnlyShow() {\n    if (this.onlyShowOpen === true) {\n      return true;\n    }\n    return (\n      this.internalValue.settings.limitForever ||\n      this.internalValue.settings.limitSession ||\n      this.internalValue.settings.limitPageLoad\n    );\n  }\n\n  setLimitPageLoad(limit: number | null) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.limitPageLoad = limit;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setLimitSession(limit: number | null) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.limitSession = limit;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n\n  setLimitForever(limit: number | null) {\n    const newTemplateSettings = defensiveCopy(this.internalValue.settings);\n    newTemplateSettings.limitForever = limit;\n    this.updateTemplateSettings(newTemplateSettings);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditTemplateModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditTemplateModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditTemplateModal.vue?vue&type=template&id=5e8a86bd&\"\nimport script from \"./EditTemplateModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditTemplateModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditTemplateModal.vue?vue&type=style&index=0&id=5e8a86bd&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.value.itemsByStatus === 0 || _vm.value.filteredItemsBySearch === 0)?_c('div',{staticClass:\"manage-templates__empty\"},[(_vm.value.templateName == 'Header')?_c('svg',{staticClass:\"manage-templates__empty-state-icon\",attrs:{\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M92.708 3.125H7.292a4.167 4.167 0 0 0-4.167 4.167v85.416a4.167 4.167 0 0 0 4.167 4.167h85.416a4.167 4.167 0 0 0 4.167-4.167V7.292a4.167 4.167 0 0 0-4.167-4.167ZM3.125 34.375h93.75\",\"stroke\":\"currentColor\",\"stroke-width\":\"6.25\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_vm._e(),(_vm.value.templateName == 'Footer')?_c('svg',{staticClass:\"manage-templates__empty-state-icon\",attrs:{\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M92.708 3.125H7.292a4.167 4.167 0 0 0-4.167 4.167v85.416a4.167 4.167 0 0 0 4.167 4.167h85.416a4.167 4.167 0 0 0 4.167-4.167V7.292a4.167 4.167 0 0 0-4.167-4.167ZM96.875 65.625H3.125\",\"stroke\":\"currentColor\",\"stroke-width\":\"6.25\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_vm._e(),(\n      _vm.value.templateName == 'Template' ||\n        _vm.value.templateName == 'Unsupported template' ||\n        _vm.value.templateName == 'Global Block'\n    )?_c('svg',{staticClass:\"manage-templates__empty-state-icon\",attrs:{\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M92.708 3.125H7.292a4.167 4.167 0 0 0-4.167 4.167v85.416a4.167 4.167 0 0 0 4.167 4.167h85.416a4.167 4.167 0 0 0 4.167-4.167V7.292a4.167 4.167 0 0 0-4.167-4.167ZM50 3.125v93.75M50 34.375h46.875M96.875 65.625H50M50 50H3.125\",\"stroke\":\"currentColor\",\"stroke-width\":\"6.25\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):(_vm.value.itemsByStatus === 0)?_c('div',[_c('h4',[_vm._v(\" You have no \"+_vm._s(_vm.value.showTrash ? \"deleted\" : \"published\")+\" \"+_vm._s(_vm.value.templateName.toLowerCase())+\"s. \")])]):(_vm.value.filteredItemsBySearch === 0)?_c('div',[_c('h4',[_vm._v(\"No \"+_vm._s(_vm.value.templateName.toLowerCase())+\"s found.\")])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { EmptyStateV } from \"./types\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\n@Component({})\nexport default class EmptyState extends Vue {\n  @Prop()\n  value!: EmptyStateV;\n\n  get isBreakdanceDevelopmentEnvironment() {\n    return isBreakdanceDevelopmentEnvironment();\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyState.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyState.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyState.vue?vue&type=template&id=9ca58e82&\"\nimport script from \"./EmptyState.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyState.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  TemplatesManagementData,\n  SupportedPostType,\n  Template,\n  TemplateParents,\n  TemplateSettings,\n  TemplateSettingsV,\n  TemplateWithValidSettings,\n  EmptyStateV\n} from \"./types\";\nimport { fold } from \"fp-ts/lib/Either\";\n\nimport TemplateRow from \"./TemplateRow.vue\";\nimport AddTemplateDropdown from \"./AddTemplateDropdown.vue\";\nimport {\n  duplicateTemplateToWordPress,\n  emptyTrashForPostType,\n  getAllTemplatesAndNeededDataFromWordPress,\n  saveTemplateToWordPress\n} from \"./lib/api\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { configStore } from \"@/store/store-accessor\";\nimport EditTemplateModal from \"@/subapps/manage-templates/EditTemplateModal.vue\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport {\n  changeTemplateStatus,\n  deleteAllTrash,\n  deleteTemplate,\n  saveNewTemplate\n} from \"@/subapps/manage-templates/lib/utils\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport EmptyState from \"@/subapps/manage-templates/EmptyState.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { listenForNonceUpdates } from \"@/util/nonce-broadcast\";\n\n@Component({\n  components: {\n    Icon,\n    SearchInput,\n    Loading,\n    Notifications,\n    EditTemplateModal,\n    AddTemplateDropdown,\n    TemplateRow,\n    EmptyState\n  }\n})\nexport default class ManageBreakdancePostTypes extends Vue {\n  @Prop()\n  postType!: SupportedPostType;\n\n  modalData: { type: \"edit\" | \"add\"; data: Template } | false = false;\n\n  skipWarning = false;\n\n  templates: Template[] = [];\n  templatesManagementData: TemplatesManagementData = {\n    conditions: [],\n    dynamicFields: [],\n    templateTypeCategories: [],\n    popupTriggers: null\n  };\n\n  isWooCommerceActive = false;\n  search = \"\";\n  showTrash = false;\n\n  newTemplateAdded = false;\n\n  hasPermissionToManageFallbacks = false;\n\n  @Watch(\"newTemplateAdded\")\n  onTemplateAdded() {\n    setTimeout(() => (this.newTemplateAdded = false), 1000);\n  }\n\n  get templatesForUi() {\n    return this.hasPermissionToManageFallbacks\n      ? this.templatesByStatus\n      : this.templatesByStatus.filter(t => !t.settings?.fallback);\n  }\n\n  get filteredTemplatesBySearch() {\n    return this.search\n      ? this.templatesForUi.filter(template => {\n          return (\n            template.title.toLowerCase().includes(this.search.toLowerCase()) ||\n            template.settings?.type?.includes(this.search.toLowerCase())\n          );\n        })\n      : this.templatesForUi;\n  }\n\n  get templatesByStatus() {\n    return this.templates.filter(template =>\n      this.showTrash\n        ? template.status === \"trash\"\n        : template.status === \"publish\"\n    );\n  }\n\n  get blankTemplateWithValidSettings(): TemplateWithValidSettings {\n    return {\n      id: -1,\n      title: \"\",\n      postType: this.postType,\n      editInBreakdanceLink: \"\",\n      settings: {},\n      status: \"publish\"\n    };\n  }\n\n  get trashLength() {\n    return this.templates.filter(template => template.status === \"trash\")\n      .length;\n  }\n\n  async duplicateTemplate(newTemplateWithOldId: TemplateWithValidSettings) {\n    pipe(\n      await duplicateTemplateToWordPress(newTemplateWithOldId),\n      fold(\n        () => {\n          NotificationLogger.log.message(\n            `Duplicating template \"${newTemplateWithOldId.id}\" failed`\n          );\n        },\n        newTemplate => {\n          this.saveTemplate(newTemplate);\n        }\n      )\n    );\n  }\n\n  async updateTemplate(updatedTemplate: TemplateWithValidSettings) {\n    pipe(\n      await saveTemplateToWordPress(updatedTemplate),\n      fold(\n        () => {\n          NotificationLogger.log.message(\n            `Update for template \"${updatedTemplate.id}\" failed`\n          );\n        },\n        newTemplate => {\n          this.templates = saveNewTemplate(newTemplate, this.templates);\n        }\n      )\n    );\n  }\n\n  saveTemplate(newTemplate: Template) {\n    this.templates = saveNewTemplate(newTemplate, this.templates);\n\n    this.newTemplateAdded = true;\n  }\n\n  deleteTemplate(idToDelete: number) {\n    this.templates = deleteTemplate(idToDelete, this.templates);\n  }\n\n  trashTemplate(idToDelete: number) {\n    this.templates = changeTemplateStatus(idToDelete, this.templates, \"trash\");\n  }\n\n  restoreTemplate(idToRestore: number) {\n    this.templates = changeTemplateStatus(\n      idToRestore,\n      this.templates,\n      \"publish\"\n    );\n  }\n\n  emptyingTrash = false;\n  async emptyTrash() {\n    this.emptyingTrash = true;\n\n    if (await emptyTrashForPostType(this.postType)) {\n      this.templates = deleteAllTrash(this.templates);\n      this.showTrash = false;\n    }\n\n    this.emptyingTrash = false;\n  }\n\n  get templateParentsWithoutTrashed(): TemplateParents {\n    return this.templates\n      .filter(template => template.status !== \"trash\")\n      .map(template => ({\n        text: template.title,\n        value: template.id\n      }));\n  }\n\n  get templateName() {\n    if (this.postType === \"breakdance_template\") return \"Template\";\n    if (this.postType === \"breakdance_footer\") return \"Footer\";\n    if (this.postType === \"breakdance_header\") return \"Header\";\n    if (this.postType === \"breakdance_popup\") return \"Popup\";\n\n    return \"Unsupported template\";\n  }\n\n  get emptyStateData(): EmptyStateV {\n    return {\n      itemsByStatus: this.templatesByStatus.length,\n      filteredItemsBySearch: this.filteredTemplatesBySearch.length,\n      templateName: this.templateName,\n      showTrash: this.showTrash\n    };\n  }\n\n  get searchInputPlaceholder() {\n    const templateName = this.templateName.toLowerCase();\n    return `Search for ${templateName}s`;\n  }\n\n  isLoadingData = false;\n\n  broadcastChannel: BroadcastChannel | null = null;\n  beforeMount() {\n    this.broadcastChannel = listenForNonceUpdates();\n  }\n\n  async mounted() {\n    keyboardShortcuts.register(\"b r e a k d a n c e\", () => {\n      this.hasPermissionToManageFallbacks =\n        !this.hasPermissionToManageFallbacks;\n    });\n\n    this.isLoadingData = true;\n\n    pipe(\n      await getAllTemplatesAndNeededDataFromWordPress(this.postType),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Couldn't load templates data\");\n        },\n        data => {\n          this.templates = data.templates;\n          this.templatesManagementData = data.templatesManagementData;\n          this.isWooCommerceActive = data.isWooCommerceActive;\n          configStore.setDynamicFields(\n            data.templatesManagementData.dynamicFields\n          );\n          // Necessary for ConditionPreviewRule to display the condition's label instead of the rule slug\n          configStore.setConditions(data.templatesManagementData.conditions);\n          configStore.setEnvironment(data.environment);\n        }\n      )\n    );\n\n    this.isLoadingData = false;\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(\"b r e a k d a n c e\");\n    if (this.broadcastChannel) {\n      this.broadcastChannel.close();\n    }\n  }\n\n  getTemplateWithValidSettings(template: Template): TemplateWithValidSettings {\n    return {\n      ...template,\n      settings: pipe(\n        template.settings,\n        TemplateSettingsV.decode,\n        fold(\n          () => {\n            return DEFAULT_TEMPLATE_SETTINGS;\n          },\n          (templateSettings: TemplateSettings) => {\n            return templateSettings;\n          }\n        )\n      )\n    };\n  }\n\n  handleTemplateCardModal(type: \"edit\" | \"add\", newTemplate: Template) {\n    this.modalData = { type: type, data: newTemplate };\n  }\n}\n\nconst DEFAULT_TEMPLATE_SETTINGS: TemplateSettings = {\n  type: \"none\",\n  ruleGroups: []\n};\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageTemplates.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageTemplates.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageTemplates.vue?vue&type=template&id=53d3133e&\"\nimport script from \"./ManageTemplates.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageTemplates.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.isLoadingData)?_c('Loading'):_vm._e(),_c('div',{staticClass:\"manage-templates\"},[_c('div',{staticClass:\"manage-templates__header\"},[_c('h1',{staticClass:\"manage-templates__title\"},[_vm._v(\" \"+_vm._s(_vm.showTrash ? `Deleted Global Blocks` : `Global Blocks`)+\" \")]),(!_vm.showTrash)?[_c('v-btn',{staticClass:\"breakdance-wp-admin-templating-button\",attrs:{\"elevation\":\"0\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.modalData = { type: 'add', data: _vm.blankGlobalBlock }}}},[_vm._v(\" Add Global Block \")])]:_vm._e()],2),(\n        this.globalBlocksByStatus.length > 0 ||\n        this.filteredBlocksBySearch.length > 0 ||\n        _vm.trashLength > 0 ||\n        _vm.showTrash\n      )?_c('div',{staticClass:\"manage-templates__actions\"},[_c('div',{staticClass:\"manage-templates__search\"},[_c('SearchInput',{attrs:{\"placeholder\":\"Search blocks\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),(_vm.trashLength || _vm.showTrash)?_c('div',{staticClass:\"manage-templates__secondary-actions\"},[(_vm.showTrash && this.globalBlocksByStatus.length)?_c('v-btn',{attrs:{\"text\":\"\",\"loading\":_vm.emptyingTrash},on:{\"click\":_vm.emptyTrash}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"}}),_vm._v(\" Empty Trash \")],1):_vm._e(),(_vm.trashLength || _vm.showTrash)?_c('v-btn',{staticClass:\"mr-2\",attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.showTrash = !_vm.showTrash}}},[(_vm.showTrash)?[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"ArrowLeftLongIcon\",\"size\":\"16\"}}),_vm._v(\" Back \")]:[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"}}),_vm._v(\" Trash (\"+_vm._s(_vm.trashLength)+\") \")]],2):_vm._e()],1):_vm._e()]):_vm._e()]),_c('EmptyState',{attrs:{\"value\":_vm.emptyStateData}}),(_vm.filteredBlocksBySearch.length > 0)?_c('v-simple-table',{staticClass:\"manage-templates__table breakdance-table\",class:_vm.newBlockAdded ? 'added' : ''},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Template\")]),_c('th',[_vm._v(\"Shortcode\")])])]),_c('transition-group',{attrs:{\"tag\":\"tbody\",\"name\":\"fade\",\"mode\":\"out-in\"}},_vm._l((_vm.filteredBlocksBySearch),function(block){return _c('BlockRow',{key:block.id,class:!_vm.newBlockAdded ? 'animation-disabled' : '',attrs:{\"value\":block},on:{\"input\":function($event){_vm.modalData = { type: 'edit', data: $event }},\"trash\":_vm.trashBlock,\"delete\":_vm.deleteBlock,\"restore\":_vm.restoreBlock,\"save\":_vm.saveBlockToWordPress}})}),1)],1):_vm._e(),(_vm.modalData)?_c('EditGlobalBlockModal',{attrs:{\"value\":_vm.modalData.data,\"mode\":_vm.modalData.type,\"globalBlocks\":_vm.globalBlocksByStatus},on:{\"input\":function($event){return _vm.saveBlock($event)},\"close\":function($event){_vm.modalData = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"600\",\"persistent\":_vm.hasUnsavedChanges,\"scrollable\":true,\"transition\":false},on:{\"input\":_vm.closeDialog}},[_c('v-card',{staticClass:\"template-settings-modal-content\",attrs:{\"tile\":\"\",\"flat\":\"\",\"width\":\"600\"}},[_c('v-card-title',{staticClass:\"edit-template-modal-titlebar\"},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.mode === \"add\" ? \"Add Global Block\" : `Editing \"${_vm.internalValue.label}\"`)+\" \")])]),_c('v-card-text',[_c('div',{staticClass:\"my-3\"},[_c('TextInput',{attrs:{\"value\":_vm.internalValue.label,\"placeholder\":\"New Global Block\",\"label\":\"Title\",\"size\":\"md\"},on:{\"input\":_vm.setLabel}})],1)]),_c('v-card-actions',{staticClass:\"edit-template-modal-actions\"},[_c('v-row',[_c('v-col',{staticClass:\"text-left\"},[(_vm.hasUnsavedChanges)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]):_vm._e()],1),_c('v-col',{staticClass:\"text-right\"},[_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"elevation\":\"0\",\"loading\":_vm.saveInProgress},on:{\"click\":_vm.saveGlobalBlock}},[(_vm.mode === 'edit')?[_vm._v(\"Save\")]:[_vm._v(\"Add Global Block\")]],2)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ConditionsMatrix from \"@/components/Reusable/CustomInputs/Conditions/ConditionsMatrix.vue\";\n\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport NumberInput from \"@/components/Reusable/CustomInputs/NumberInput.vue\";\nimport lodash from \"lodash\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { saveGlobalBlockToWordPress } from \"@/lib/global-blocks/global-blocks\";\nimport { centerDialogInScreen } from \"@/subapps/manage-templates/lib/modal-position\";\nimport { GlobalBlock } from \"@/types/global-blocks\";\n@Component({\n  components: {\n    NumberInput,\n    TextInput,\n    DropdownInput,\n    ConditionsMatrix\n  }\n})\nexport default class EditTemplateModal extends Vue {\n  @Prop()\n  value!: GlobalBlock;\n\n  @Prop()\n  mode!: \"add\" | \"edit\";\n\n  @Prop()\n  globalBlocks!: GlobalBlock[];\n\n  internalValue: GlobalBlock = defensiveCopy(this.value);\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  saveInProgress = false;\n\n  mounted() {\n    centerDialogInScreen();\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => this.hasUnsavedChanges\n    );\n  }\n\n  setLabel(newTitle: string | null) {\n    this.internalValue.label = newTitle || \"\";\n  }\n\n  get hasUnsavedChanges() {\n    return !lodash.isEqual(this.internalValue, this.value);\n  }\n\n  closeDialog() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n\n    this.$emit(\"close\");\n  }\n\n  async saveGlobalBlock() {\n    if (!this.internalValue.label) {\n      NotificationLogger.log.message(\"Title field can't be empty\");\n      return;\n    }\n\n    // The only thing differentiating global blocks when selecting them is\n    // the title. Having two equal titles is super confusing\n    if (this.globalBlocks.find(t => t.label === this.internalValue.label)) {\n      NotificationLogger.log.message(\n        `A global block with the title \"${this.internalValue.label}\" already exists. Please select another title.`\n      );\n      return;\n    }\n\n    pipe(\n      await saveGlobalBlockToWordPress(this.internalValue),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Global block was not saved\");\n        },\n        savedBlock => {\n          this.$emit(\"input\", savedBlock);\n\n          this.closeDialog();\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditGlobalBlockModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditGlobalBlockModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditGlobalBlockModal.vue?vue&type=template&id=26e17d22&\"\nimport script from \"./EditGlobalBlockModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditGlobalBlockModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('tr',[_c('td',[_c('a',{staticClass:\"manage-templates__title-link\",attrs:{\"target\":\"_top\",\"href\":_vm.value.editInBreakdanceLink}},[_vm._v(\" \"+_vm._s(_vm.value.label)+\" \"),_c('span',{staticClass:\"manage-templates__title-id\"},[_vm._v(\"#\"+_vm._s(_vm.value.id))])]),_c('div',{staticClass:\"manage-templates__row-actions\"},[(_vm.mode === 'publish')?_c('a',{staticClass:\"manage-templates__btn-action\",attrs:{\"href\":_vm.value.editInBreakdanceLink,\"target\":\"_top\",\"title\":\"Edit in Breakdance\"}},[_vm._v(\" Edit in Breakdance \")]):_vm._e(),(_vm.mode === 'publish')?_c('button',{staticClass:\"manage-templates__btn-action\",on:{\"click\":_vm.openEditBlockModal}},[_vm._v(\" Settings \")]):_vm._e(),(_vm.mode === 'publish')?_c('button',{staticClass:\"manage-templates__btn-action\",on:{\"click\":_vm.duplicateBlock}},[_vm._v(\" Duplicate \")]):_vm._e(),(_vm.mode === 'trash')?_c('button',{staticClass:\"manage-templates__btn-action\",attrs:{\"title\":\"Restore\"},on:{\"click\":_vm.restoreBlock}},[_vm._v(\" Restore \")]):_vm._e(),_c('button',{staticClass:\"manage-templates__btn-action is-danger\",attrs:{\"title\":_vm.mode === 'publish' ? 'Trash' : 'Delete permanently'},on:{\"click\":_vm.deleteBlock}},[_vm._v(\" \"+_vm._s(_vm.mode === \"publish\" ? \"Trash\" : \"Delete permanently\")+\" \")])])]),_c('td',[_c('input',{staticClass:\"block-shortcode\",attrs:{\"type\":\"text\"},domProps:{\"value\":`[breakdance_block blockId=${_vm.value.id}]`},on:{\"click\":_vm.highlightValue}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  deleteTemplateFromWordPress,\n  restoreTemplateFromWordPress\n} from \"./lib/api\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { GlobalBlock } from \"@/types/global-blocks\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: { Icon }\n})\nexport default class BlockRow extends Vue {\n  @Prop()\n  value!: GlobalBlock;\n\n  openEditBlockModal() {\n    this.$emit(\"input\", this.value);\n  }\n\n  duplicateBlock() {\n    const duplicatedBlock = defensiveCopy(this.value);\n\n    // tell WP to save as a new block\n    duplicatedBlock.id = -1;\n    duplicatedBlock.label = `Copy of \"${duplicatedBlock.label}\"`;\n\n    this.$emit(\"save\", duplicatedBlock);\n  }\n\n  deleteInProgress = false;\n\n  async deleteBlock() {\n    this.deleteInProgress = true;\n\n    const response = await deleteTemplateFromWordPress(\n      this.value.label,\n      this.value.id,\n      this.value.status\n    );\n\n    if (response) {\n      this.$emit(\n        this.value.status === \"publish\" ? \"trash\" : \"delete\",\n        response\n      );\n    }\n\n    this.deleteInProgress = false;\n  }\n\n  restoreInProgress = false;\n\n  async restoreBlock() {\n    this.restoreInProgress = true;\n\n    const response = await restoreTemplateFromWordPress(\n      this.value.label,\n      this.value.id\n    );\n\n    if (response) this.$emit(\"restore\", response);\n\n    this.restoreInProgress = false;\n  }\n\n  get mode() {\n    return this.value.status;\n  }\n\n  highlightValue(e: Event) {\n    // @ts-ignore\n    const selectIt = () => e.target.select();\n\n    setTimeout(() => {\n      selectIt();\n    }, 100);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlockRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlockRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockRow.vue?vue&type=template&id=bb32841c&\"\nimport script from \"./BlockRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlockRow.vue?vue&type=style&index=0&id=bb32841c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport EditGlobalBlockModal from \"@/subapps/manage-templates/EditGlobalBlockModal.vue\";\nimport BlockRow from \"@/subapps/manage-templates/BlockRow.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport {\n  saveNewTemplate,\n  changeTemplateStatus,\n  deleteAllTrash,\n  deleteTemplate\n} from \"@/subapps/manage-templates/lib/utils\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport {\n  emptyTrashForPostType,\n  getAllGlobalBlocksFromWordPress\n} from \"@/subapps/manage-templates/lib/api\";\nimport { GlobalBlock } from \"@/types/global-blocks\";\nimport { EmptyStateV } from \"./types\";\nimport EmptyState from \"@/subapps/manage-templates/EmptyState.vue\";\nimport { listenForNonceUpdates } from \"@/util/nonce-broadcast\";\nimport { saveGlobalBlockToWordPress } from \"@/lib/global-blocks/global-blocks\";\n\n@Component({\n  components: {\n    Icon,\n    SearchInput,\n    Loading,\n    BlockRow,\n    EditGlobalBlockModal,\n    EmptyState\n  }\n})\nexport default class ManageBreakdancePostTypes extends Vue {\n  modalData: { type: \"edit\" | \"add\"; data: GlobalBlock } | false = false;\n\n  globalBlocks: GlobalBlock[] = [];\n\n  showTrash = false;\n\n  newBlockAdded = false;\n\n  @Watch(\"newBlockAdded\")\n  onBlockAdded() {\n    setTimeout(() => (this.newBlockAdded = false), 1000);\n  }\n\n  get blankGlobalBlock(): GlobalBlock {\n    return {\n      label: \"\",\n      id: -1,\n      tree: false,\n      editInBreakdanceLink: \"\",\n      status: \"publish\"\n    };\n  }\n\n  async saveBlockToWordPress(newBlock: GlobalBlock) {\n    pipe(\n      await saveGlobalBlockToWordPress(newBlock),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Global block was not saved\");\n        },\n        savedBlock => {\n          this.saveBlock(savedBlock);\n        }\n      )\n    );\n  }\n\n  saveBlock(newBlock: GlobalBlock) {\n    this.globalBlocks = saveNewTemplate(newBlock, this.globalBlocks);\n    this.newBlockAdded = true;\n  }\n\n  deleteBlock(idToDelete: number) {\n    this.globalBlocks = deleteTemplate(idToDelete, this.globalBlocks);\n  }\n\n  trashBlock(idToDelete: number) {\n    this.globalBlocks = changeTemplateStatus(\n      idToDelete,\n      this.globalBlocks,\n      \"trash\"\n    );\n  }\n\n  restoreBlock(idToRestore: number) {\n    this.globalBlocks = changeTemplateStatus(\n      idToRestore,\n      this.globalBlocks,\n      \"publish\"\n    );\n  }\n\n  emptyingTrash = false;\n  async emptyTrash() {\n    this.emptyingTrash = true;\n\n    if (await emptyTrashForPostType(\"breakdance_block\")) {\n      this.globalBlocks = deleteAllTrash(this.globalBlocks);\n      this.showTrash = false;\n    }\n\n    this.emptyingTrash = false;\n  }\n\n  isLoadingData = false;\n  search = \"\";\n\n  get emptyStateData(): EmptyStateV {\n    return {\n      itemsByStatus: this.globalBlocksByStatus.length,\n      filteredItemsBySearch: this.filteredBlocksBySearch.length,\n      templateName: \"Global Block\",\n      showTrash: this.showTrash\n    };\n  }\n\n  get filteredBlocksBySearch() {\n    return this.globalBlocksByStatus.filter(block => {\n      return block.label.toLowerCase().includes(this.search.toLowerCase());\n    });\n  }\n\n  get globalBlocksByStatus() {\n    return this.globalBlocks.filter(block =>\n      this.showTrash ? block.status === \"trash\" : block.status === \"publish\"\n    );\n  }\n\n  get trashLength() {\n    return this.globalBlocks.filter(block => block.status === \"trash\").length;\n  }\n\n  broadcastChannel: BroadcastChannel | null = null;\n  beforeMount() {\n    this.broadcastChannel = listenForNonceUpdates();\n  }\n\n  async mounted() {\n    this.isLoadingData = true;\n\n    pipe(\n      await getAllGlobalBlocksFromWordPress(),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Couldn't load Global Blocks data\");\n        },\n        blocks => {\n          this.globalBlocks = blocks;\n        }\n      )\n    );\n\n    this.isLoadingData = false;\n  }\n\n  beforeDestroy() {\n    if (this.broadcastChannel) {\n      this.broadcastChannel.close();\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageGlobalBlocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageGlobalBlocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageGlobalBlocks.vue?vue&type=template&id=5fdb88e0&\"\nimport script from \"./ManageGlobalBlocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageGlobalBlocks.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { SupportedPostType } from \"./types\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport ManageTemplates from \"@/subapps/manage-templates/ManageTemplates.vue\";\nimport ManageGlobalBlocks from \"@/subapps/manage-templates/ManageGlobalBlocks.vue\";\nimport { initializeOrReinitializeCombokeys } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    ManageGlobalBlocks,\n    ManageTemplates,\n    Notifications\n  }\n})\nexport default class ManageBreakdancePostTypes extends Vue {\n  @Prop()\n  postType!: SupportedPostType;\n\n  addingTemplate = false;\n\n  mounted() {\n    initializeOrReinitializeCombokeys(document);\n\n    configStore.setSubscriptionMode(window.Breakdance.subscriptionMode);\n  }\n\n  get isBlockPostType() {\n    return (\n      this.postType === \"breakdance_block\" ||\n      this.postType === \"breakdance_acf_block\"\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageBreakdancePostTypes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageBreakdancePostTypes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageBreakdancePostTypes.vue?vue&type=template&id=7b6ba763&\"\nimport script from \"./ManageBreakdancePostTypes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageBreakdancePostTypes.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManageBreakdancePostTypes.vue?vue&type=style&index=0&id=7b6ba763&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport store from \"@/store/store\";\nimport vuetify from \"@/plugins/vuetify\";\nimport ManageBreakdancePostTypes from \"./ManageBreakdancePostTypes.vue\";\nimport permission from \"@/lib/permissions/directive\";\n\nVue.directive(\"permission\", permission);\nVue.config.productionTip = false;\n\n// WP ensures this page is only accessible through the registered post types\nconst postType = new URLSearchParams(window.parent.location.search).get(\"page\");\n\nnew Vue({\n  store,\n  // @ts-ignore\n  vuetify,\n  render: h =>\n    h(ManageBreakdancePostTypes, {\n      props: {\n        postType\n      }\n    })\n}).$mount(\"#manage-templates-wrapper\");\n","import * as t from \"io-ts\";\nimport { DynamicFieldOutputV } from \"@/types/dynamic-data\";\n\nexport const ConditionValueV = t.type({\n  text: t.string,\n  value: t.string\n});\n\nexport type ConditionValue = t.TypeOf<typeof ConditionValueV>;\n\nexport type VuetifyShapeForSelect =\n  | ConditionValue\n  | { header: string }\n  | { divider: true };\n\nconst OperandsV = t.union([\n  t.literal(\"is\"),\n  t.literal(\"is not\"),\n  t.literal(\"is one of\"),\n  t.literal(\"is all of\"),\n  t.literal(\"is none of\"),\n  t.literal(\"is before\"),\n  t.literal(\"is after\"),\n  t.literal(\"is greater than\"),\n  t.literal(\"is less than\"),\n  t.literal(\"contains\"),\n  t.literal(\"does not contain\"),\n  t.literal(\"is empty\"),\n  t.literal(\"is not empty\"),\n  t.string\n]);\n\nexport type ConditionOperands = t.TypeOf<typeof OperandsV>;\n\nexport const RuleV = t.partial({\n  ruleSlug: t.string,\n  ruleDynamic: t.union([t.string, t.undefined]),\n  ruleDynamicMeta: t.union([DynamicFieldOutputV, t.undefined]),\n  operand: OperandsV,\n  value: t.union([\n    t.string,\n    t.number,\n    t.array(t.string),\n    t.array(ConditionValueV)\n  ]),\n  valueDynamicMeta: t.union([DynamicFieldOutputV, t.undefined])\n});\n\nexport type Rule = t.TypeOf<typeof RuleV>;\n\nexport const RuleGroupV = t.array(RuleV);\n\nexport type RuleGroup = t.TypeOf<typeof RuleGroupV>;\n\nexport const ConditionItemGroupV = t.intersection([\n  t.type({\n    label: t.string,\n    items: t.array(ConditionValueV)\n  }),\n  t.partial({\n    availableForType: t.union([t.literal(false), t.array(t.string)])\n  })\n]);\n\nexport type ConditionItemGroup = t.TypeOf<typeof ConditionItemGroupV>;\n\nexport const ConditionV = t.exact(\n  t.type({\n    slug: t.string,\n    label: t.string,\n    category: t.string,\n    operands: t.array(OperandsV),\n    values: t.union([t.array(ConditionItemGroupV), t.literal(false)]),\n    valueInputType: t.union([\n      t.undefined,\n      t.literal(\"dropdown\"),\n      t.literal(\"datepicker\"),\n      t.literal(\"number\"),\n      t.literal(\"timepicker\")\n    ]),\n    availableForType: t.array(t.string),\n    supports: t.array(\n      t.union([\n        t.literal(\"element_display\"),\n        t.literal(\"templating\"),\n        t.literal(\"query_builder\")\n      ])\n    ),\n    proOnly: t.union([t.undefined, t.boolean])\n  })\n);\n\nexport const ConditionsV = t.array(ConditionV);\n\nexport type Condition = t.TypeOf<typeof ConditionV>;\n\nexport const TriggerOptionsV = t.partial({\n  delay: t.number,\n  percent: t.number,\n  selector: t.string,\n  scrollType: t.string,\n  clickType: t.string,\n  limit: t.number\n});\n\nexport const TriggerV = t.partial({\n  slug: t.string,\n  options: TriggerOptionsV\n});\n\nexport const TriggersV = t.array(TriggerV);\n\nexport type Trigger = t.TypeOf<typeof TriggerV>;\n","import * as t from \"io-ts\";\nimport { FontV } from \"@/types/fonts\";\n\n// Custom font types\nconst FontFileV = t.type({\n  fileName: t.string,\n  fileUrl: t.string,\n  format: t.union([t.literal(\"woff\"), t.literal(\"woff2\")])\n});\n\nconst FontFaceV = t.type({\n  id: t.string,\n  files: t.array(FontFileV),\n  weight: t.number,\n  style: t.union([t.literal(\"normal\"), t.literal(\"italic\")])\n});\n\nexport const CustomFontFamilyV = t.type({\n  id: t.string,\n  family: t.string,\n  cssUrl: t.string,\n  hasExternalCssUrl: t.boolean,\n  cssName: t.string,\n  fallbackString: t.union([t.string, t.undefined]),\n  faces: t.array(FontFaceV)\n});\n\nexport type FontFile = t.TypeOf<typeof FontFileV>;\nexport type CustomFontFamily = t.TypeOf<typeof CustomFontFamilyV>;\nexport type FontFace = t.TypeOf<typeof FontFaceV>;\n\n// Fetch responses types\nexport const FontFamiliesResponseV = t.array(\n  t.type({\n    fontId: t.string,\n    cssUrl: t.string,\n    fontRegistrationData: FontV\n  })\n);\nexport const FontFileResponseV = t.type({\n  fileUrl: t.string,\n  fileName: t.string\n});\n\nexport type FontFamiliesResponse = t.TypeOf<typeof FontFamiliesResponseV>;\nexport type FontFileResponse = t.TypeOf<typeof FontFileResponseV>;\n","import * as t from \"io-ts\";\n\nexport const DesignProviderMetaV = t.type({\n  thumbnailUrl: t.union([t.string, t.undefined])\n});\n\nexport const DesignProviderV = t.type({\n  name: t.string,\n  url: t.string,\n  type: t.union([\n    t.literal(\"complete_site\"),\n    t.literal(\"sections\"),\n    t.literal(\"ui_kit\"),\n    t.undefined\n  ]),\n  isLocal: t.union([t.boolean, t.undefined]),\n  meta: t.union([t.undefined, DesignProviderMetaV])\n});\n\nexport type DesignProvider = t.TypeOf<typeof DesignProviderV>;\n\nexport const DesignLibraryDataV = t.type({\n  designProviders: t.array(DesignProviderV),\n  globalSettingsLastImportedFromUrl: t.union([t.string, t.null]),\n  fullSiteLastImportedFromUrl: t.union([t.string, t.null])\n});\n\nexport type DesignLibraryData = t.TypeOf<typeof DesignLibraryDataV>;\n\n// Design Sets\nexport const DesignSetPostV = t.type({\n  id: t.number,\n  name: t.string,\n  url: t.string,\n  tags: t.array(t.string)\n});\n\nexport const DesignSetDataV = t.type({\n  enabled: t.boolean,\n  // needed for backward compatibility. There may be design sets on an older version on Breakdance\n  // without \"reliesOnGlobalSettings\"\n  reliesOnGlobalSettings: t.union([t.boolean, t.undefined]),\n  name: t.string,\n  requiresPassword: t.union([t.boolean, t.undefined]),\n  passwordValid: t.union([t.boolean, t.undefined]),\n  posts: t.array(DesignSetPostV)\n});\n\nexport type DesignSetPost = t.TypeOf<typeof DesignSetPostV>;\nexport type DesignSetData = t.TypeOf<typeof DesignSetDataV>;\n\n// Screenshot\n\nexport const ScreenshotV = t.type({ url: t.string, id: t.number });\n\nexport type Screenshot = t.TypeOf<typeof ScreenshotV>;\n","import * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\nimport { DynamicFieldReturnTypeV } from \"@/types/dynamic-property-path\";\n\nexport const DynamicFieldV = t.intersection([\n  t.type({\n    category:\n      t.string /* probably better to have it as an array of tags, for searchability in the UI */,\n    slug: t.string,\n    label: t.string,\n    controls: t.array(ControlV),\n    returnTypes: t.array(DynamicFieldReturnTypeV)\n  }),\n  t.partial({\n    proOnly: t.boolean,\n    subcategory: t.string,\n    defaultAttributes: t.union([\n      t.record(t.string, t.string),\n      // t.array(t.undefined) is to handle the empty state,\n      // which comes from PHP as an empty array\n      t.array(t.undefined)\n    ])\n  })\n]);\n\nexport type DynamicField = t.TypeOf<typeof DynamicFieldV>;\n\nexport const DynamicDataAdvancedAttributesV = t.type({\n  fallback: t.string,\n  beforeContent: t.string,\n  afterContent: t.string\n});\nexport type DynamicDataAdvancedAttributes = t.TypeOf<\n  typeof DynamicDataAdvancedAttributesV\n>;\n\nexport const DynamicDataAttributesV = t.record(\n  t.string,\n  t.union([t.string, t.number, t.record(t.string, t.string)])\n);\nexport type DynamicDataAttributes = t.TypeOf<typeof DynamicDataAttributesV>;\n\nexport const DynamicFieldOutputV = t.type({\n  shortcode: t.string,\n  field: DynamicFieldV,\n  // t.array(t.undefined) is to handle the empty state,\n  // which comes from PHP as an empty array\n  attributes: t.union([DynamicDataAttributesV, t.array(t.undefined)])\n});\n\nexport type DynamicFieldOutput = t.TypeOf<typeof DynamicFieldOutputV>;\n\nexport const DynamicFieldsV = t.array(DynamicFieldV);\n\nexport const DynamicDataV = t.partial({\n  [typeof String]: t.string\n});\n\nexport type DynamicData = t.TypeOf<typeof DynamicDataV>;\n","import * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\nimport { TreeNode } from \"@/types/tree\";\nimport { DynamicPropertyPathV } from \"@/types/dynamic-property-path\";\nimport { Either } from \"fp-ts/lib/Either\";\n\nexport const BuilderElementControlsV = t.exact(\n  t.type({\n    contentSections: t.array(ControlV),\n    designSections: t.array(ControlV),\n    settingsSections: t.array(ControlV)\n  })\n);\n\nexport type BuilderElementControls = t.TypeOf<typeof BuilderElementControlsV>;\n\nexport const BuilderElementAttributeTemplatedV = t.type({\n  name: t.string,\n  template: t.string\n});\n\nexport const BuilderElementAttributePropertyPathBasedV = t.type({\n  name: t.string,\n  propertyPath: t.string\n});\n\nexport const BuilderElementAttributeWithRawValueV = t.type({\n  name: t.string,\n  rawValue: t.string\n});\n\nexport type BuilderElementAttributeTemplated = t.TypeOf<\n  typeof BuilderElementAttributeTemplatedV\n>;\n\nexport type BuilderElementAttributePropertyPathBased = t.TypeOf<\n  typeof BuilderElementAttributePropertyPathBasedV\n>;\n\nexport type BuilderElementAttributeWithRawValue = t.TypeOf<\n  typeof BuilderElementAttributeWithRawValueV\n>;\n\nexport const BuilderElementAttributeV = t.union([\n  BuilderElementAttributeTemplatedV,\n  BuilderElementAttributePropertyPathBasedV,\n  BuilderElementAttributeWithRawValueV\n]);\n\nexport type BuilderElementAttribute = t.TypeOf<typeof BuilderElementAttributeV>;\n\nexport const BuilderElementAttributesV = t.array(BuilderElementAttributeV);\n\nexport type BuilderElementAttributes = t.TypeOf<\n  typeof BuilderElementAttributesV\n>;\n\nexport const BuilderElementAdditionalClassV = t.type({\n  name: t.string,\n  template: t.string\n});\n\nexport type BuilderElementAdditionalClass = t.TypeOf<\n  typeof BuilderElementAdditionalClassV\n>;\n\nexport const BuilderElementAdditionalClassesV = t.array(\n  BuilderElementAdditionalClassV\n);\n\nexport type BuilderElementAdditionalClasses = t.TypeOf<\n  typeof BuilderElementAdditionalClassesV\n>;\n\nexport const BuilderElementDefaultPropertiesV =\n  t.unknown; /* TODO: make this a real type */\n\nexport type BuilderElementDefaultProperties = t.TypeOf<\n  typeof BuilderElementDefaultPropertiesV\n>;\n\nconst BuilderActionDataV = t.intersection([\n  t.type({ script: t.string }),\n  t.partial({ dependencies: t.array(t.string), runForAllChildren: t.boolean })\n]);\n\nconst BuilderActionV = t.type({\n  actionData: BuilderActionDataV,\n  elements: t.array(t.string)\n});\n\nexport type BuilderActionData = t.TypeOf<typeof BuilderActionDataV>;\nexport type BuilderAction = t.TypeOf<typeof BuilderActionV>;\n\nexport const ElementDependencyAndConditionV = t.partial({\n  title: t.string,\n  // src scripts\n  scripts: t.array(t.string),\n  // js code added to head\n  inlineScripts: t.array(t.string),\n  // file styles\n  styles: t.array(t.string),\n  // css added to head\n  inlineStyles: t.array(t.string),\n  // if present, dependencies run if condition is met\n  builderCondition: t.string,\n  // if present, dependencies run if condition is met\n  frontendCondition: t.string,\n  // Google fonts to import\n  googleFonts: t.array(t.string)\n});\n\nconst DependencyFiles = t.array(\n  t.type({\n    name: t.string,\n    url: t.string\n  })\n);\n\nexport const AvailableDependencyFilesV = t.type({\n  name: t.string,\n  files: t.type({\n    js: DependencyFiles,\n    css: DependencyFiles\n  })\n});\n\nexport type AvailableDependencyFiles = t.TypeOf<\n  typeof AvailableDependencyFilesV\n>;\n\nexport const BuilderActionsV = t.partial({\n  onPropertyChange: t.array(BuilderActionDataV),\n  onAfterDeletedElement: t.array(BuilderActionDataV),\n  onMovedElement: t.array(BuilderActionDataV),\n  onMountedElement: t.array(BuilderActionDataV),\n  onCreatedElement: t.array(BuilderActionDataV),\n  onBeforeDeletingElement: t.array(BuilderActionDataV),\n  onActivatedElement: t.array(BuilderActionDataV)\n});\n\nexport type BuilderActions = t.TypeOf<typeof BuilderActionsV>;\nexport type BuilderActionNames = keyof BuilderActions;\n\nexport type ElementDependencyAndCondition = t.TypeOf<\n  typeof ElementDependencyAndConditionV\n>;\n\nexport const NestingRuleTypeV = t.union([\n  // root: the root of the entire page. Only the Tree's root element. All elements go inside it.\n  t.literal(\"root\"),\n\n  // final: nothing can be inside of it. It's the final element.\n  // (like a text, header, or most of the fancy elements)\n  t.literal(\"final\"),\n\n  // final-link: like final but it's a link. Important because we can't have links inside links  that's invalid HTML),\n  // so final-link cannot be inside container-link\n  t.literal(\"final-link\"),\n\n  // container: accept any element as children except section\n  t.literal(\"container\"),\n\n  // container-restricted: only accepts elements that are registered to be its children  with restrictedToBeADirectChildOf.\n  // Powerful to enable only certain elements inside other elements.\n  // E.g: Slide can only be inside Slider; Tab only inside Tabs\n  t.literal(\"container-restricted\"),\n\n  // container-link: a container that's a link. Accepts everything a container does minus final-link\n  t.literal(\"container-link\"),\n\n  // container-excluding-self: a container that can't include itself. E.g \"product builder\" can't be inside \"product builder\"\n  t.literal(\"container-excluding-self\"),\n\n  // section: like container but can only be a direct child of root\n  t.literal(\"section\"),\n\n  // final-that-is-allowed-inside-root: an element that can be a direct descendant of root\n  // (aka not wrapped around a section) and that doesn't accept any children.\n  t.literal(\"final-that-is-allowed-inside-root\"),\n\n  // popup: can be a direct child of root, but only on breakdance_popup post type\n  t.literal(\"popup\")\n]);\n\nexport type NestingRuleType = t.TypeOf<typeof NestingRuleTypeV>;\n\nexport type LegalPlaceToAddElementInTree =\n  | \"TOP_LEVEL\"\n  | { index: false | number; place: TreeNode };\n\nexport type NoPlaceToAddElementInTree =\n  | \"NONE\"\n  | \"NOT_ALLOWED_BECAUSE_OF_OTHER_NODES\";\n\nexport type PlaceToAddElementInTree = Either<\n  NoPlaceToAddElementInTree,\n  LegalPlaceToAddElementInTree\n>;\n\nexport type CustomDocumentPostTypes =\n  | \"breakdance_block\"\n  | \"breakdance_acf_block\"\n  | \"breakdance_popup\";\n\nexport const BuilderElementNestingRuleV = t.intersection([\n  t.type({\n    type: NestingRuleTypeV\n  }),\n  t.partial({\n    restrictedToBeADirectChildOf: t.array(t.string),\n    restrictedToBeADescendantOf: t.array(t.string),\n    notAllowedWhenNodeTypeIsPresentInTree: t.array(t.string)\n  })\n]);\n\nexport type BuilderElementNestingRule = t.TypeOf<\n  typeof BuilderElementNestingRuleV\n>;\n\n/**\n * It's important that this and SpacingBarLocationV stay in sync and in order\n */\nexport const SpacingBarLocationV = t.union([\n  t.literal(\"inside-top\"),\n  t.literal(\"inside-left\"),\n  t.literal(\"inside-right\"),\n  t.literal(\"inside-bottom\"),\n  t.literal(\"outside-top\"),\n  t.literal(\"outside-right\"),\n  t.literal(\"outside-left\"),\n  t.literal(\"outside-bottom\")\n]);\n\nexport const SpacingBarCssProperty = t.union([\n  t.literal(\"padding-top\"),\n  t.literal(\"padding-left\"),\n  t.literal(\"padding-right\"),\n  t.literal(\"padding-bottom\"),\n  t.literal(\"margin-top\"),\n  t.literal(\"margin-right\"),\n  t.literal(\"margin-left\"),\n  t.literal(\"margin-bottom\")\n]);\n\n/**/\n\nconst PropertyPathsPropertyV = t.union([t.literal(false), t.array(t.string)]);\n\nexport type PropertyPathsProperty = t.TypeOf<typeof PropertyPathsPropertyV>;\n\nexport type SpacingBarLocation = t.TypeOf<typeof SpacingBarLocationV>;\n\nexport type SpacingBarProperty = t.TypeOf<typeof SpacingBarCssProperty>;\n\nexport const SpacingBarDescriptionV = t.type({\n  location: SpacingBarLocationV,\n  cssProperty: SpacingBarCssProperty,\n  affectedPropertyPath: t.string\n});\n\nexport type SpacingBarDescription = t.TypeOf<typeof SpacingBarDescriptionV>;\n\nexport type DefaultChildElementInterface = {\n  slug: string;\n  defaultProperties?: BuilderElementDefaultProperties;\n  children?: DefaultChildElementInterface[];\n};\n\nexport const DefaultChildElementV: t.Type<DefaultChildElementInterface> = t.recursion(\n  \"ChildElement\",\n  () =>\n    t.intersection([\n      t.type({\n        slug: t.string\n      }),\n      t.partial({\n        defaultProperties: BuilderElementDefaultPropertiesV,\n        children: t.array(DefaultChildElementV)\n      })\n    ])\n);\n\nexport type DefaultChildElement = t.TypeOf<typeof DefaultChildElementV>;\n\nexport const RequiredPluginV = t.union([\n  t.literal(\"WooCommerce\"),\n  t.literal(\"ACF\"),\n  t.literal(\"MetaBox\"),\n  t.literal(\"ACF\"),\n  t.literal(\"FacetWP\"),\n  t.literal(\"WP Grid Builder\")\n]);\nexport type RequiredPlugin = t.TypeOf<typeof RequiredPluginV>;\n\nconst ElementSettingsV = t.union([\n  t.partial({\n    dependsOnGlobalScripts: t.boolean,\n    bypassPointerEvents: t.boolean,\n    sharePropsWithSSRChildren: t.boolean,\n    requiredPlugins: t.array(RequiredPluginV),\n    proOnly: t.boolean\n  }),\n  t.literal(false)\n]);\nexport type ElementSettings = t.TypeOf<typeof ElementSettingsV>;\n\nexport const AddPanelRulesV = t.union([\n  t.literal(false),\n  t.partial({\n    alwaysHide: t.boolean,\n    allowedPostTypes: t.array(t.string)\n  })\n]);\n\nexport type AddPanelRules = t.TypeOf<typeof AddPanelRulesV>;\n\nexport const BuilderElementProjectManagementValueV = t.union([\n  t.literal(\"yes\"),\n  t.literal(\"no\"),\n  t.literal(\"unknown\"),\n  t.literal(\"sort of\")\n]);\n\nexport const BuilderElementProjectManagementV = t.partial({\n  looksGood: BuilderElementProjectManagementValueV,\n  optionsGood: BuilderElementProjectManagementValueV,\n  optionsWork: BuilderElementProjectManagementValueV,\n  dynamicBehaviorWorks: BuilderElementProjectManagementValueV,\n  notes: t.string\n});\n\nexport type BuilderElementProjectManagement = t.TypeOf<\n  typeof BuilderElementProjectManagementV\n>;\nexport type BuilderElementProjectManagementValue = t.TypeOf<\n  typeof BuilderElementProjectManagementValueV\n>;\n\nexport const BadgeV = t.type({\n  backgroundColor: t.union([t.string, t.null]),\n  textColor: t.union([t.string, t.null]),\n  label: t.string\n});\n\nexport type Badge = t.TypeOf<typeof BadgeV>;\n\nexport const BuilderElementV = t.exact(\n  t.type({\n    name: t.string,\n    className: t.union([t.string, t.literal(false)]),\n    uiIcon: t.union([t.string, t.literal(false)]),\n    slug: t.string,\n    category: t.string,\n    badge: t.union([BadgeV, t.literal(false)]),\n    htmlTag: t.type({\n      default: t.string,\n      options: t.array(t.string),\n      pathToControl: t.union([t.literal(false), t.string])\n    }),\n    template: t.string,\n    additionalClasses: t.union([\n      BuilderElementAdditionalClassesV,\n      t.literal(false)\n    ]),\n    attributes: t.union([BuilderElementAttributesV, t.literal(false)]),\n    cssTemplate: t.string,\n    defaultCss: t.string,\n    defaultProperties: t.union([\n      BuilderElementDefaultPropertiesV,\n      t.literal(false)\n    ]),\n    defaultChildren: t.union([t.array(DefaultChildElementV), t.literal(false)]),\n    controls: BuilderElementControlsV,\n    dependencies: t.union([\n      t.array(ElementDependencyAndConditionV),\n      t.literal(false)\n    ]),\n    actions: t.union([BuilderActionsV, t.literal(false)]),\n    nestingRule: BuilderElementNestingRuleV,\n    spacingBars: t.union([t.literal(false), t.array(SpacingBarDescriptionV)]),\n    dynamicPropertyPaths: t.union([\n      t.literal(false),\n      t.array(DynamicPropertyPathV)\n    ]),\n    settings: ElementSettingsV,\n    addPanelRules: AddPanelRulesV,\n    experimental: t.boolean,\n    order: t.number,\n    projectManagement: t.union([\n      t.literal(false),\n      BuilderElementProjectManagementV\n    ]),\n    propertyPathsToWhitelistInFlatProps: PropertyPathsPropertyV,\n    propertyPathsToSsrElementWhenValueChanges: PropertyPathsPropertyV\n  })\n);\n\nexport type BuilderElement = t.TypeOf<typeof BuilderElementV>;\n\nexport const BuilderElementsArrayV = t.array(BuilderElementV);\n\nexport type BuilderElements = Record<\n  BuilderElement[\"slug\"],\n  BuilderElement | undefined\n>;\n\nexport const BuilderElementCategoryV = t.type({\n  slug: t.string,\n  label: t.string\n});\nexport const BuilderElementCategoriesV = t.array(BuilderElementCategoryV);\n\nexport type BuilderElementCategory = t.TypeOf<typeof BuilderElementCategoryV>;\n\nexport const ElementsExternalAttrsDepsAndActionsV = t.partial({\n  attributes: t.array(BuilderElementAttributeV),\n  dependencies: t.array(ElementDependencyAndConditionV),\n  actions: BuilderActionsV\n});\n\nexport type ElementsExternalAttrsDepsAndActions = t.TypeOf<\n  typeof ElementsExternalAttrsDepsAndActionsV\n>;\n\nexport const MacrosDataV = t.array(\n  t.type({\n    macro: t.string,\n    slug: t.string\n  })\n);\n\nexport type MacrosData = t.TypeOf<typeof MacrosDataV>;\n","import * as t from \"io-ts\";\nimport { DynamicFieldsV } from \"@/types/dynamic-data\";\nimport {\n  BuilderElementV,\n  BuilderElementCategoriesV,\n  RequiredPluginV,\n  ElementsExternalAttrsDepsAndActionsV,\n  MacrosDataV\n} from \"@/types/elements\";\nimport { PropertiesDataV } from \"@/types/tree\";\nimport { FontsV } from \"@/types/fonts\";\nimport { GlobalSettingsControlsAndTemplateV } from \"./global-and-document-settings\";\nimport { BreakdancePluginsV } from \"./plugins\";\nimport { TemplatePreviewV } from \"./templates\";\nimport { LoadedSelectorDataV } from \"./selectors\";\nimport {\n  BreakdanceNeededDataV,\n  BreakdanceDocumentSpecificNeededUrlsV\n} from \"@/types/config\";\nimport {\n  DocumentMetasV,\n  BreakdanceDocumentWithExportedTreeV\n} from \"@/types/document\";\nimport { ConditionsV } from \"./conditions\";\nimport { PreferencesV } from \"./preferences\";\nimport { ElementPresetsV } from \"./presets\";\nimport { BreakpointV } from \"./breakpoints\";\nimport { PermissionV } from \"@/types/permission\";\nimport { GlobalMediaSizeV } from \"@/types/media\";\nimport { DesignLibraryDataV } from \"@/types/design-library\";\nimport { getIoTsStringsUnionFromConstStringArray } from \"@/util/type-assertions\";\n\nconst InvalidPostsErrorV = t.union([\n  t.literal(\"post_does_not_exist\"),\n  t.literal(\"post_type_is_banned\"),\n  t.literal(\"post_type_is_restricted\"),\n  t.literal(\"post_is_in_trash\")\n]);\n\nconst InvalidPostDataV = t.type({\n  errorType: InvalidPostsErrorV,\n  postType: t.union([t.undefined, t.string]),\n  backToAdminUrl: t.string\n});\n\nexport type InvalidPostData = t.TypeOf<typeof InvalidPostDataV>;\n\nexport const subscriptionMode = [\"free\", \"pro\"] as const;\n\nexport const SubscriptionModeV = getIoTsStringsUnionFromConstStringArray(\n  subscriptionMode\n);\n\nexport type SubscriptionMode = t.TypeOf<typeof SubscriptionModeV>;\n\nexport const EnvironmentV = t.union([\n  t.literal(\"local\"),\n  t.literal(\"production\")\n]);\n\nexport type Environment = t.TypeOf<typeof EnvironmentV>;\nconst ConfigDataLoadedFromWordPressV = t.type({\n  environment: EnvironmentV,\n  elementPresets: ElementPresetsV,\n  neededData: BreakdanceNeededDataV,\n  builderElements: t.array(BuilderElementV),\n  elementsExternalAttrsDepsAndActions: ElementsExternalAttrsDepsAndActionsV,\n  builderElementCategories: BuilderElementCategoriesV,\n  preferences: PreferencesV,\n  dynamicFields: DynamicFieldsV,\n  conditions: ConditionsV,\n  fonts: FontsV,\n  globalSettingsControlsAndTemplate: GlobalSettingsControlsAndTemplateV,\n  globalSettings: PropertiesDataV,\n  plugins: BreakdancePluginsV,\n  availableDocuments: DocumentMetasV,\n  selectors: LoadedSelectorDataV,\n  availableMediaSizes: t.array(GlobalMediaSizeV),\n  availablePermissions: t.array(PermissionV),\n  availableWordpressPlugins: t.array(RequiredPluginV),\n  permission: PermissionV,\n  builtinBreakpoints: t.array(BreakpointV),\n  twigMacros: MacrosDataV,\n  twigMacrosHash: t.string,\n  designLibrary: DesignLibraryDataV,\n  subscriptionMode: SubscriptionModeV\n});\n\nexport type ConfigDataLoadedFromWordPress = t.TypeOf<\n  typeof ConfigDataLoadedFromWordPressV\n>;\n\nconst DocumentDataLoadedFromWordPressV = t.intersection([\n  t.type({\n    document: BreakdanceDocumentWithExportedTreeV,\n    documentSpecificNeededUrls: BreakdanceDocumentSpecificNeededUrlsV,\n    templatePreview: TemplatePreviewV\n  }),\n  ConfigDataLoadedFromWordPressV\n]);\n\nexport type DocumentDataLoadedFromWordPress = t.TypeOf<\n  typeof DocumentDataLoadedFromWordPressV\n>;\n\nexport const ExpectedDataToLoadDocumentV = t.union([\n  InvalidPostDataV,\n  DocumentDataLoadedFromWordPressV\n]);\n\nexport type ExpectedDataToLoadDocument = t.TypeOf<\n  typeof ExpectedDataToLoadDocumentV\n>;\n\nexport const ExpectedDataToLoadConfigV = ConfigDataLoadedFromWordPressV;\n\nexport type ExpectedDataToLoadConfig = t.TypeOf<\n  typeof ExpectedDataToLoadConfigV\n>;\n","import { PropertiesDataV } from \"./tree\";\n\nimport * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\n\nexport const SelectorCSSNameV = t.string;\n/* would be wise ot make an io-ts typeguard to ensure it's a VALID css class name... \nand then apply that type guard to both the value emitted by the class input (most important)\n and the classes on the way in (not really important)\n*/\n\nexport type SelectorCSSName = t.TypeOf<typeof SelectorCSSNameV>;\n\nexport const CSSSelectorV = t.type({\n  name: SelectorCSSNameV,\n  type: t.union([t.literal(\"class\"), t.literal(\"custom\")]),\n  properties: PropertiesDataV /* really PropertiesData is a [key: string]: ValidValue | PropertiesData, not an any */\n});\n\nexport type CSSSelector = t.TypeOf<typeof CSSSelectorV>;\n\nexport const CSSSelectorListV = t.array(CSSSelectorV);\nexport type CSSSelectorList = t.TypeOf<typeof CSSSelectorListV>;\n\nexport const LoadedSelectorDataV = t.exact(\n  t.type({\n    template: t.string,\n    controls: t.array(ControlV),\n    selectors: CSSSelectorListV\n  })\n);\n\nexport type LoadedSelectorData = t.TypeOf<typeof LoadedSelectorDataV>;\n","import * as t from \"io-ts\";\n\nexport const RepeaterFieldV = t.type({\n  field: t.string,\n  index: t.number\n});\n\nexport const TemplatePreviewableItemV = t.type({\n  label: t.string,\n  url: t.string,\n  type: t.string,\n  repeater: t.union([RepeaterFieldV, t.null, t.undefined])\n});\n\nexport const TemplatePreviewableItemsV = t.array(TemplatePreviewableItemV);\n\nexport type TemplatePreviewableItem = t.TypeOf<typeof TemplatePreviewableItemV>;\n\nexport const TemplatePreviewV = t.type({\n  previewableItems: t.union([TemplatePreviewableItemsV, t.literal(false)]),\n  lastPreviewedItem: t.union([TemplatePreviewableItemV, t.literal(false)])\n});\n\nexport type TemplatePreview = t.TypeOf<typeof TemplatePreviewV>;\n","import * as t from \"io-ts\";\n\n/**\n * Properties data real type is something like:\n * content: {...}\n * design: {...}\n * settings: {...}\n * meta: { friendlyName: string }\n */\nexport const PropertiesDataV =\n  t.any; /* any is wrong, we are just doing it to shut typescript up temporarily */\nexport type PropertiesData = t.TypeOf<typeof PropertiesDataV>;\n\nexport const TreeNodeDataV = t.type({\n  type: t.string, // TODO: refactor, type is a bad name\n  properties: PropertiesDataV\n});\n\nexport type TreeNodeData = t.TypeOf<typeof TreeNodeDataV>;\n\nexport const TreeNodeV: t.Type<TreeNode> = t.recursion(\"TreeNode\", () =>\n  t.intersection([\n    t.type({\n      id: t.number,\n      data: TreeNodeDataV,\n      children: t.array(TreeNodeV)\n    }),\n    t.partial({\n      _parentId: t.number\n    })\n  ])\n);\n\nexport type TreeNode = {\n  id: number /* make readonly / t.readonly */;\n  data: TreeNodeData;\n  children: Array<TreeNode>; // can i make this readonly so only the helper functions in this file can add to it?\n  _parentId?: TreeNode[\"id\"];\n};\n\nexport const PartialTreeV = t.type({\n  root: TreeNodeV,\n  _nextNodeId: t.number\n  /* dont lie to typescript and say [key: string] is always a TreeNode, cuz it's not. */\n});\n\nexport const TreeV = t.intersection([\n  PartialTreeV,\n  t.type({\n    status: t.literal(\"valid\"),\n    _lookupTable: t.record(t.string, t.union([t.undefined, TreeNodeV]))\n  })\n]);\n\nexport const ExportedTreeV = t.intersection([\n  PartialTreeV,\n  t.type({ status: t.literal(\"exported\") })\n]);\n\nexport const MaybeExportedTreeV = t.union([ExportedTreeV, t.literal(false)]);\n\nexport type Tree = t.TypeOf<typeof TreeV>;\nexport type ExportedTree = t.TypeOf<typeof ExportedTreeV>;\nexport type MaybeExportedTree = t.TypeOf<typeof MaybeExportedTreeV>;\n","import * as t from \"io-ts\";\n\nexport const FontWeightV = t.union([\n  t.literal(\"100\"),\n  t.literal(\"200\"),\n  t.literal(\"300\"),\n  t.literal(\"400\"),\n  t.literal(\"500\"),\n  t.literal(\"600\"),\n  t.literal(\"700\"),\n  t.literal(\"800\"),\n  t.literal(\"900\")\n]);\n\nexport const CustomTypographyInputValueV = t.type({\n  customTypography: t.UnknownRecord\n});\n\nexport type CustomTypographyInputValue = t.TypeOf<\n  typeof CustomTypographyInputValueV\n>;\n\nexport const TypographyPresetIdV = t.string;\n\nexport type TypographyPresetId = t.TypeOf<typeof TypographyPresetIdV>;\n\nexport const TypographyPresetLabelAndIdV = t.type({\n  label: t.string,\n  id: TypographyPresetIdV\n});\n\nexport type TypographyPresetLabelAndId = t.TypeOf<\n  typeof TypographyPresetLabelAndIdV\n>;\n\nexport const TypographyPresetV = t.intersection([\n  t.type({ preset: TypographyPresetLabelAndIdV }),\n  t.partial({\n    custom: CustomTypographyInputValueV\n  })\n]);\n\nexport type TypographyPreset = t.TypeOf<typeof TypographyPresetV>;\n\nexport const TypographyInputValueV = t.union([\n  t.type({\n    preset: t.union([t.undefined, TypographyPresetIdV]),\n    previousCustom: t.union([t.undefined, CustomTypographyInputValueV])\n  }),\n  t.type({\n    custom: CustomTypographyInputValueV\n  })\n]);\n\nexport type TypographyInputValue = t.TypeOf<typeof TypographyInputValueV>;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 93;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t93: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbuilder\"] = globalThis[\"webpackChunkbuilder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], () => (__webpack_require__(80270)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["isObjectExcludingArray","value","Array","isArray","isLight","color","isValidHex","hex","expandHexColor","r","parseInt","substr","g","b","alpha","brightness","stripColorSign","replace","length","split","map","join","isNaN","Number","isCSSVariable","startsWith","findColorByVariableName","colors","name","extractVariableName","find","c","cssVariableName","regexp","match","exec","createVariableName","suffix","prefix","append","slug","slugify","lower","uuid","uuidV4","getGlobalColorCode","pipe","GradientColorV","fold","gradient","isGlobalColorAGradient","async","getBlocksFromWordPress","makeWordPressAjaxRequest","action","resultKey","decoder","GlobalBlocksV","saveGlobalBlockToWordPress","globalBlock","friendlyName","dataToPost","tree","fpJsonStringify","GlobalBlockV","saveGlobalSettingsToWordPress","globalSettings","globalStore","t","errors","logErrorsToUiStore","breakdanceUndo","setGlobalSettingsAccordionState","accordionPath","expand","newPanelState","defensiveCopy","uiStore","accordionState","setDynamicDataFieldAttributesAccordionState","dynamicDataFieldAttributes","getDynamicDataFieldAttributesAccordionState","isValidClassName","test","isValidSelectorName","document","createDocumentFragment","querySelector","addSelector","newSelector","type","NotificationLogger","selector","addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed","isUiPanelOpen","saveSelectorsToWordPress","selectors","appendProToProConditionsLabelInFreeMode","label","condition","proOnly","appendProToLabelInFreeMode","configStore","areProConditionsUsedInRules","ruleGroups","proOnlyConditions","flat","rule","ruleSlug","areProPopupTriggersUsed","appliedTriggers","allPopupTriggers","proOnlyTriggers","filter","trigger","appliedTrigger","proOnlyTrigger","isDynamicFieldProOnlyAndUserIsOnFreeTier","field","getProBadge","backgroundColor","textColor","getDocumentUrlFromId","documentId","updatedUrl","URL","window","Breakdance","originalUrl","searchParams","set","search","toString","href","InitialStoreState","setupHook","store","this","initialState","state","resetToInitialState","newState","replaceState","_c","_self","_setup","staticClass","_vm","attrs","postType","staticRenderFns","blankTemplateWithValidSettings","isWooCommerceActive","saveTemplate","handleTemplateCardModal","$event","templatesByStatus","model","expression","emptyTrash","on","showTrash","filteredTemplatesBySearch","_v","class","templatesManagementData","trashTemplate","deleteTemplate","restoreTemplate","templateParentsWithoutTrashed","modalData","skipWarning","_e","render","TemplateTypeV","defaultPriority","TemplateTypeCategoriesV","text","types","TemplateSettingsV","parentId","RuleGroupV","triggers","TriggersV","priority","disabled","fallback","onlyShowOnce","avoidMultiple","limitPageLoad","limitSession","limitForever","SupportedPostTypeV","PartialTemplateV","id","title","editInBreakdanceLink","status","TemplateV","settings","TemplateWithValidSettingsV","PopupTriggersV","TemplatesManagementDataV","conditions","ConditionV","dynamicFields","DynamicFieldV","templateTypeCategories","popupTriggers","ManageTemplatesDataToLoadV","templates","environment","EnvironmentV","_setupProxy","mode","_s","openEditTemplateModal","duplicateTemplate","matchingQuickAddTemplate","category","appliesToLabel","triggerLabels","undefined","updateDisabled","scopedSlots","index","key","ruleIndex","ConditionsPreview","Vue","edit","$emit","__decorate","Prop","Component","components","ConditionPreviewRule","Icon","component","saveTemplateToWordPress","template","duplicateTemplateToWordPress","originalId","getAllTemplatesAndNeededDataFromWordPress","post_type","getAllGlobalBlocksFromWordPress","deleteTemplateFromWordPress","confirm","trashOrDelete","restoreTemplateFromWordPress","emptyTrashForPostType","QUICK_ADD_TEMPLATES","operand","openDialog","TemplateRow","constructor","deleteInProgress","restoreInProgress","templateType","templateTypeLabel","some","templateTypeCategory","currentTemplateType","response","duplicatedTemplate","quickAddTemplate","enabled","newTemplate","ToggleInput","ConditionsPreviewTooltip","ElementBadge","$$v","saveNewTemplate","templateIndex","findIndex","newTemplates","unshift","idToDelete","splice","changeTemplateStatus","deleteAllTrash","checkIfTemplateSettingsAlreadyExistsAndConfirmToContinue","templateSettings","templateName","templateSettingsAlreadyExists","isEqual","AddTemplateDropdown","open","quickAddInProgress","quickAddTemplates","toLowerCase","templateToAdd","savedTemplate","Dropdown","closeDialog","internalValue","item","hasOnlyShow","setLimitPageLoad","staticStyle","priorityError","hasUnsavedChanges","acknowledgeWarning","_l","i","disableTriggerLimits","updateTrigger","deleteTrigger","addTrigger","availableTriggersForDropdown","setValue","scrollTypeOptions","scrollTypeValue","setScrollType","clickTypeOptions","clickTypeValue","setClickType","hasDelayOption","delayLabel","delayValue","setDelay","hasPercentOption","options","percent","setPercent","hasSelectorOption","setSelector","TriggerInput","newTrigger","update","delay","scrollType","clickType","default","NumberInput","CodeInput","DynamicDataFieldText","TextInput","DropdownInput","IconButton","TriggersMatrix","newTriggers","push","groupIndex","newRuleGroups","triggerIndex","NiceButton","DynamicDataFields","DynamicDataDialog","TemplateRuleGroupInput","areProTriggersUsed","feature","content","FreeModeAlertForPopupTriggers","ProOnlyAlertBox","EditTemplateModal","editingAdvancedSettings","saveInProgress","attemptedToSave","onlyShowOpen","beforeMount","mounted","centerDialogInScreen","warnIfUnsavedFunction","warnIfExitingWithUnsavedChanges","templateTypesDropdownInVuetifyShape","vuetifyShape","forEach","header","divider","pop","selectedLocationCategory","categoryLabelForSelectedLocation","labelForSelectedLocation","labelForInheritingParent","templateParents","parent","availableConditions","getConditionsThatAreAvailableForTemplateType","getConditionsThatApplyToTemplateTypes","supports","includes","templateParentsExcludingCurrentTemplate","templatesExcludingSelf","inheritedTemplateNoLongerExists","inheritanceUiEnabled","setTemplateTitle","newTitle","updateTemplateSettings","newTemplateSettings","isThereAnError","cleanTemplate","settingsChanged","removeEmptyRulesFromRuleGroup","Object","keys","setTemplateType","getDefaultTemplatePriorityBasedOnType","setTemplateParent","templateParent","setTemplatePriority","templatePriority","typeSlug","flatMap","updateRuleGroups","updateTriggers","locationError","titleError","removeChangesNotSavedWarning","setFallback","setOnlyShowOnce","setAvoidMultiple","toggleOnlyShow","setLimitSession","setLimitForever","limit","FreeModeAlertForConditionsUsed","ConditionsMatrix","Dialog","itemsByStatus","filteredItemsBySearch","EmptyState","isBreakdanceDevelopmentEnvironment","ManageBreakdancePostTypes","newTemplateAdded","hasPermissionToManageFallbacks","emptyingTrash","isLoadingData","broadcastChannel","onTemplateAdded","setTimeout","templatesForUi","trashLength","newTemplateWithOldId","updatedTemplate","idToRestore","emptyStateData","searchInputPlaceholder","listenForNonceUpdates","keyboardShortcuts","data","beforeDestroy","close","getTemplateWithValidSettings","decode","DEFAULT_TEMPLATE_SETTINGS","Watch","SearchInput","Loading","Notifications","blankGlobalBlock","filteredBlocksBySearch","block","saveBlockToWordPress","setLabel","globalBlocks","savedBlock","openEditBlockModal","duplicateBlock","restoreBlock","deleteBlock","domProps","highlightValue","BlockRow","duplicatedBlock","e","selectIt","target","select","newBlockAdded","onBlockAdded","newBlock","saveBlock","trashBlock","globalBlocksByStatus","blocks","EditGlobalBlockModal","addingTemplate","initializeOrReinitializeCombokeys","subscriptionMode","isBlockPostType","ManageGlobalBlocks","ManageTemplates","permission","URLSearchParams","location","get","vuetify","h","props","$mount","ConditionValueV","OperandsV","RuleV","ruleDynamic","ruleDynamicMeta","DynamicFieldOutputV","valueDynamicMeta","ConditionItemGroupV","items","availableForType","operands","values","valueInputType","ConditionsV","TriggerOptionsV","TriggerV","FontFileV","fileName","fileUrl","format","FontFaceV","files","weight","style","CustomFontFamilyV","family","cssUrl","hasExternalCssUrl","cssName","fallbackString","faces","fontId","fontRegistrationData","FontV","DesignProviderMetaV","thumbnailUrl","DesignProviderV","url","isLocal","meta","DesignLibraryDataV","designProviders","globalSettingsLastImportedFromUrl","fullSiteLastImportedFromUrl","DesignSetPostV","tags","ScreenshotV","reliesOnGlobalSettings","requiresPassword","passwordValid","posts","controls","ControlV","returnTypes","DynamicFieldReturnTypeV","subcategory","defaultAttributes","DynamicDataAttributesV","beforeContent","afterContent","shortcode","attributes","DynamicFieldsV","String","BuilderElementControlsV","contentSections","designSections","settingsSections","BuilderElementAttributeTemplatedV","BuilderElementAttributePropertyPathBasedV","propertyPath","BuilderElementAttributeWithRawValueV","rawValue","BuilderElementAttributeV","BuilderElementAttributesV","BuilderElementAdditionalClassV","BuilderElementAdditionalClassesV","BuilderElementDefaultPropertiesV","BuilderActionDataV","script","dependencies","runForAllChildren","ElementDependencyAndConditionV","actionData","elements","scripts","inlineScripts","styles","inlineStyles","builderCondition","frontendCondition","googleFonts","DependencyFiles","BuilderActionsV","js","css","onPropertyChange","onAfterDeletedElement","onMovedElement","onMountedElement","onCreatedElement","onBeforeDeletingElement","onActivatedElement","NestingRuleTypeV","BuilderElementNestingRuleV","restrictedToBeADirectChildOf","restrictedToBeADescendantOf","notAllowedWhenNodeTypeIsPresentInTree","SpacingBarLocationV","SpacingBarCssProperty","PropertyPathsPropertyV","SpacingBarDescriptionV","cssProperty","affectedPropertyPath","DefaultChildElementV","defaultProperties","children","RequiredPluginV","ElementSettingsV","dependsOnGlobalScripts","bypassPointerEvents","sharePropsWithSSRChildren","requiredPlugins","AddPanelRulesV","alwaysHide","allowedPostTypes","BuilderElementProjectManagementValueV","BuilderElementProjectManagementV","looksGood","optionsGood","optionsWork","dynamicBehaviorWorks","notes","BadgeV","BuilderElementV","className","uiIcon","badge","htmlTag","pathToControl","additionalClasses","cssTemplate","defaultCss","defaultChildren","actions","nestingRule","spacingBars","dynamicPropertyPaths","DynamicPropertyPathV","addPanelRules","experimental","order","projectManagement","propertyPathsToWhitelistInFlatProps","propertyPathsToSsrElementWhenValueChanges","BuilderElementCategoryV","BuilderElementCategoriesV","ElementsExternalAttrsDepsAndActionsV","MacrosDataV","macro","InvalidPostsErrorV","InvalidPostDataV","errorType","backToAdminUrl","SubscriptionModeV","getIoTsStringsUnionFromConstStringArray","ConfigDataLoadedFromWordPressV","elementPresets","ElementPresetsV","neededData","BreakdanceNeededDataV","builderElements","elementsExternalAttrsDepsAndActions","builderElementCategories","preferences","PreferencesV","fonts","FontsV","globalSettingsControlsAndTemplate","GlobalSettingsControlsAndTemplateV","PropertiesDataV","plugins","BreakdancePluginsV","availableDocuments","DocumentMetasV","LoadedSelectorDataV","availableMediaSizes","GlobalMediaSizeV","availablePermissions","PermissionV","availableWordpressPlugins","builtinBreakpoints","BreakpointV","twigMacros","twigMacrosHash","designLibrary","DocumentDataLoadedFromWordPressV","BreakdanceDocumentWithExportedTreeV","documentSpecificNeededUrls","BreakdanceDocumentSpecificNeededUrlsV","templatePreview","TemplatePreviewV","SelectorCSSNameV","CSSSelectorV","properties","CSSSelectorListV","RepeaterFieldV","TemplatePreviewableItemV","repeater","TemplatePreviewableItemsV","previewableItems","lastPreviewedItem","TreeNodeDataV","TreeNodeV","_parentId","PartialTreeV","root","_nextNodeId","ExportedTreeV","_lookupTable","MaybeExportedTreeV","FontWeightV","CustomTypographyInputValueV","customTypography","TypographyPresetIdV","TypographyPresetLabelAndIdV","preset","custom","previousCustom","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","every","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}