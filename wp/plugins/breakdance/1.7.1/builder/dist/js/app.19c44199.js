(()=>{"use strict";var e={34580:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(1387),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Default Children "),t("Repeater",{attrs:{value:e.value||[],"default-new-value":e.defaultValue,control:e.repeaterOptions},on:{input:function(t){return e.updateDefaultElements(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:a}){return[t(s.Z,{staticClass:"mb-2",attrs:{value:a.slug,items:e.elementsAvailableForThisElementNestingType,hint:"Element that will be automatically added inside this current element","persistent-hint":"",clearable:""},on:{input:function(t){return e.updatePath(t,n,"slug")}}}),a.slug&&e.canHaveChildren(a.slug)?t("ElementStudioDefaultElements",{staticClass:"mb-2",attrs:{value:a.children,"parent-element-slug":a.slug,"allow-import":!1},on:{input:function(t){return e.updatePath(t,n,"children")}}}):e._e(),a.slug?t("ElementStudioDefaultProperties",{attrs:{value:a.defaultProperties||!1,"element-slug":a.slug},on:{input:function(t){return e.updatePath(t,n,"defaultProperties")}}}):e._e()]}}])}),e.allowImport?t("div",[t("br"),t("div",{staticClass:"mb-2"},[e._v(" Import all children of the currently active element ")]),t("NiceButton",{attrs:{disabled:!e.canImport},on:{click:e.importChildren}},[e._v(" Import Children ")])],1):e._e()],1)},i=[],o=n(70655),r=n(20144),l=n(14391),c=n(34680),d=n.n(c),u=n(64940),p=n(78021),h=n(11701),m=n(61614),g=n(23128),v=n(9950),f=n(52687),y=n(75057),b=n(77986);let S=class extends r.ZP{constructor(){super(...arguments),this.defaultValue={},this.repeaterOptions={options:{repeaterOptions:{defaultTitle:"Default Element",titleTemplate:"{slug}",buttonName:"Add new default element"}}}}beforeCreate(){this.$options.components.ElementStudioDefaultElements=n(34580).Z}updateDefaultElements(e){this.$emit("input",e)}canHaveChildren(e){if(!e)return!1;const t=u.PK.element(e),n=t.nestingRule.type;return!n.startsWith("final")}get canImport(){return!!u.kD.activeElement&&u.kD.activeElement.data.type===this.context.element().slug}importChildren(){if(!u.kD.activeElement)return;const e=t=>({slug:t.data.type,defaultProperties:t.data.properties,children:t.children.map(e)}),t=(0,g.Z)(u.kD.activeElement),n=t.children.map(e);this.updateDefaultElements(n)}get elementsAvailableForThisElementNestingType(){return Object.keys(u.PK.elements).filter((e=>{const t=u.PK.element(this.parentElementSlug),n=u.PK.element(e).nestingRule;return(0,v.V4)(n,t.nestingRule,t.slug)}))}updatePath(e,t,n){const s=(0,g.Z)(this.value)||{};s[t][n]=e,this.$emit("input",s)}};(0,o.gn)([(0,l.fI)()],S.prototype,"value",void 0),(0,o.gn)([(0,l.fI)()],S.prototype,"parentElementSlug",void 0),(0,o.gn)([(0,l.fI)({default:!0})],S.prototype,"allowImport",void 0),(0,o.gn)([(0,l.tB)("context")],S.prototype,"context",void 0),S=(0,o.gn)([(0,l.wA)({components:{NiceButton:b.Z,ElementStudioDefaultProperties:y.Z,TextInput:f.Z,Repeater:m.Z,Dropdown:h.Z,Accordion:p.Z,draggable:d()}})],S);const P=S,_=P;var C=n(1001),w=(0,C.Z)(_,a,i,!1,null,null,null);const x=w.exports},75057:(e,t,n)=>{n.d(t,{Z:()=>S});var s=n(37179),a=n(73385),i=n(75223),o=n(12570),r=n(55234),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",{staticClass:"mb-1"},[e._v("Default Properties")]),t(s.Z,{staticClass:"mr-2",attrs:{small:"",text:"",disabled:!e.canImport,outlined:""},on:{click:e.importDefaultProperties}},[e._v("import")]),e.value?t(s.Z,{attrs:{color:"red darken-1",text:"",small:"",outlined:""},on:{click:e.clearDefaultProperties}},[e._v("clear")]):e._e(),t("div",{staticClass:"element-studio-default-properties-instructions"},[e._v(" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a "),t("b",[e._v(e._s(e.elementSlug))]),e._v(". ")]),t("h5",[e._v("Current Default Properties")]),t("pre",{staticClass:"element-studio-default-properties-preview"},[e._v(e._s(e.value))]),t(o.Z,{attrs:{"max-width":"500"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t(a.Z,[t(i.EB,{staticClass:"headline"},[e._v(" Set Default Properties ")]),t(i.ZB,[e._v(" Set default properties for "+e._s(e.elementSlug)+" to:"),t("br"),t("br"),e._v(" "+e._s(e.defaultProperties)+" ")]),t(i.h7,[t(s.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.cancel}},[e._v(" cancel ")]),t(r.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.confirmDefaultProperties}},[e._v(" confirm ")])],1)],1)],1)],1)},c=[],d=n(70655),u=n(20144),p=n(14391),h=n(85450),m=n(23128);let g=class extends u.ZP{constructor(){super(...arguments),this.dialogOpen=!1,this.defaultProperties=this.value}get canImport(){return!!h.kD.activeElement&&h.kD.activeElement.data.type===this.elementSlug}cancel(){this.dialogOpen=!1}importDefaultProperties(){if(!h.kD.activeElement)return;if(h.kD.activeElement.data.type!==this.elementSlug)return;const e=(0,m.Z)(h.kD.activeElement.data.properties);e&&("settings"in e&&delete e.settings,"meta"in e&&delete e.meta),this.defaultProperties=e,this.dialogOpen=!0}confirmDefaultProperties(){this.dialogOpen=!1,this.$emit("input",this.defaultProperties)}clearDefaultProperties(){confirm("are you sure?")&&this.$emit("input",!1)}};(0,d.gn)([(0,p.fI)()],g.prototype,"value",void 0),(0,d.gn)([(0,p.fI)()],g.prototype,"elementSlug",void 0),g=(0,d.gn)([(0,p.wA)({components:{}})],g);const v=g,f=v;var y=n(1001),b=(0,y.Z)(f,l,c,!1,null,null,null);const S=b.exports},69023:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(37179),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save as Global Block ")]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{attrs:{size:"md",placeholder:"Global Block"},model:{value:e.globalBlockName,callback:function(t){e.globalBlockName=t},expression:"globalBlockName"}})]},proxy:!0},{key:"actions",fn:function(){return[t(s.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(s.Z,{attrs:{color:"blue",dark:"",disabled:!e.globalBlockName},on:{click:e.saveAsGlobalBlock}},[e._v(" Save ")])]},proxy:!0}])})},i=[],o=n(70655),r=n(87615),l=n(20144),c=n(14391),d=n(89137),u=n(52687);let p=class extends l.ZP{constructor(){super(...arguments),this.globalBlockName=""}async saveAsGlobalBlock(e){e.preventDefault(),this.globalBlockName&&(this.elementId&&await(0,r.AM)(this.elementId,this.globalBlockName),this.globalBlockName="",this.$emit("close"))}};(0,o.gn)([(0,c.fI)({required:!0})],p.prototype,"elementId",void 0),p=(0,o.gn)([(0,c.wA)({components:{Dialog:d.Z,TextInput:u.Z}})],p);const h=p,m=h;var g=n(1001),v=(0,g.Z)(m,a,i,!1,null,null,null);const f=v.exports},86184:(e,t,n)=>{n.d(t,{Z:()=>A});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"structure-node-children"},[e._l(e.nodes,(function(n){return[t("StructureNode",{key:n.id,attrs:{element:n,depth:e.depth}})]}))],2)},a=[],i=n(70655),o=n(20144),r=n(14391),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"structure-node":!0,"breakdance--currently-dragging":this.currentlyDragging},attrs:{"data-element-id":e.element.id}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",class:e.activeClass,style:e.indentStyle,on:{click:e.activateElement}},[t("div",{staticClass:"structure-node-title-real"},[t("div",{staticClass:"structure-node-toggle-wrapper"},[e.element.children.length?t("Icon",{staticClass:"structure-node-action__icon",attrs:{icon:"CaretDownIcon",size:"10",rotate:e.shouldShowChildrenNodes?void 0:"270"},on:{click:function(t){return t.stopPropagation(),e.toggleChildren.apply(null,arguments)}}}):e._e()],1),t("div",{class:{"structure-node-title-real-real":!0,"structure-panel-editing-friendly-name":e.editingFriendlyName}},[t("ElementIcon",{staticClass:"structure-node-icon",attrs:{icon:e.baseElement.uiIcon,size:"12"}}),t("div",{staticClass:"element-title-text",attrs:{title:e.friendlyNameInputValue||e.elementName}},[e.editingFriendlyName?e._e():t("span",{staticClass:"element-title-name ellipsis-text",on:{dblclick:e.enableEditingFriendlyName}},[e._v(" "+e._s(e.friendlyNameInputValue||e.elementName)+" ")]),e.editingFriendlyName?t("input",{ref:"friendlyNameInputRef",staticClass:"element-custom-name-input",attrs:{size:e.friendlyNameInputValue,spellcheck:"false"},domProps:{value:e.friendlyNameInputValue},on:{input:function(t){return e.updateFriendlyName(t.target.value)},keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.showElementNameFallback=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableEditing.apply(null,arguments)}],blur:e.disableEditing,mousedown:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)},contextmenu:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)}}}):e._e(),e.isDraftSection&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" (Draft) ")]):e._e(),e.isShowingIdsInStructurePanel&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" #"+e._s(e.element.id)+" ")]):e._e()]),e.editingFriendlyName?e._e():t("div",{staticClass:"structure-node-actions__wrapper"},[t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"BarsIcon",title:"Open menu"},on:{click:e.showContextMenu}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{icon:"DuplicateIcon",title:"Duplicate element"},on:{click:e.duplicate}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"TrashIcon",title:"Delete element"},on:{click:e.remove}})],1)],1)])]),t("div",{staticClass:"nest-deeper",style:e.nestDeeperStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"nest-shallower",style:e.nestShallowerStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}})]),e.shouldShowChildrenNodes?t("ChildStructureNodes",{attrs:{nodes:e.element.children,depth:e.depth+1}}):e._e()],1)},c=[],d=n(27361),u=n.n(d),p=n(85450),h=n(23128),m=n(52960),g=n(85283),v=n(78),f=n(95690),y=n(98992),b=n(94550),S=n(34676);const P=16;let _=class extends o.ZP{constructor(){super(...arguments),this.showElementNameFallback=!0,this.editingFriendlyName=!1}get shouldShowChildrenNodes(){return(0,y.sF)(this.element.id)}beforeCreate(){this.$options.components.ChildStructureNodes=n(86184).Z}activateElement(){p.kD.activateElement(this.element.id),(0,f.iN)("elementproperties")!==(0,f.iN)("structure")&&(0,f.oM)("elementproperties")}get baseElement(){return p.PK.element(this.element.data.type)}get activeClass(){return{"breakdance--active-element":p.kD.activeElementId===this.element.id}}get indentStyle(){const e=this.depth*P;return{marginLeft:`${e}px`,width:`calc(100% - 1px - ${e}px`}}get nestDeeperStyle(){const e=(this.depth+1)*P;return{left:`${e}px`}}get nestShallowerStyle(){const e=this.depth*P;return{width:`${e}px`}}get elementName(){return p.PK.element(this.element.data.type).name}get currentlyDragging(){return p.kD.currentlyDraggingCanvasElementId===this.element.id}get isShowingIdsInStructurePanel(){return p.kD.settings.showElementIdInStructurePanel}duplicate(){p.Hb.duplicateElementAndActivateIt(this.element.id)}showContextMenu(e){p.kD.setOnStructurePanelRightClickMenuState({elementId:this.element.id,position:{x:e.clientX,y:e.clientY}})}remove(){p.Hb.deleteElement({nodeId:this.element.id})}toggleChildren(){const e=(0,h.Z)(p.kD.structurePanelNodesExpandedState);e[this.element.id]=!this.shouldShowChildrenNodes,p.kD.setStructurePanelNodesExpandedState(e)}get isDraftSection(){return this.element.data.type===b.PZ&&u()(this.element.data.properties,"settings.advanced.draft")}get friendlyNameInputValue(){return void 0===this.element.data.properties?.meta?.friendlyName&&this.showElementNameFallback?(this.showElementNameFallback=!1,this.elementName):(this.editingFriendlyName&&(this.showElementNameFallback=!1),this.element.data.properties?.meta?.friendlyName&&this.element.data.properties?.meta?.friendlyName.trim())}enableEditingFriendlyName(){this.editingFriendlyName=!0,(0,S.n)((()=>{this.$refs.friendlyNameInputRef.focus(),this.$refs.friendlyNameInputRef.select()}))}updateFriendlyName(e){p.Hb.unthrottledPropertyChanged({elementId:this.element.id,path:"meta.friendlyName",meta:{snapshotLabel:`Updated friendly name for element "${this.elementName}"`},value:e?.trim()||void 0})}disableEditing(){this.editingFriendlyName=!1,this.showElementNameFallback=!0}noop(e){return e.stopPropagation(),{}}};(0,i.gn)([(0,r.fI)()],_.prototype,"element",void 0),(0,i.gn)([(0,r.fI)()],_.prototype,"depth",void 0),_=(0,i.gn)([(0,r.wA)({name:"StructureNode",components:{ElementIcon:v.Z,Icon:g.Z,StructureContextMenu:m.Z}})],_);const C=_,w=C;var x=n(1001),k=(0,x.Z)(w,l,c,!1,null,null,null);const I=k.exports;let E=class extends o.ZP{};(0,i.gn)([(0,r.fI)()],E.prototype,"nodes",void 0),(0,i.gn)([(0,r.fI)()],E.prototype,"depth",void 0),E=(0,i.gn)([(0,r.wA)({components:{StructureNode:I},name:"ChildStructureNodes"})],E);const D=E,Z=D;var T=(0,x.Z)(Z,s,a,!1,null,null,null);const A=T.exports},52960:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(84192),a=n(70248),i=n(61908),o=n(11193),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Dropdown",{attrs:{absolute:!0,"position-x":e.position.x,"position-y":e.position.y,transition:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0),model:{value:e.shouldShow,callback:function(t){e.shouldShow=t},expression:"shouldShow"}},[t(a.Z,{attrs:{dense:""}},[t(i.Z,{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.copyElement.apply(null,arguments)}}},[t(o.V9,[e._v("Copy")])],1),t(i.Z,{attrs:{link:!0,disabled:!e.canPasteElement},nativeOn:{click:function(t){return e.pasteElement.apply(null,arguments)}}},[t(o.V9,[e._v("Paste")])],1),t(i.Z,{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("design")}}},[t(o.V9,[e._v("Paste Design")])],1),t(i.Z,{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("settings")}}},[t(o.V9,[e._v("Paste Settings")])],1),t(s.Z),t(i.Z,{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.deleteElement.apply(null,arguments)}}},[t(o.V9,[e._v("Delete")])],1),t(s.Z),t(i.Z,{attrs:{link:!0,disabled:!e.canSaveAsGlobalBlock},nativeOn:{click:function(t){return e.openSaveGlobalBlockDialog.apply(null,arguments)}}},[t(o.V9,{staticClass:"pointer-events-none"},[e._v("Save as Global Block")])],1)],1)],1),e.saveGlobalBlockDialog?t("GlobalBlockDialog",{attrs:{"element-id":e.element.id},on:{close:e.closeGlobalBlockDialog}}):e._e()],1)},l=[],c=n(70655),d=n(20144),u=n(14391),p=n(6529),h=n(85450),m=n(87615),g=n(69023),v=n(11701),f=n(31381),y=n(31737);let b=class extends d.ZP{constructor(){super(...arguments),this.saveGlobalBlockDialog=!1,this.clipboardDialog=!1,this.canPasteElement=!1,this.canPasteElementProperties=!1}get menuState(){return"closed"!==h.kD.onStructurePanelRightClickMenuState?h.kD.onStructurePanelRightClickMenuState:null}get position(){return this.menuState?.position||{x:0,y:0}}get elementId(){return this.menuState?.elementId}get element(){return(0,f.DY)(h.Hb.document.tree,this.elementId)}async onStateChange(){const{permission:e}=await(0,y.fn)();if(this.permission=e?.state,"prompt"===this.permission)return this.canPasteElement=!0,void(this.canPasteElementProperties=!0);this.canPasteElement=await(0,p.Ku)(this.menuState?.elementId?this.menuState.elementId:h.Hb.document.tree.root.id),this.canPasteElementProperties=!!this.menuState?.elementId&&await(0,p.us)(this.menuState.elementId)}copyElement(){this.elementId&&(0,p.NA)(this.elementId)}pasteElement(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId?(0,p.HR)(this.elementId):(0,p.HR)(h.Hb.document.tree.root.id)}pasteElementProperties(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId&&(0,p.qb)(this.elementId,e)}deleteElement(){this.elementId&&h.Hb.deleteElement({nodeId:this.elementId})}openSaveGlobalBlockDialog(){this.elementId&&(this.saveGlobalBlockDialog=!0)}closeGlobalBlockDialog(){this.saveGlobalBlockDialog=!1,this.$emit("close")}get canSaveAsGlobalBlock(){return this.elementId&&(0,m.VQ)(this.elementId)}get shouldShow(){return"closed"!==h.kD.onStructurePanelRightClickMenuState&&!this.saveGlobalBlockDialog}set shouldShow(e){e||h.kD.setOnStructurePanelRightClickMenuState("closed")}};(0,c.gn)([(0,u.RL)("menuState")],b.prototype,"onStateChange",null),b=(0,c.gn)([(0,u.wA)({components:{GlobalBlockDialog:g.Z,Dropdown:v.Z}})],b);const S=b,P=S;var _=n(1001),C=(0,_.Z)(P,r,l,!1,null,null,null);const w=C.exports},5502:(e,t,n)=>{function s(e,t,n,s,i){function o(e,r){if(a(e)){const s={};for(const a in e){if(a===t)return e[a];if(n.includes(a))continue;const i=o(e[a],`${r?`${r}.`:""}${a}`);void 0!==i&&(s[a]=i)}return Object.keys(s).length?s:void 0}if(Array.isArray(e)){const t=[];if(e.forEach((e=>{t.push(o(e,`${r}[]`))})),0===t.filter((e=>void 0!==e)).length)return;return t.length?t:void 0}const l=r&&i?.some((e=>r.startsWith(e)));return t===s||l?e:void 0}return o(e,"")}function a(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}n.d(t,{A:()=>s,S:()=>a})},88615:(e,t,n)=>{n.d(t,{FX:()=>p,RQ:()=>c,dI:()=>f,dw:()=>v,en:()=>m,i7:()=>y,o_:()=>g,oi:()=>h});var s=n(86042),a=n(31304),i=n.n(a),o=n(3735),r=n(48973),l=n(72045);function c(e){if(!p(e))return!0;const t=u(e),n=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16),i=parseInt(t.substr(6,2),16),o=(299*n+587*s+114*a)/1e3;return o>230||i<100}function d(e){return e.replace("#","")}function u(e){const t=d(e);return 3!==t.length?t:t.split("").map((e=>e+e)).join("")}function p(e){const t=u(e);return(6===t.length||8===t.length)&&!isNaN(Number("0x"+t))}function h(e){return e.value.startsWith("var(--")}function m(e,t){if(!h(e))return;const n=g(e.value);return t.find((e=>e.cssVariableName===n))}function g(e){const t=/var\(--(.*)\)/g,n=t.exec(e);return null!==n?n[1]:null}function v(e,t){const n="bde-palette-",s=t?`-${t}`:"",a=i()(e,{lower:!0}),o=(0,l.Z)();return`${n}${a}-${o}${s}`}function f(e){return(0,o.zG)(e.value,s.Dz.decode,(0,r.g_)((()=>e.value),(e=>e.value)))}function y(e){return(0,o.zG)(e.value,s.Dz.decode,(0,r.g_)((()=>!1),(()=>!0)))}},6529:(e,t,n)=>{n.d(t,{Ku:()=>Y,us:()=>Q,NA:()=>K,HR:()=>X,qb:()=>q,uV:()=>W});var s=n(27361),a=n.n(s),i=n(31381),o=n(85450),r=n(45974),l=n(30902),c=n(9950),d=n(69137),u=n(23128),p=n(65118),h=n(65669),m=n(84274),g=n(565),v=n(72045),f=n(12721),y=n(31737),b=n(31549),S=n(75031),P=n(32521),_=n(86042),C=n(27519);const w=P.dt({source:P.Z_,colors:_.f8,presets:P.IX(C.lv),element:S.NM});var x=n(13218),k=n.n(x),I=n(36968),E=n.n(I),D=n(88615),Z=n(64940);function T(e,t){const n=(t,s,a)=>{const i=`${s}.${t.slug}`;return e===t.options.type&&a.push(i),t.children.forEach((e=>{a=n(e,i,a)})),a},s=[];return t.controls.contentSections.forEach((e=>{s.concat(n(e,"content",s))})),t.controls.designSections.forEach((e=>{s.concat(n(e,"design",s))})),s}function A(e,t,n){const s=(0,u.Z)(e),i=Z.PK.element(s.data.type),o=T("typography",i);o.forEach((e=>{const n=a()(s.data.properties,`${e}.preset`);if(!n)return;const i=R(t,n);i&&E()(s.data.properties,e,{custom:i.custom})}));const r=T("color",i),l=(e,t)=>{const a=F(n,t);a&&E()(s.data.properties,e,a.value)};return r.forEach((e=>{const t=a()(s.data.properties,e);if(t)if(k()(t))for(const n in t)l(`${e}.${n}`,t[n]);else l(e,t)})),s}function B(e){const t=n=>{const s=A(n,e.presets,e.colors),a=n.children.map(t);return{...s,children:a}};return t(e.element)}function O(e){const t=location.hostname;return{source:t,element:e,colors:[],presets:[]}}const R=(e,t)=>{if(!M(t))return e.find((e=>e.preset.id===t))};function M(e){return Z.cr.typographyPresets?.find((t=>t.preset.id===e))}function F(e,t){if(!N(t)||N(t)&&$(t))return;const n=(0,D.o_)(t);return e.find((e=>e.cssVariableName===n))}function N(e){return"string"===typeof e&&e.startsWith("var(")}function $(e){const t=(0,D.o_)(e);return Z.cr.globalColors.find((e=>e.cssVariableName===t))}const L=new f.hF;function W(){return{register(){L.on("copy",V),L.on("cut",V),L.on("paste",V)},unbind(){L.removeAll()}}}function V(e){const t=window.Breakdance.canvas.document,n=(0,y.SD)(t)||(0,y.SD)(document);n||(e.preventDefault(),"copy"===e.type&&o.kD.activeElementId?K(o.kD.activeElementId):"cut"===e.type&&o.kD.activeElementId?j(o.kD.activeElementId):"paste"===e.type&&X(o.kD.activeElementId,e))}async function H(e){const{secure:t,permission:n}=await(0,y.fn)();return e&&!window.safari?"event":t?null===n||"denied"===n.state?"localstorage":"clipboard":"localstorage"}async function U(e){try{await navigator.clipboard.writeText(e),console.debug("Writing to clipboard")}catch(t){(0,y._G)(e),console.debug("Fallback: Writing to clipboard")}(0,b.r)("breakdance_copied_element_json_string",e)}async function z(e){const t=e?.clipboardData?.getData("text"),n=await H(e);return console.debug(`Reading clipboard from ${n}`),"event"===n?t:"localstorage"===n?(0,b.z)("breakdance_copied_element_json_string"):await navigator.clipboard.readText()}async function G(e){const t=await z(e);if(!t)return null;const n=(0,p.Z)(t,w);return(0,l.pipe)(n,(0,r.fold)((()=>null),(e=>(console.debug("Got element from clipboard",e),B(e)))))}function K(e){const t=(0,i.DY)(o.Hb.document.tree,e);if(!t)return;const n=(0,i.HC)(t),s=O(n);(0,l.pipe)(s,h.J,(0,r.fold)((e=>console.error("Failed to copy element",...e.map((e=>e.toString())))),(e=>{U(e)})))}function j(e){K(e),o.Hb.deleteElement({nodeId:e})}async function X(e,t){if("success"!==o.PK.elementsLoadingState)return;const n=await G(t);if(!n)return;const s=(0,c.Z)(o.Hb.document.tree,e,(0,c.kE)(n)),a=(0,v.Z)(),i=`Paste:${a}`;(0,l.pipe)(s,(0,r.fold)((()=>{}),(e=>{"TOP_LEVEL"===e?d.n.transaction((()=>{const e={nodeId:void 0};o.Hb.addElementMutation({elementSlug:(0,c.zV)(),parentNodeId:o.Hb.document.tree.root.id,index:!1,pointer:e}),void 0!==e.nodeId&&(o.Hb.pasteCopiedElementMutation({element:n,placeToAddId:e.nodeId,placeToAddIndex:0}),g.w.run.onCreatedElement({elementId:n.id,transactionKey:i}))}),`Paste copied ${(0,m.JC)(n.data.type)} into a new section`,i):d.n.transaction((()=>{const t={nodeId:void 0};o.Hb.pasteCopiedElementMutation({element:n,placeToAddId:e.place.id,placeToAddIndex:e.index||e.place.children.length,pointer:t}),t.nodeId&&g.w.run.onCreatedElement({elementId:t.nodeId,transactionKey:i})}),`Paste copied ${(0,m.JC)(n.data.type)}`,i)})))}async function q(e,t="design"){const n=await G();if(!n)return;const s=(0,i.DY)(o.Hb.document.tree,e);if(!s)return;const r=a()(n.data.properties,t,null);n.data.type===s.data.type&&o.Hb.throttledPropertyChanged({elementId:s.id,path:t,value:(0,u.Z)(r),meta:{snapshotLabel:`Paste properties of ${(0,m.JC)(n.data.type)} to ${(0,m.JC)(s.data.type)}`}})}async function Y(e){if("success"!==o.PK.elementsLoadingState)return!1;const t=await G();if(!t)return!1;const n=(0,c.Z)(o.Hb.document.tree,e,(0,c.kE)(t));return(0,r.isRight)(n)}async function Q(e){const t=await G();if(!t)return!1;const n=(0,i.DY)(o.Hb.document.tree,e);return t.data.type===n?.data.type}},31737:(e,t,n)=>{async function s(){try{return await navigator.permissions.query({name:"clipboard-read",allowWithoutGesture:!1})}catch(e){return null}}async function a(){const e=await s();return{secure:window.isSecureContext,permission:e}}function i(e){const t=document.createElement("textarea");let n;t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",t.classList.add("breakdance-offscreen-input"),document.body.appendChild(t),t.focus(),t.select();try{n=document.execCommand("copy")}catch(s){n=!1}return document.body.removeChild(t),n}function o(e){return"INPUT"===e?.nodeName}function r(e){const t=["button","checkbox","hidden","file","radio","image","range","reset","submit","number","email","time"];return o(e)&&e.type&&!t.includes(e.type)||"TEXTAREA"===e.nodeName||"true"===e.contentEditable}function l(e){const t=e?.defaultView?.getSelection(),n=t?.rangeCount?t.getRangeAt(0):null;return!!n&&!n.collapsed}function c(e){const t=e.activeElement;return t&&(o(t)||r(t)||l(e))}n.d(t,{SD:()=>c,_G:()=>i,fn:()=>a})},25970:(e,t,n)=>{n.d(t,{Ao:()=>b,Kd:()=>g,Ko:()=>v,y9:()=>m});var s=n(98851),a=n(85450),i=n(30902),o=n(45974),r=n(43195),l=n(31381),c=n(58172),d=n(47902),u=n(39664),p=n(85902),h=n(62231);async function m(e){const t=(0,p.j)();if(!e.length)return{};const n=y(e);let r={};return t?((0,i.pipe)(await(0,s.D)({action:"breakdance_dynamic_data_get",overrideAjaxUrl:t,dataToPost:{shortcodes:n,id:a.Hb.document.documentMeta.id},decoder:d.Y_,resultKey:"data"}),(0,o.fold)((e=>{e.forEach((e=>u.Z.log.message(e.msg))),Object.keys(n).forEach((e=>{r[e]=""}))}),(e=>{r=e}))),r):(Object.keys(n).forEach((e=>{r[e]=""})),r)}async function g(){const e=f(a.Hb.document.tree),t=await m(e);a.PK.updateDynamicDataCache(t)}function v(e,t){const n=[];return(0,c.xV)(e,(e=>{(0,r.xs)(e)&&!t[e]&&n.push(e)})),n}function f(e){return[...new Set((0,l.K1)(((e,t)=>{const n=v(e.data.properties,a.PK.dynamicDataCache.data);return[...t,...n]}),e.root,[]))]}function y(e){const t={};return e.forEach((e=>{const n=b(e);t[n]=e})),t}function b(e){return(0,h.X)(e)}},11815:(e,t,n)=>{function s({namespace:e,phpClassName:t,uiIcon:n,tag:s,tagOptions:a,tagControlPath:i,name:o,className:r,category:l,badge:c,defaultProperties:d,defaultChildrenElements:u,designControls:p,contentControls:h,settingsControls:m,dependencies:g,settings:v,addPanelRules:f,actions:y,nestingRules:b,spacingBars:S,attributes:P,experimental:_,order:C,dynamicPropertyPaths:w,additionalClasses:x,projectManagement:k,propertyPathsToWhitelistInFlatProps:I,propertyPathsToSsrElementWhenValueChanges:E}){return`<?php\n\nnamespace ${e};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\n\\Breakdance\\ElementStudio\\registerElementForEditing(\n    "${e}\\\\${t}",\n    \\Breakdance\\Util\\getdirectoryPathRelativeToPluginFolder(__DIR__)\n);\n\nclass ${t} extends \\Breakdance\\Elements\\Element\n{\n    static function uiIcon()\n    {\n        return '${n}';\n    }\n\n    static function tag()\n    {\n        return '${s}';\n    }\n\n    static function tagOptions()\n    {\n        return ${a};\n    }\n\n    static function tagControlPath()\n    {\n        return ${i};\n    }\n\n    static function name()\n    {\n        return '${o}';\n    }\n\n    static function className()\n    {\n        return '${r}';\n    }\n\n    static function category()\n    {\n        return '${l}';\n    }\n\n    static function badge()\n    {\n        return ${c};\n    }\n\n    static function slug()\n    {\n        return get_class();\n    }\n\n    static function template()\n    {\n        return file_get_contents(__DIR__ . '/html.twig');\n    }\n\n    static function defaultCss()\n    {\n        return file_get_contents(__DIR__ . '/default.css');\n    }\n\n    static function defaultProperties()\n    {\n        return ${d};\n    }\n\n    static function defaultChildren()\n    {\n        return ${u};\n    }\n\n    static function cssTemplate()\n    {\n        $template = file_get_contents(__DIR__ . '/css.twig');\n        return $template;\n    }\n\n    static function designControls()\n    {\n        return ${p};\n    }\n\n    static function contentControls()\n    {\n        return ${h};\n    }\n\n    static function settingsControls()\n    {\n        return ${m};\n    }\n\n    static function dependencies()\n    {\n        return ${g};\n    }\n\n    static function settings()\n    {\n        return ${v};\n    }\n\n    static function addPanelRules()\n    {\n        return ${f};\n    }\n\n    static public function actions()\n    {\n        return ${y};\n    }\n\n    static function nestingRule()\n    {\n        return ${b};\n    }\n\n    static function spacingBars()\n    {\n        return ${S};\n    }\n\n    static function attributes()\n    {\n        return ${P};\n    }\n\n    static function experimental()\n    {\n        return ${_};\n    }\n\n    static function order()\n    {\n        return ${C};\n    }\n\n    static function dynamicPropertyPaths()\n    {\n        return ${w};\n    }\n\n    static function additionalClasses()\n    {\n        return ${x};\n    }\n\n    static function projectManagement()\n    {\n        return ${k};\n    }\n\n    static function propertyPathsToWhitelistInFlatProps()\n    {\n        return ${I};\n    }\n\n    static function propertyPathsToSsrElementWhenValueChanges()\n    {\n        return ${E};\n    }\n}\n`}n.d(t,{i:()=>s})},17231:(e,t,n)=>{function s(e,t,n,s){return`<?php\n\nnamespace ${n};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\\Breakdance\\Elements\\PresetSections\\PresetSectionsController::getInstance()->register(\n    "${e}",\n    ${t},\n    true,\n    ${s}\n);\n\n`}n.d(t,{C:()=>s})},87615:(e,t,n)=>{n.d(t,{AM:()=>v,VQ:()=>b,db:()=>g});var s=n(98851),a=n(9665),i=n(45974),o=n(31381),r=n(85450),l=n(30902),c=n(94550),d=n(23128),u=n(9950),p=n(39664),h=n(65669),m=n(565);async function g(){return await(0,s.D)({action:"breakdance_load_blocks",resultKey:"blocks",decoder:a.G})}async function v(e,t){const n=(0,o.DY)(r.Hb.document.tree,e);if(!n)return;const s=f(n);r.kD.setElementUpdatingState({elementId:e,isUpdating:!0}),(0,l.pipe)(await y({tree:s,label:t,id:-1,editInBreakdanceLink:""}),(0,i.fold)((t=>{t.forEach((e=>p.Z.log.message(e.msg))),r.kD.setElementUpdatingState({elementId:e,isUpdating:!1})}),(t=>{const s=(0,o.E)(r.Hb.document.tree,n.id),a=(0,o.Lf)(r.Hb.document.tree,n.id);if(r.kD.setElementUpdatingState({elementId:e,isUpdating:!1}),!a)return;if(!(0,u.V4)((0,u.V9)(c.pQ),(0,u.V9)(a.data.type),a.data.type,"breakdance_block"))return;const i={nodeId:void 0};r.Hb.addElementMutation({elementSlug:c.pQ,parentNodeId:a.id,index:s,pointer:i}),i.nodeId&&(m.w.run.onCreatedElement({elementId:i.nodeId,transactionKey:void 0}),r.Hb.deleteElement({nodeId:e}),r.Hb.throttledPropertyChanged({elementId:i.nodeId,path:"content.content.block",value:t.id,meta:{snapshotLabel:"Replace element with a global block"}}),r.kD.activateElement(i.nodeId))})))}function f(e){const t=(0,o.vb)(),n=(0,o.Bc)(t,e),s=(0,u.xJ)(t,n,t.root.id,"breakdance_block");if(s)(0,o.Dv)(t,n.id,t.root.id,t.root.children.length,"breakdance_block");else{const e=(0,o.dS)(t,{type:c.zn,properties:r.PK.element(c.zn).defaultProperties?(0,d.Z)(r.PK.element(c.zn).defaultProperties):null});(0,o.Dv)(t,e.id,t.root.id,t.root.children.length,"breakdance_block"),(0,o.Dv)(t,n.id,e.id,e.children.length,"breakdance_block")}return(0,o.n$)(t)}async function y(e){return await(0,s.D)({friendlyName:"Saving Global Block to WordPress",action:"breakdance_save_global_block",dataToPost:{...e,tree:(0,h.J)(e.tree)},decoder:a.H,resultKey:"block"})}function b(e){const t=(0,o.DY)(r.Hb.document.tree,e);if(!t)return!1;if(t.data.type===c.pQ)return!1;const n=(0,o.vb)(),s=(0,o.dS)(n,{type:c.zn,properties:null});return(0,o.Dv)(n,s.id,n.root.id,n.root.children.length,"breakdance_block"),!!(0,u.xJ)(n,t,s.id,"breakdance_block")||!!(0,u.xJ)(n,t,n.root.id,"breakdance_block")}},1073:(e,t,n)=>{n.d(t,{T:()=>h,_:()=>p});var s=n(98851),a=n(75031),i=n(30902),o=n(45974),r=n(51168),l=n(64940),c=n(32521),d=n(65669),u=n(69137);async function p(){const e=await(0,s.D)({action:"breakdance_load_global_settings",decoder:a.az});return(0,i.pipe)(e,(0,o.fold)((e=>((0,r.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(u.n.ignore((()=>{l.cr.setGlobalSettings(e.globalSettings),l.cr.markCurrentGlobalSettingsAsUntouched()})),!0))))}async function h(){return(0,i.pipe)(await(0,s.D)({friendlyName:"Saving global settings to WordPress",action:"breakdance_save_global_settings",dataToPost:{globalSettings:(0,d.J)(l.cr.globalSettings)},decoder:c._4}),(0,o.fold)((e=>((0,r.UE)(e),!1)),(()=>(u.n.ignore((()=>l.cr.markCurrentGlobalSettingsAsUntouched())),!0))))}},18759:(e,t,n)=>{n.d(t,{MK:()=>l,co:()=>i,jv:()=>r,ln:()=>u,rg:()=>o,uz:()=>d,v:()=>c,y3:()=>p});var s=n(64940),a=n(23128);function i(e,t){return s.kD.panelState.accordionState.elementProperties[e]?.[t]}function o(e,t,n){const i=(0,a.Z)(s.kD.panelState);i.accordionState.elementProperties={...i.accordionState.elementProperties,[e]:{...i.accordionState.elementProperties[e],[t]:n}},s.kD.setPanelState(i)}function r(e,t){return s.kD.panelState.accordionState.selectors[e]?.[t]}function l(e,t,n){const i=(0,a.Z)(s.kD.panelState);i.accordionState.selectors={...i.accordionState.selectors,[e]:{...i.accordionState.selectors[e],[t]:n}},s.kD.setPanelState(i)}function c(e,t){const n=(0,a.Z)(s.kD.panelState);n.accordionState.globalSettings={...n.accordionState.globalSettings,[e]:t},s.kD.setPanelState(n)}function d(e){return s.kD.panelState?.accordionState?.globalSettings[e]}function u(e,t){const n=(0,a.Z)(s.kD.panelState);n.accordionState.dynamicDataFieldAttributes={...n.accordionState.dynamicDataFieldAttributes,[e]:t},s.kD.setPanelState(n)}function p(e){return s.kD.panelState?.accordionState?.dynamicDataFieldAttributes[e]}},37982:(e,t,n)=>{n.d(t,{DQ:()=>b,Fr:()=>y,_S:()=>v,c3:()=>S,y8:()=>g,zF:()=>P});var s=n(45974),a=n(21516),i=n(98851),o=n(3735),r=n(48973),l=n(51168),c=n(64940),d=n(65669),u=n(32521),p=n(95690),h=n(69137),m=n(39664);function g(e){return/^-?[.]+[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(e)}function v(e){try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0}function f(e){if("class"===e.type){if(!g(e.name))return void m.Z.log.message(`${e.name} is not a valid CSS class name.`)}else if(!v(e.name))return void m.Z.log.message(`${e.name} is not a valid CSS selector.`);c.cr.cssSelectors.find((t=>t.name===e.name))?m.Z.log.message(`${e.name} is already present.`):h.n.transaction((()=>c.cr.setSelectors([...c.cr.cssSelectors,e])),"Add Selector")}function y(e){f(e),(0,p.O_)("selectors")||P()}function b(e){if(!v(e))return(0,s.left)([`"${e}" is not a valid CSS selector.`]);const t=!!g(e);return(0,s.right)({name:e,type:t?"class":"custom",properties:{}})}async function S(){const e=await(0,i.D)({action:"breakdance_load_selectors",decoder:a.Ng});return(0,o.zG)(e,(0,r.g_)((e=>((0,l.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(h.n.ignore((()=>{c.cr.setSelectors(e),c.cr.markCurrentSelectorsAsUntouched()})),!0))))}async function P(){return(0,o.zG)(await(0,i.D)({friendlyName:"Saving selectors to WordPress",action:"breakdance_save_selectors",dataToPost:{selectors:(0,d.J)(c.cr.cssSelectors)},decoder:u._4}),(0,r.g_)((e=>((0,l.UE)(e),!1)),(()=>(h.n.ignore((()=>c.cr.markCurrentSelectorsAsUntouched())),!0))))}},98992:(e,t,n)=>{n.d(t,{FM:()=>o,nx:()=>r,sF:()=>l,u3:()=>i});var s=n(31381),a=n(64940);function i(e,t){return(0,s.K1)(((e,n)=>(n[e.id]=t,n)),e.root,{})}function o(e,t){const n=(0,s.DY)(e,t);if(n)return(0,s.J9)(((e,t)=>(t[e.id]=!0,t)),e,n,{})}function r(e){return!1===a.kD.structurePanelNodesExpandedState[e]}function l(e){return void 0===a.kD.structurePanelNodesExpandedState[e]||!0===a.kD.structurePanelNodesExpandedState[e]}},13960:(e,t,n)=>{n.d(t,{$0:()=>a,V9:()=>o,dO:()=>r,ur:()=>l});var s=n(64940);function a(e,t){return t.proOnly?i(e):e}function i(e){return"free"===s.PK.subscriptionMode?`${e} [PRO]`:e}function o(e,t){return e&&t.length&&e.flat().find((e=>t.find((t=>t.slug===e.ruleSlug))))}function r(e){return"free"===s.PK.subscriptionMode&&e.proOnly}function l(){return{backgroundColor:"var(--gray200)",label:"Pro",textColor:"var(--gray800)"}}},32127:(e,t,n)=>{n.d(t,{Dl:()=>C,Ft:()=>T,Oc:()=>x,PX:()=>k,UH:()=>Z,gn:()=>B,x2:()=>w});var s=n(8400),a=n.n(s),i=n(98851),o=n(47245),r=n(85450),l=n(67505),c=n(23128),d=n(69137),u=n(45974),p=n(30902),h=n(51168),m=n(25970),g=n(86592),v=n(13635),f=n(32521),y=n(65669),b=n(89381),S=n(63842),P=n(39664),_=n(565);async function C(e){return await(0,i.D)({action:"breakdance_load_document",dataToPost:{id:e},decoder:o.Ux})}async function w(){return await(0,i.D)({action:"breakdance_load_document",decoder:o.d0})}function x(e,t){(0,p.pipe)(e,(0,u.fold)((e=>{r.kD.setInterfaceState("normal"),(0,h.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0}))))}),(async e=>{D(),(0,l.jE)(e.plugins),I(e),t?.returnUrl&&r.Sr.setBackToAdminUrl(t.returnUrl),(0,g.Ui)(),(0,g.iZ)(),r.kD.selectBaseBreakpoint(),(0,b.w7)("globalSettings",t?.browseModeOpenUrl)})))}function k(e){(0,p.pipe)(e,(0,u.fold)((e=>{r.kD.setInterfaceState("normal"),(0,h.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0}))))}),(async e=>{if("errorType"in e)return r.kD.setInterfaceState("normal"),void r.PK.setInvalidPostData(e);D(),(0,v.Ik)(),(0,l.jE)(e.plugins),E(e),(0,g.Ui)(),(0,g.iZ)(),await(0,m.Kd)(),r.kD.selectBaseBreakpoint(),r.kD.setInterfaceState("normal"),d.n.initialize()})))}function I(e){r.PK.setEnvironment(e.environment),r.PK.setElementsAndAppendRootElement(e.builderElements),r.PK.setElementsExternalAttrsDepsAndActions(e.elementsExternalAttrsDepsAndActions),r.PK.setElementCategories(e.builderElementCategories),r.PK.setPreferences(e.preferences),r.PK.setDynamicFields(e.dynamicFields),r.PK.setConditions(e.conditions),r.PK.setFonts(e.fonts),r.PK.setGlobalSettingsControlsAndTemplate(e.globalSettingsControlsAndTemplate),r.PK.setAvailableDocuments(e.availableDocuments),r.PK.setAvailableMediaSizes(e.availableMediaSizes),r.PK.setAvailablePermissions(e.availablePermissions),r.PK.setPermission(e.permission),r.PK.setSelectorControls(e.selectors.controls),r.PK.setClassTemplate(e.selectors.template),r.PK.setNeededUrls(e.neededData),r.PK.setPresetsForElements(e.elementPresets),r.PK.setBuiltinBreakpoints(e.builtinBreakpoints),r.PK.setTwigMacros(e.twigMacros),r.PK.setTwigMacrosHash(e.twigMacrosHash),r.PK.setAvailableWordpressPlugins(e.availableWordpressPlugins),r.PK.setDesignLibrary(e.designLibrary),r.PK.setSubscriptionMode(e.subscriptionMode),d.n.ignore((()=>{r.cr.setGlobalSettings(e.globalSettings),r.cr.markCurrentGlobalSettingsAsUntouched(),r.cr.setSelectors(e.selectors.selectors),r.cr.markCurrentSelectorsAsUntouched()}))}function E(e){r.Hb.setDocument(e.document),r.PK.setDocumentSpecificNeededUrls(e.documentSpecificNeededUrls),r.PK.loadTemplatePreviewData(e.templatePreview),I(e)}function D(){window.Breakdance.originalUrl=location.href,window.Breakdance.stores={configStore:r.PK,documentStore:r.Hb,uiStore:r.kD,globalStore:r.cr}}function Z(e){const t=new URL(window.Breakdance.originalUrl);return t.searchParams.set("id",`${e}`),t.search=t.searchParams.toString(),t.href}async function T(e){return(0,i.D)({action:"breakdance_save_template_last_previewed_item",decoder:f.dt({success:f.i0(!0)}),dataToPost:{postId:r.Hb.document.documentMeta.id,item:(0,y.J)(e)}})}class A{setupHook(e){this.store=e,this.initialState=(0,c.Z)(this.store.state)}resetToInitialState(){const e=(0,c.Z)(this.initialState);this.store.replaceState(e)}}new A;async function B(){(0,p.pipe)(await(0,i.D)({action:"breakdance_load_builder_elements",resultKey:"elements",decoder:f.IX(S._t)}),(0,u.fold)((e=>{e.forEach((e=>P.Z.log.message(e.msg))),r.PK.setElementsLoadingState("failed"),r.kD.logError("Failed to load elements")}),(e=>{const t=a()(e,10);t.forEach(((e,n)=>{requestIdleCallback((()=>{r.PK.addNonExistentElementsNonReactively(e),(0,g.iZ)(e);const s=n===t.length-1;s&&(_.w.registerAllStoreActions(),r.PK.setElementsLoadingState("success"))}))}))})))}},96316:(e,t,n)=>{n(86702);var s=n(20144),a=n(31096),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{class:e.classList},[t("Notifications"),e.isBrowseModeEnabled?[t("BrowseMode",{key:"browser"})]:[t("Builder",{key:"builder"})]],2)},o=[],r=n(70655),l=n(14391),c=n(85450),d=n(43274),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-builder"},[e.errorsPresent?t("UnrecoverableErrors"):"normal"===e.interfaceState?t("BuilderLayout"):"loading"===e.interfaceState?t("Loading"):e._e()],1)},p=[],h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayout",{class:e.classList,scopedSlots:e._u([{key:"topbar",fn:function(){return[t("BuilderTopBar")]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("DesignLibraryModal"),t("FirstTimeVisit"),t("SidebarPanels",{attrs:{panelState:e.leftSidebarPanelState,position:"left"}}),t("IframeCanvas",{on:{loaded:e.onIframeLoaded}}),e.showTemplateDialog?t("TemplateDialog",{attrs:{"template-id":e.templateId,"template-name":e.templateName,templateIsFallback:e.isTemplateFallback,templatesPageUrl:e.templatesPageUrl}}):e._e(),e.showInvalidPostDialog?t("InvalidPostDialog"):e._e(),e.preferencesModalOpen?t("PreferencesModal",{attrs:{open:e.preferencesModalOpen},on:{"update:dialog":e.updatePreferencesModal}}):e._e(),e.keyboardShortcutsHelpModalOpen?t("KeyboardShortcutsHelpModal",{attrs:{open:e.keyboardShortcutsHelpModalOpen},on:{"update:dialog":e.updateKeyboardShortcutsHelpModal}}):e._e(),t("SidebarPanels",{attrs:{panelState:e.rightSidebarPanelState,position:"right"}}),e.elementStudioOpen?t("div",{staticClass:"breakdance-app-far-right-area vscroll-wrap"},[t("ElementStudio")],1):e._e()]},proxy:!0}])})},m=[],g=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.iframeURL?t("IframeWrapper",{attrs:{"iframe-url":e.iframeURL,"iframe-preview-width":e.canvasPreviewWidth,"iframe-exited":e.iframeExited,"iframe-state":e.canvasState,"min-width":e.iframeMinWidth,"current-breakpoint":e.currentBreakpoint,"iframe-id":"iframe"},on:{previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,iframeLoaded:e.mountCanvasInIframe,iframeUnloaded:e.setIframeAsExited,reloadWanted:e.reloadIframe,resetPreviewWidth:e.handleResetPreviewWidth}}):e._e()},v=[];const f='/* Copied from globals.scss, don\'t modify here directly */\n:root {\n  --white: #ffffff;\n  --black: #000000;\n\n  --blue50: #eff6ff;\n  --blue100: #dbeafe;\n  --blue200: #bfdbfe;\n  --blue300: #93c5fd;\n  --blue400: #60a5fa;\n  --blue500: #3b82f6;\n  --blue600: #2563eb;\n  --blue700: #1d4ed8;\n  --blue800: #1e40af;\n  --blue900: #1e3a8a;\n\n  --red600: #dc2626;\n\n  --bde-canvas-font-family: system-ui, -apple-system, "Segoe UI", Roboto,\n    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";\n\n  --bde-app-font-family: "Avenir", Helvetica, Arial, sans-serif;\n}\n\n/* everything here should be prefixed with breakdance because\nthese styles are mixed with any fuckery from their theme */\n\n#breakdance_canvas {\n  position: relative;\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\n  therwise if the user uses absolute positioning, things could look different in the builder */\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\n}\n\n#breakdance_canvas.dragging {\n  cursor: grabbing;\n}\n\n#iframe {\n  margin: 4px;\n  border: 1px solid #eee;\n  background-color: white;\n  width: 100%;\n  padding: 2px;\n  font-family: var(--bde-canvas-font-family);\n  position: relative;\n}\n\n.breakdance-icon {\n  display: flex;\n  justify-content: center;\n}\n\n.breakdance-icon > svg {\n  fill: currentColor;\n  width: 100%;\n  height: 100%;\n}\n\n@-moz-document url-prefix() {\n  .breakdance-icon > svg {\n    width: auto;\n    height: auto;\n  }\n}\n\n.dragTaller {\n  height: 6px;\n  width: 6px;\n  border: 2px solid grey;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 2000;\n}\n\n.drag-dot {\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background-color: rgb(32, 43, 67);\n  cursor: move;\n  position: absolute;\n  z-index: 100000;\n  pointer-events: auto;\n}\n\n.drag-dots-wrapper {\n  position: absolute;\n  pointer-events: none;\n}\n\n.drag-dot-top-left {\n  top: -5px;\n  left: -5px;\n}\n\n.drag-dot-top-middle {\n  top: -5px;\n  left: calc(50% - 5px);\n}\n\n.drag-dot-top-right {\n  top: -5px;\n  left: calc(100% - 5px);\n}\n\n.drag-dot-bottom-left {\n  top: calc(100% - 5px);\n  left: -5px;\n}\n\n.drag-dot-bottom-middle {\n  top: calc(100% - 5px);\n  left: calc(50% - 5px);\n}\n\n.drag-dot-bottom-right {\n  top: calc(100% - 5px);\n  left: calc(100% - 5px);\n}\n\n.drag-dot-middle-left {\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.drag-dot-middle-right {\n  top: 50%;\n  transform: translate(50%, -50%);\n  right: 0;\n}\n\n.spacing-bar {\n  background-color: rgba(0, 0, 255, 0.2);\n  opacity: 0;\n  position: absolute;\n  transition: 0.3s ease-in-out opacity;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  min-height: 5px;\n}\n\n.spacing-bar:hover {\n  transition-delay: 0.2s;\n}\n\n.spacing-bar .spacing-bar-current-value {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.spacing-bar-inside-top {\n  min-height: 5px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n\n/* column drag */\n.drag-dots-left-width {\n  margin-right: 22px;\n}\n\n.drag-dots-column-widths-values {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  left: -66px;\n  top: -8px;\n}\n\n.drag-dots-left-width,\n.drag-dots-right-width {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  width: 48px;\n}\n\n/* Node Chrome */\n\n.node-chrome,\n.node-titlebar-wrapper,\n.node-hover-controls {\n  transition: 0.3s opacity ease;\n}\n\n.node-chrome--hide-all,\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\n.node-chrome--hide-hover .node-hover-controls {\n  opacity: 0;\n}\n\n/* Titlebars */\n\n.node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 10000;\n  outline: 1px solid rgb(32, 43, 67);\n  user-select: none;\n}\n\n.node-titlebar {\n  pointer-events: auto;\n\n  display: flex;\n  align-items: center;\n  position: absolute;\n\n  bottom: 100%;\n  height: 28px;\n  padding: 0 10px;\n  border-radius: 4px 4px 0 0;\n\n  font-family: var(--bde-app-font-family);\n  font-size: 12px;\n  font-weight: 500;\n\n  letter-spacing: normal;\n  text-transform: none;\n\n  background-color: rgb(32, 43, 67);\n  color: white;\n  z-index: 1000000;\n\n  left: -1px;\n}\n\n.node-titlebar-is-draft-section {\n  background-color: rgb(122, 125, 133);\n}\n\n/*\n * Moving you mouse over the node titlebar or spacing bars\n * will trigger an erroneous mouseleave event on the element\n * you are dragging, when your mouse is not outside of it yet.\n */\n.dragging .spacing-bar,\n.dragging .node-titlebar {\n  pointer-events: none;\n}\n\n.node-titlebar-is-dragging,\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  cursor: grabbing;\n}\n\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  opacity: 0.5;\n}\n\n.node-titlebar-is-dragging {\n  /* color: rgb(32, 43, 67); */\n  background-color: rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper-is-dragging {\n  outline: 1px solid rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper .node-titlebar-button {\n  color: rgba(255, 255, 255, 0.85);\n  cursor: pointer;\n}\n\n.node-titlebar-button:hover {\n  color: rgba(255, 255, 255, 1);\n}\n\n.node-titlebar-title {\n  white-space: nowrap;\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  letter-spacing: normal;\n}\n\n.node-titlebar-title .node-titlebar-button {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n\n.node-titlebar-title .node-titlebar-button svg {\n  cursor: grab;\n}\n\n.node-titlebar-button-activate-parent {\n  margin-left: 6px;\n}\n\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\n  width: 10px;\n  height: 10px;\n}\n\n.node-titlebar-button {\n  margin-left: 9px;\n}\n\n.node-titlebar-button > svg {\n  width: 13px;\n  height: 13px;\n}\n\n.node-titlebar-margin-left {\n  margin-left: 20px;\n}\n\n/* Other */\n.breakdance-drag-placeholder-wrapper {\n  pointer-events: none;\n}\n\n.breakdance-drag-placeholder {\n  /* this won\'t work if something other than the window has position relative on it,\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\n\n  /* some months later\n  ... really? The above sounds like bullshit. I can put position relative\n  on all sorts of stuff and this works fine\n  so maybe we are already mounting the overlaid UI chrome in the right place?\n  */\n\n  position: absolute;\n  /* ---- */\n  background-color: var(--blue500);\n  z-index: 100001;\n  display: none;\n  border-radius: 2px;\n}\n\n.breakdance-drag-target-outline {\n  outline: 6px solid var(--blue300);\n  outline-offset: -6px;\n  z-index: 100000;\n  display: none;\n}\n\n.breakdance-children-pointer-events-none > * {\n  pointer-events: none;\n}\n\n/* global blocks */\n.breakdance-themeless-global-block {\n  cursor: default;\n}\n\n.breakdance-themeless-global-block::selection {\n  background-color: transparent;\n}\n\n.breakdance-themeless-global-block *::selection {\n  background-color: transparent;\n}\n\n.breakdance-foreign-documents-overlay {\n  font-family: var(--bde-canvas-font-family);\n  position: fixed;\n  z-index: 9999;\n  outline: 1px solid rgb(255 182 216);\n  outline-offset: -1px;\n  cursor: not-allowed;\n  background-color: rgba(0, 0, 0, 0.1);\n  display: none;\n}\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n\n.breakdance-foreign-documents-overlay-titlebar {\n  position: relative;\n  left: -50%;\n  height: 28px;\n  padding: 0 10px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 12px;\n  font-weight: 500;\n  background-color: rgb(255 182 216);\n  border-radius: 0px 0px 4px 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a {\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a svg {\n  margin-left: 5px;\n  width: 14px;\n  height: 14px;\n}\n\n.breakdance-foreign-document-wrapper:hover\n  .breakdance-foreign-document-wrapper__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/* node hover controls */\n.node-hover-controls {\n  position: absolute;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.node-hover-controls--outline {\n  outline: 1px solid rgb(177, 202, 255);\n}\n\n.node-hover-controls > div {\n  display: none;\n  z-index: 100000;\n}\n\n.node-hover-controls.node-hover-controls-show > div {\n  display: flex;\n}\n\n.node-hover-controls-button {\n  position: absolute;\n  pointer-events: auto;\n  flex-direction: column;\n\n  border-radius: 50%;\n\n  width: 40px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: var(--bde-canvas-font-family);\n  background-color: rgb(32, 43, 67);\n  color: white;\n\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n}\n\n.node-hover-controls-bottom-button {\n  top: calc(100% - 20px);\n  left: calc(50% - 20px);\n}\n\n.node-hover-controls-right-button {\n  top: 50%;\n  left: calc(100% - 48px);\n  transform: translateY(-50%);\n}\n\n.node-hover-controls-menu {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  flex-direction: column;\n  background-color: white;\n  color: black;\n  display: none;\n  position: absolute;\n  top: calc(100% - 20px);\n  left: 50%;\n  transform: translateX(-50%);\n  width: 170px;\n  overflow: hidden;\n}\n\n.node-hover-controls-menu > div {\n  padding: 9px 12px;\n  text-align: center;\n}\n\n.node-hover-controls-menu > div:hover {\n  background-color: #fafafa;\n}\n\n.node-hover-controls-menu--open {\n  display: flex;\n}\n\n/* We do the outlining with JS to add some logic to it*/\n*:focus[contenteditable="true"] {\n  border: none;\n  outline: none;\n}\n\n.node-content-editable {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  outline: 1px solid var(--blue500);\n}\n\n/* EMPTY CONTAINER */\n\n.breakdance-empty-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.breakdance-empty-container__add-element {\n  font-family: var(--bde-canvas-font-family);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  user-select: none;\n\n  background-color: var(--blue50);\n  width: 42px;\n  height: 42px;\n  border-radius: 3px;\n  margin: 10px;\n}\n\n.breakdance-empty-container__add-element {\n  color: var(--blue500);\n}\n\n.breakdance-empty-container__add-element:hover {\n  background-color: var(--blue100);\n}\n\n.breakdance-empty-container__add-element--disabled,\n.breakdance-empty-container__add-element--disabled:hover {\n  cursor: not-allowed;\n  background: var(--grey-100);\n  color: var(--grey-300);\n}\n\n/* COLUMNS */\n\n.breakdance-empty-columns {\n  font-family: var(--bde-canvas-font-family);\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\n  padding: 50px;\n}\n\n.breakdance-empty-columns-choices-heading {\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 16px;\n  user-select: none;\n}\n\n.breakdance-empty-columns-choices {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-choices-row {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-column-icon-wrapper {\n  padding: 4px;\n  margin: 16px;\n  cursor: pointer;\n  border-radius: 3px;\n  transition: 0.3s ease-in-out filter;\n  filter: grayscale(90%);\n}\n\n.breakdance-empty-columns-column-icon-wrapper:hover {\n  filter: grayscale(0%);\n}\n\n.breakdance-empty-columns-column-icon {\n  width: 160px;\n  height: 90px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.breakdance-empty-columns-column-icon-column {\n  margin: 4px;\n  width: 100%;\n  background-color: #bfdbfe;\n  border-radius: 3px;\n}\n\n.breakdance--empty-container:not(.breakdance--active-element) {\n  outline: 2px solid #eee;\n  outline-offset: -2px;\n}\n\n/* ELEMENT */\n\n.builder-element {\n  cursor: default;\n}\n\n/* right click menu. This is  duplicated in the RightClickMenu\n\nWe need it also here because this is used both in the canvas and the structure panel\n*/\n\n.breakdance-canvas-right-click-menu {\n  position: absolute;\n  z-index: 2147483647;\n  font-family: var(--bde-canvas-font-family);\n  background-color: var(--white);\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  min-width: 200px;\n  border-radius: 4px;\n  padding: 6px 0px;\n  user-select: none;\n}\n\n.breakdance-canvas-right-click-menu-item {\n  font-size: 13px;\n  font-weight: 400;\n  font-size: 13px;\n  min-height: 40px;\n  padding-left: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n  color: #333;\n}\n\n.breakdance-canvas-right-click-menu-divider {\n  height: 1px;\n  background-color: #ddd;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\n  background-color: #eee;\n}\n\n.breakdance-canvas-right-click-menu-item-disabled {\n  opacity: 0.5;\n  cursor: default !important;\n}\n\n/* Empty State */\n\n.breakdance-canvas-empty-element {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 30px;\n  text-align: center;\n  border: 2px dashed #c3c4c7;\n}\n\n.breakdance-canvas-empty-element__title {\n  font-size: 18px;\n  font-weight: normal;\n  color: #646970;\n  margin-bottom: 0;\n}\n\n/*** Warning ***/\n\n.bde-ssr-error {\n  background: rgb(254, 242, 242);\n  color: var(--red600);\n  padding: 12px;\n}\n\n/*** Loading ***/\n\n.breakdance-empty-ssr-message {\n  padding: 12px;\n  background: rgb(242, 242, 254);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  color: black;\n  font-size: 13px;\n  font-weight: 500;\n  margin: 12px 0;\n}\n\n.breakdance-empty-ssr-message-error {\n  background: rgb(254, 242, 242);\n}\n\n.breakdance-empty-ssr-message small {\n  margin-top: 6px;\n  color: black;\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.breakdance-element-is-updating:empty {\n  min-height: 80px;\n  max-width: 100%;\n  width: 400px;\n}\n\n.breakdance-element-is-updating {\n  opacity: 0.3;\n  background: repeating-linear-gradient(\n    45deg,\n    #eee 0px,\n    #eee 10px,\n    #d4d4d4 10px,\n    #d4d4d4 20px\n  );\n}\n\n.breakdance-node-titlebar-loading-spinner {\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\n}\n\n@keyframes breakdance-node-titlebar-loading-spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n';var y=n(27361),b=n.n(y),S=n(23279),P=n.n(S),_=n(18076),C=n(25970),w=n(67505),x=n(71035);const k=1,I=3;function E(e,t,n,{enableContentEditableAndFocus:s,saveContentEditable:a}){const i=e=>{const o=[];return e.forEach((e=>{if(e.nodeType===I){const t=e.nodeValue;"%%CHILDREN%%"===t?.trim()?o.push(n()):t&&o.push(t)}else if(e.nodeType===k&&e instanceof Element){const n=e.attributes,r=e.nodeName,l={},c={},d={},u=[];let p,h;for(let t=0;t<n.length;t++){const i=n.item(t);if(i){const t=i.name;"class"===t?p=i.value:"style"===t?h=i.value:l[t]=i.value,"data-content-editable-property-path"===t&&(d.dblclick=s,d.blur=a,c.innerHTML=e.innerHTML)}}!c.innerHTML&&e.hasChildNodes()&&u.push(...i(e.childNodes)),o.push(t(r,{class:p,style:h,attrs:{...l},on:{...d},domProps:c},u))}})),o},o=new DOMParser,r=o.parseFromString(e,"text/html").body,l=(new XMLSerializer).serializeToString(r),c=l.replace(/<body.*?>/,"").replace("</body>",""),d=o.parseFromString("<root>"+c+"</root>","application/xhtml+xml");return i(d.documentElement.childNodes)}var D=n(98851),Z=n(32521),T=n(63842);Z.r$({globalSettingsCssFilePath:Z.Z_,globalSelectorsCssFilePath:Z.Z_,defaultCssForAllElementsFilePath:Z.Z_});const A=Z.r$({postCssFilePath:Z.Z_,postDefaultsCssFilePath:Z.Z_}),B=Z.dt({postsGeneratedCssFilePaths:Z.IM(Z.Z_,A)}),O=Z.jV([B,Z.dt({dependencies:T.D})]),R=Z.jV([Z.dt({html:Z.Z_}),O]);var M=n(85902),F=n(65669);const N={};function $(e,t,n){let s=[];return async(...a)=>(N[n]&&clearTimeout(N[n]),N[n]=setTimeout((()=>{const t=e(...a);s.forEach((e=>e(t))),s=[],delete N[n]}),t),new Promise((e=>s.push(e))))}function L(e,t,n,s){const a=()=>(0,D.D)({action:"breakdance_server_side_render",overrideAjaxUrl:(0,M.j)(),dataToPost:{properties:(0,F.J)(t),parentProperties:(0,F.J)(s),elementSlug:e,triggeringDocument:c.Hb.document.documentMeta.id},decoder:R});return $(a,1e3,n)()}var W=n(30902),V=n(45974),H=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-container",attrs:{id:"breakdance-empty-container"}},[t("div",{staticClass:"breakdance-empty-container__add-element",class:{"breakdance-empty-container__add-element--disabled":!e.canAddElement},on:{click:e.openAddPanel}},[t("Icon",{attrs:{icon:"PlusIcon",size:"22"}})],1)])},U=[],z=n(95690),G=n(85283);let K=class extends s.ZP{get canAddElement(){return c.kD.hasFullAccess}openAddPanel(e){e.preventDefault(),e.stopPropagation(),this.canAddElement&&((0,z.oM)("add"),c.kD.activateElement(this.id))}};(0,r.gn)([(0,l.fI)({default:null})],K.prototype,"id",void 0),K=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],K);const j=K,X=j;var q=n(1001),Y=(0,q.Z)(X,H,U,!1,null,null,null);const Q=Y.exports;var J=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns"},[t("div",{staticClass:"breakdance-empty-columns-choices-heading"},[e._v(" Choose a column structure ")]),t("div",{staticClass:"breakdance-empty-columns-choices"},[t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2)}}},[e._m(0)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,3)}}},[e._m(1)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,4)}}},[e._m(2)])]),t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[35,65])}}},[e._m(3)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[65,35])}}},[e._m(4)])])])])},ee=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}})])}],te=n(36968),ne=n.n(te),se=n(884),ae=n(94550),ie=n(69137),oe=n(28684),re=n(38020);let le=class extends s.ZP{addColumns(e,t,n){e.preventDefault(),e.stopPropagation();const s=[],a=n?n.map((e=>{const t=(0,re.v)(e);return ne()({},se.cp,{number:t,unit:"%",style:`${t}%`})})):[];for(let i=0;i<t;i++)s.push({id:i,data:{type:ae.Wz,properties:n?a[i]:{}},children:[]});ie.n.transaction((()=>{c.Hb.addMultipleNodes({nodes:s,parentId:this.id}),n||(0,oe.t)(this.id)}),`Set amount of columns to ${t}`),(0,z.oM)("elementproperties")}};(0,r.gn)([(0,l.fI)()],le.prototype,"id",void 0),le=(0,r.gn)([(0,l.wA)({})],le);const ce=le,de=ce;var ue=(0,q.Z)(de,J,ee,!1,null,null,null);const pe=ue.exports;var he=n(86592),me=n(565),ge=n(43195),ve=n(58172),fe=n(39664);const ye=["jquery","wp-polyfill-js"];function be(){const e=window.Breakdance.canvas.document,t=e.querySelectorAll("script");for(const n of t){if(ye.find((e=>n.id.toLowerCase().includes(e)||n.src.toLowerCase().includes(e))))continue;const t=Se(n);n.remove(),e.querySelector("body")?.appendChild(t)}}function Se(e){const t=document.createElement("script");return Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)})),e.src?t.src=e.src:t.innerHTML=e.innerHTML,t}var Pe=n(12721);const _e='\n<div class="breakdance-empty-ssr-message">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>',Ce='\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    There was an error on the server when rendering this element.\n</div>',we=(e,t)=>`\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    The <strong>"${e}"</strong> element requires the plugins <em>"${t.join(", ")}"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;var xe,ke=n(40684),Ie=n(31381),Ee=n(13635),De=n(20210),Ze=n(9950),Te=n(25001),Ae=n(84274),Be=n(40681),Oe=n(92361),Re=n(17209),Me=n(23128),Fe=n(72045),Ne=n(35941),$e=n(16734);const Le=P()(x.Z,500);let We=xe=class extends s.ZP{constructor(){super(...arguments),this.isActive=!1,this.isUpdating=!1,this.currentlyDragging=!1,this.lastModifiedPropertyPath=null,this.uniqueId=(0,Fe.Z)(),this.ssrInnerHtml=null,this.oldSsrParentProperties=(0,Me.Z)(this.ssrParentProperties),this.oldTwigProps=(0,Me.Z)(this.element.data.properties),this.dragMouseStartX=!1,this.dragMouseStartY=!1,this.easyEvent=new Pe.hF}get isEmptyContainer(){const e=(0,Ze.V9)(this.element.data.type).type,t="popup"===e||"container"===e||"container-link"===e||"section"===e;return t&&0===this.element.children.length}get isEmptyColumns(){return this.element.data.type===ae.Cc&&0===this.element.children.length}get parentProps(){const e=this.baseElement.settings&&this.baseElement.settings.sharePropsWithSSRChildren,{design:t,...n}=this.element.data.properties||{};return(e?n:this.ssrParentProperties)||{}}__render(e){const t=this.rootTag;if(!this.shouldShow)return!1;if(this.isEmptyColumns)return e(t,{attrs:{...{...this.attributes},id:this.htmlId},on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault},class:this.classList},[e(pe,{attrs:{id:this.element.id}})]);const n=(0,he.as)(this.processedTemplate,{ssr:this.ssrValueOrMessage}),s=this.isEmptyContainer?e(Q,{attrs:{id:this.element.id}}):this.element.children.map((t=>e(xe,{key:t.id,attrs:{element:t,parentId:this.element.id,ssrParentProperties:this.parentProps}}))),a=this.contentEditablePropertyPath||null!==this.ssrValueOrMessage&&!this.ssrValueOrMessage.includes("%%CHILDREN%%"),i={};a&&(i.innerHTML=n);const o=a?[]:E(n,e,(()=>s),{enableContentEditableAndFocus:this.enableContentEditableAndFocus,saveContentEditable:this.saveContentEditable});return e(this.rootTag,{class:this.classList,attrs:{...this.attributes,id:this.htmlId},domProps:i,on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault,dblclick:this.handleDoubleClick,blur:this.contentEditablePropertyPath?this.saveContentEditable:()=>{}}},o)}render(e){return this.__render(e)}get processedTemplate(){if(!this.hasRequiredPluginsAndTheyAreAvailable&&this.baseElement.settings&&this.baseElement.settings.requiredPlugins)return we(this.baseElement.name,this.baseElement.settings.requiredPlugins);const e=(0,he.yz)(this.baseElement.template,this.twigProps,(0,he.bb)(this.baseElement));return e?(0,he.as)(e,this.tags):""}get shouldSsr(){const e=this.processedTemplate.includes("%%SSR%%");if(!e)return!1;if(this.refreshSsr)return!0;if(null===this.lastModifiedPropertyPath)return!0;const t=this.baseElement.propertyPathsToSsrElementWhenValueChanges,n=!t;return!!n||t.some((e=>this.lastModifiedPropertyPath?.startsWith(e)))}get refreshSsr(){return!!c.kD.refreshSsrElementId&&c.kD.refreshSsrElementId===this.element.id}get hasRequiredPluginsAndTheyAreAvailable(){if(!this.baseElement.settings||!this.baseElement.settings.requiredPlugins)return!0;const e=this.baseElement.settings.requiredPlugins.filter((e=>c.PK.availableWordpressPlugins.includes(e)));return e.length===this.baseElement.settings.requiredPlugins.length}get ssrValueOrMessage(){return""===this.ssrInnerHtml?c.kD.settings.disableNoticeForEmptySSRElements?"":_e:this.shouldSsr||this.ssrInnerHtml?this.isUpdating?this.ssrInnerHtml||"":this.ssrInnerHtml:null}get tags(){return{id:this.element.id,selector:this.elementSelector,uniqueSlug:this.uniqueClassName,postId:this.postId,elementName:this.baseElement.name}}async rerenderFromServeOnParentPropertyChange(){this.shouldSsr&&((0,Ne.v)(this.ssrParentProperties,this.oldSsrParentProperties)||(this.oldSsrParentProperties=(0,Me.Z)(this.ssrParentProperties),await this.maybeRerenderFromServer()))}async rerenderFromServerOnRefreshSsr(){this.refreshSsr&&(await this.maybeRerenderFromServer(),c.kD.setRefreshSsrElementId(null),this.runActionsAfterSsr())}async maybeRerenderFromServerOnPropertyChange(){await this.$nextTick(),this.shouldSsr?(0,Ne.v)(this.twigProps,this.oldTwigProps)||(this.oldTwigProps=this.twigProps,await this.maybeRerenderFromServer(),this.runActionsAfterSsr()):this.processedTemplate.includes("%%SSR%%")||(null!==this.ssrInnerHtml&&(this.ssrInnerHtml=null),this.updateSsrDependenciesAndStyles())}runActionsAfterSsr(){me.w.run.onBeforeDeletingElement({elementId:this.element.id}),this.element._parentId&&me.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:void 0}),me.w.run.onMountedElement({elementId:this.element.id})}async maybeRerenderFromServer(){if(!this.shouldSsr)return;c.kD.setElementUpdatingState({elementId:this.element.id,isUpdating:!0});const e=(0,W.pipe)(await L(this.baseElement.slug,this.element.data.properties,this.element.id,this.parentProps),(0,V.fold)((e=>(e.forEach((e=>{fe.Z.log.message(e.msg)})),{html:Ce,postsGeneratedCssFilePaths:{},dependencies:{}})),(e=>e)));c.kD.setElementUpdatingState({elementId:this.element.id,isUpdating:!1}),this.ssrInnerHtml=e.html,this.updateSsrDependenciesAndStyles(e.dependencies,e.postsGeneratedCssFilePaths)}maybeRerunAllScriptsInCanvasDocumentBody(){const e=this.baseElement.settings&&this.baseElement.settings.dependsOnGlobalScripts;e&&be()}updateSsrDependenciesAndStyles(e,t){this.maybeRerunAllScriptsInCanvasDocumentBody(),e&&(0,x.Z)((0,Ee.RY)(),{dependencies:[e],addInlineScriptsAsUnique:!1,element:this.element}),(0,ke.xg)((0,Ee.RY)(),this.element.id,t)}get shouldShow(){return(0,w.O)("elementShouldShow",!0,this.element.data.properties,{currentBreakpoint:c.kD.currentBreakpoint})}get breakpoints(){return c.PK.breakpoints}onBreakpointsChange(){this.generateElementsCSS()}onTwigPropsChange(){this.generateElementsCSS()}onCssTemplateChange(){this.generateElementsCSS()}onDefaultCssChange(){this.generateElementsCSS()}onInternalDependenciesChange(){if(this.baseElement.dependencies){const e=this.baseElement.dependencies.map((e=>({...e,inlineScripts:[]})));Le((0,Ee.RY)(),{dependencies:e,tags:this.tags,element:this.element})}}get globalSettings(){return c.cr.globalSettings}refreshIfTypographyPresetsChange(){this.generateElementsCSS()}get elementChildrenCount(){return this.element.children.length}elementChildrenCountChanged(){this.generateElementsCSS()}generateElementsCSS(){const e=(0,_.a)(this.twigProps,this.breakpoints,this.baseElement.cssTemplate,this.tags,this.baseElement.propertyPathsToWhitelistInFlatProps,this.elementChildrenCount,(0,he.g)(this.baseElement));(0,ke.df)((0,Ee.RY)(),this.baseElement.slug,this.baseElement.defaultCss),(0,ke.ts)((0,Ee.RY)(),this.element.id,e,this.uniqueId)}async mounted(){this.updateSsrDependenciesAndStyles(),await Promise.all([this.loadDependencies(),this.maybeRerenderFromServer()]),me.w.run.onMountedElement({elementId:this.element.id})}destroyed(){const e=0===(0,Ie.KT)(c.Hb.document.tree.root,this.baseElement.slug);e&&(0,ke.xU)((0,Ee.RY)(),this.baseElement.slug),(0,ke.AC)((0,Ee.RY)(),this.element.id,this.uniqueId),(0,ke.SR)((0,Ee.RY)(),this.element.id),this.element._parentId&&me.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:`DocumentDeleteElement:ID:${this.element.id}`})}loadDependencies(){return(0,x.Z)((0,Ee.RY)(),{dependencies:[...this.baseElement.dependencies||[],...c.PK.elementsExternalAttrsDepsAndActions.dependencies||[]],element:this.element,tags:this.tags})}get elementSelector(){return`.breakdance .${this.uniqueClassName}`}get rootTag(){const e=this.baseElement.htmlTag.pathToControl?b()(this.element.data.properties,this.baseElement.htmlTag.pathToControl):this.element.data.properties?.settings?.advanced?.tag;return"string"===typeof e&&e||this.baseElement.htmlTag.default}get baseElement(){return c.PK.element(this.element.data.type)}get twigProps(){if((0,ve.Kn)(this.element.data.properties)&&0!==Object.entries(this.element.data.properties).length){const e=c.PK.dynamicDataCache.data,t=(0,C.Ko)(this.element.data.properties,e),n=t.filter((t=>!Object.keys(e).includes((0,C.Ao)(t))));n.length&&(0,C.y9)(n).then((e=>{c.PK.setNewDynamicDataCacheEntries(e)}));const s=!!c.PK.previewedItem;return(0,ve.xV)(this.element.data.properties,(t=>(0,ge.xs)(t)&&(e[(0,C.Ao)(t)]||s)?e[(0,C.Ao)(t)]:t))}return{}}get postId(){return c.Hb.document.documentMeta.id}get htmlId(){return(0,De.Cc)(this.element)}get uniqueClassName(){return(0,De.P0)(this.element,this.postId)}get baseClassName(){return(0,De.MO)(this.baseElement)}get classList(){const e=[this.uniqueClassName,"builder-element",this.baseClassName];this.isActive&&e.push("breakdance--active-element"),this.currentlyDragging&&e.push("breakdance--currently-dragging"),this.isEmptyContainer&&e.push("breakdance--empty-container");const t=this.element.data.properties?.settings?.advanced?.classes??!1;return t&&e.push(...t),this.baseElement.settings&&this.baseElement.settings.bypassPointerEvents&&e.push("breakdance-children-pointer-events-none"),this.isUpdating&&e.push("breakdance-element-is-updating"),e.push(...this.additionalClasses),e}get additionalClasses(){return this.baseElement.additionalClasses?this.baseElement.additionalClasses.map((e=>{const t=(0,he.yz)(e.template,this.twigProps,(0,he.l0)(this.baseElement,e));if(t)return{name:e.name,include:t}})).filter(Te.$K).filter((e=>!!e.include)).map((e=>e.name)):[]}renderAttributeValue(e){return"template"in e?(0,he.yz)(e.template,this.twigProps,(0,he.H5)(this.baseElement,e)):"propertyPath"in e?String(b()(this.element.data.properties,e.propertyPath,"")):"rawValue"in e?e.rawValue:null}get attributes(){const e={},t=[...this.baseElement.attributes||[],...c.PK.elementsExternalAttrsDepsAndActions.attributes||[]];t.forEach((t=>{const n=this.renderAttributeValue(t);n&&(e[t.name]=(0,he.as)(n,this.tags))}));const n=this.element.data.properties?.settings?.advanced?.attributes??[];n.forEach((t=>{e[t.name]=t.value})),e["data-node-id"]=`${this.element.id}`;const s={};return Object.keys(e).forEach((t=>{e[t]&&(s[t]=e[t])})),s}get contentEditablePropertyPath(){return this.attributes["data-content-editable-property-path"]}get isDragAndDropEnabled(){return c.kD.hasFullAccess}get lastModifiedTreeNodePropertyForWatcher(){return c.kD.lastModifiedElementProperty}handleLastModifiedTreeNodePropertyChange(e){e.elementId===this.element.id?this.lastModifiedPropertyPath=e.path:null!==this.lastModifiedPropertyPath&&(this.lastModifiedPropertyPath=null)}get currentlyDraggingForWatcher(){return c.kD.currentlyDraggingCanvasElementId===this.element.id}handleCurrentlyDraggingChange(e){this.currentlyDragging=e}get activeElementIdForWatcher(){return c.kD.activeElementId}handleActiveElementIdChange(e){this.isActive=e===this.element.id}get isElementUpdatingForWatcher(){return Boolean(c.kD.elementsThatAreUpdating[this.element.id])}handleLoadingElementIdChange(e){this.isUpdating!==e&&(this.isUpdating=e)}get behaviorModeEnabled(){const e=c.kD.builderBehaviorElementId;return!!e&&(0,Ie.SG)(c.Hb.document.tree,e,this.element.id)}activateElement(){this.behaviorModeEnabled||(c.kD.activateElement(this.element.id),(0,z.oM)("elementproperties"))}canDrag(e){if(!this.isDragAndDropEnabled)return!1;const t=e.target,n=["textarea","input","select"],s=t.tagName.toLowerCase();return!n.includes(s)&&!c.kD.elementWithContentEditable}disableDefaultDrag(e){e.preventDefault()}maybePreventDefault(e){const t=e.target,n=["a","button"],s=n.join(", "),a=n.some((e=>t.closest(e)));(t.matches(s)||a)&&e.preventDefault()}activateAndMaybeStartDrag(e){e.stopPropagation(),this.activateElement(),this.canDrag(e)&&(this.behaviorModeEnabled||(this.dragMouseStartX=e.clientX,this.dragMouseStartY=e.clientY,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.removeDragListeners)))}removeDragListeners(){this.easyEvent.removeAll(),this.dragMouseStartX=!1,this.dragMouseStartY=!1}dragging(e){if(this.behaviorModeEnabled)return;if(!(0,Pe.Pm)(e))return;if(!1===this.dragMouseStartX||!1===this.dragMouseStartY)return;const t=e.clientX,n=e.clientY;(Math.abs(t-this.dragMouseStartX)>3||Math.abs(n-this.dragMouseStartY)>3)&&(c.kD.setCanvasElementDraggedId(this.element.id),this.removeDragListeners())}handleDoubleClick(e){this.contentEditablePropertyPath?this.enableContentEditableAndFocus(e):this.element.data.type===ae.qu&&(0,$e.of)("CMD_E")}enableContentEditableAndFocus(e){const t=e.target;let n=null;if(n=t.dataset.contentEditablePropertyPath||t.dataset.nodeId?t:t.closest("[data-content-editable-property-path]"),!n)return;const s=n.dataset.contentEditablePropertyPath;if(s){const e=b()(this.twigProps,(0,ge.k2)(s)),t=e?.field.slug;if(t)return}const a="true"===n.getAttribute("contenteditable");a||(c.kD.setContentEditableElementId(this.element.id),n.setAttribute("contenteditable","true"),n.focus(),window.Breakdance.canvas.document.addEventListener("keydown",this.handleKeydownInsideContentEditable),n.addEventListener("paste",this.pasteWithoutFormatting))}saveContentEditable(e){const t=e.target;window.Breakdance.canvas.document.removeEventListener("keydown",this.handleKeydownInsideContentEditable),t.removeEventListener("paste",this.pasteWithoutFormatting),t.setAttribute("contenteditable","false"),c.kD.setContentEditableElementId(null);const n=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;if(!n)return;t.innerHTML=t.innerHTML.trim();const s=t.childNodes[t.childNodes.length-1];s&&"BR"===s.tagName&&s.remove();const a=document.createElement("textarea");a.innerHTML=t.innerHTML;const i=a.value,o=b()(this.element.data.properties,n);o!==i&&c.Hb.throttledPropertyChanged({elementId:this.element.id,path:n,value:i,meta:{snapshotLabel:Ae.AZ.forElementBasingOnChangedStorePropertyPath(this.baseElement,n,Be.P.CHANGE)}})}pasteWithoutFormatting(e){const t=e.clipboardData?.getData("text/plain");t&&(window.Breakdance.canvas.document.execCommand("insertHTML",!1,(0,Re.h)(t)),e.preventDefault())}handleKeydownInsideContentEditable(e){return"Space"===e.code?(e.preventDefault(),e.stopPropagation(),void window.Breakdance.canvas.document.execCommand("insertText",!1," ")):"Enter"===e.code?(window.Breakdance.canvas.document.execCommand("insertLineBreak"),void e.preventDefault()):"Escape"===e.code||(e.ctrlKey||e.metaKey)&&"s"===e.key?(e.preventDefault(),void this.saveContentEditable(e)):void 0}};(0,r.gn)([(0,l.fI)()],We.prototype,"element",void 0),(0,r.gn)([(0,l.fI)()],We.prototype,"parentId",void 0),(0,r.gn)([(0,l.fI)()],We.prototype,"ssrParentProperties",void 0),(0,r.gn)([(0,l.RL)("ssrParentProperties",{deep:!0})],We.prototype,"rerenderFromServeOnParentPropertyChange",null),(0,r.gn)([(0,l.RL)("refreshSsr")],We.prototype,"rerenderFromServerOnRefreshSsr",null),(0,r.gn)([(0,l.RL)("twigProps")],We.prototype,"maybeRerenderFromServerOnPropertyChange",null),(0,r.gn)([(0,l.RL)("breakpoints",{deep:!0})],We.prototype,"onBreakpointsChange",null),(0,r.gn)([(0,l.RL)("twigProps",{deep:!0,immediate:!0})],We.prototype,"onTwigPropsChange",null),(0,r.gn)([(0,l.RL)("baseElement.cssTemplate")],We.prototype,"onCssTemplateChange",null),(0,r.gn)([(0,l.RL)("baseElement.defaultCss")],We.prototype,"onDefaultCssChange",null),(0,r.gn)([(0,l.RL)("baseElement.dependencies",{deep:!0})],We.prototype,"onInternalDependenciesChange",null),(0,r.gn)([(0,l.RL)(`globalSettings.${Oe.r.typographyPresets}`,{deep:!0})],We.prototype,"refreshIfTypographyPresetsChange",null),(0,r.gn)([(0,l.RL)("elementChildrenCount",{})],We.prototype,"elementChildrenCountChanged",null),(0,r.gn)([(0,l.RL)("lastModifiedTreeNodePropertyForWatcher",{immediate:!0})],We.prototype,"handleLastModifiedTreeNodePropertyChange",null),(0,r.gn)([(0,l.RL)("currentlyDraggingForWatcher",{immediate:!0})],We.prototype,"handleCurrentlyDraggingChange",null),(0,r.gn)([(0,l.RL)("activeElementIdForWatcher",{immediate:!0})],We.prototype,"handleActiveElementIdChange",null),(0,r.gn)([(0,l.RL)("isElementUpdatingForWatcher",{immediate:!0})],We.prototype,"handleLoadingElementIdChange",null),We=xe=(0,r.gn)([(0,l.wA)({})],We);const Ve=We,He=Ve;var Ue,ze,Ge=(0,q.Z)(He,Ue,ze,!1,null,null,null);const Ke=Ge.exports;var je=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-chrome",class:e.hideClass},[t("div",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]},[t("SpacingBars"),t("ColumnDragSizer")],1),t("NodeTitlebar"),t("NodeHoverControls"),t("NodeContentEditable")],1)},Xe=[],qe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"drag-dots-wrapper",style:e.dragDotsWrapperPositionStyle},[t("div",{staticClass:"drag-dot drag-dot-top-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:e.dragStart}})])},Ye=[];function Qe(e){return(t,n)=>{if(c.kD.activeElementId){const s=(e,t)=>e+t>=0?e+t:0;if("xProperty"in e&&e.xProperty){const a=e.xProperty.replace("%%CURRENTMEDIAQUERY%%",c.kD.currentBreakpoint.id),i=s(t.width,n.lastXChange);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:a,value:{number:i,unit:"px"},meta:{snapshotLabel:"Resize element"}})}if("yProperty"in e&&e.yProperty){const a=e.yProperty.replace("%%CURRENTMEDIAQUERY%%",c.kD.currentBreakpoint.id),i=s(t.height,n.lastYChange);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:a,value:{number:i,unit:"px"},meta:{snapshotLabel:"Resize element"}})}}}}var Je=n(34676);const et={xProperty:"design.size.width.%%CURRENTMEDIAQUERY%%"};let tt=class extends s.ZP{constructor(){super(...arguments),this.mouseDragInfo=!1,this.dragDotsWrapperPositionStyle={display:"none"},this.dragCallback=!1,this.unsubscribeFromStorePositionDotsWrapper=()=>{},this.easyEvent=new Pe.hF}nextTickPositionDragDotsWrapper(){(0,Je.n)((()=>this.positionDragDotsWrapper()))}beforeMount(){this.positionDragDotsWrapper(),this.unsubscribeFromStorePositionDotsWrapper=this.$store.subscribe(this.nextTickPositionDragDotsWrapper),window.addEventListener("resize",this.nextTickPositionDragDotsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionDotsWrapper(),window.removeEventListener("resize",this.nextTickPositionDragDotsWrapper)}dragStart(e){e.preventDefault(),e.stopPropagation(),this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.dragCallback=Qe(et),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd)}dragging(e){if((0,Pe.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=(0,Ee.nX)();if(!t||!this.mouseDragInfo)return;this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.dragCallback&&this.dragCallback(t,this.mouseDragInfo),this.positionDragDotsWrapper()}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.mouseDragInfo=!1,this.dragCallback=!1}positionDragDotsWrapper(){c.kD.activeElementId||(this.dragDotsWrapperPositionStyle={display:"none"});const e=(0,Ee.nX)();if(!e)return;const{x:t,y:n,width:s,height:a}=e;this.dragDotsWrapperPositionStyle={position:"absolute",top:n.toString()+"px",left:t.toString()+"px",width:s.toString()+"px",height:a.toString()+"px"}}};tt=(0,r.gn)([(0,l.wA)({})],tt);const nt=tt,st=nt;var at=(0,q.Z)(st,qe,Ye,!1,null,null,null);const it=at.exports;var ot=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.bars,(function(n,s){return t("SpacingBar",{key:s,attrs:{bar:n,isDragging:e.isDragging,isActiveBar:e.clickedHandle===n.location},on:{mousedown:function(t){return e.dragStart(t,n.location)}}})})),1)},rt=[],lt=n(23493),ct=n.n(lt);let dt=class extends s.ZP{constructor(){super(...arguments),this.clickedHandle=!1,this.mouseDragInfo=!1,this.throttledDragging=ct()(this.dragging,60),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperPositionStyle={display:"none"}}dragCallback(e,t,n){console.warn("To use DragMixin you must implement dragCallback()")}dragEndCallback(){}dragStartCallback(e){}dragStart(e,t){e.stopPropagation(),"string"===typeof t?(c.kD.setDragMixinDragging(!0),this.clickedHandle=t,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},window.Breakdance.canvas.document.addEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.addEventListener("mouseup",this.dragEnd),this.dragStartCallback(t)):console.warn("To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')")}dragging(e){e.preventDefault(),e.stopPropagation(),requestAnimationFrame((()=>this._draggingFunc(e)))}_draggingFunc(e){const t=(0,Ee.nX)();t&&this.mouseDragInfo&&(this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.clickedHandle&&this.dragCallback(t,this.mouseDragInfo,this.clickedHandle),this.positionWrapper(),(0,Ee.a7)())}dragEnd(e){e.preventDefault(),e.stopPropagation(),window.Breakdance.canvas.document.removeEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.removeEventListener("mouseup",this.dragEnd),this.mouseDragInfo=!1,this.clickedHandle=!1,c.kD.setDragMixinDragging(!1),this.dragEndCallback(),(0,Ee.a7)()}get isDragging(){return!!this.mouseDragInfo}nextTickPositionsWrapper(){(0,Je.n)(this.positionWrapper)}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper)}positionWrapper(){if(!c.kD.activeElementId)return void(this.wrapperPositionStyle={display:"none"});const e=(0,Ee.nX)();if(!e)return;const{x:t,y:n,width:s,height:a}=e;this.wrapperPositionStyle={position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${a}px`}}};dt=(0,r.gn)([l.wA],dt);var ut=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"spacing-bar",class:e.classList,style:e.style,on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[t("div",{staticClass:"spacing-bar-current-value"},[e._v(e._s(e.value)+"px")])])},pt=[];function ht(e,t){const n=mt(e,t);return n||0}function mt(e,t){if(!c.kD.activeElement)return!1;const n=gt(e,c.kD.currentBreakpoint.id);let s=parseInt(b()(c.kD.activeElement,`data.properties.${n}.number`));s||(s=0);let a=b()(c.kD.activeElement,`data.properties.${n}.unit`);if(a||(a="px"),"px"!==a&&0!==s){const e=(0,Ee.lx)(c.kD.activeElement);if(!e)return!1;const n=parseInt(e.getPropertyValue(t));return n}return s}function gt(e,t){return e.replace("%%BREAKPOINT%%",t)}var vt=n(64940);let ft=class extends s.ZP{constructor(){super(...arguments),this.isHovering=!1,this.resizeObserver=new ResizeObserver(this.onActiveElementResize),this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}get value(){return ht(this.bar.affectedPropertyPath,this.bar.cssProperty)}get activeElement(){return vt.kD.activeElement}updateActiveElementPositionWhenItsPresent(){const e=this.activeElement;if(e){const t=(0,Ee.dq)(e);if(t)return this.activeElementPositionAndSize=(0,Ee.o7)(t)||null,void(this.valueAtMomentOfElementPositionAndSizeCalculation=this.value)}this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}mounted(){this.intervalHandle=setInterval((()=>{(0,Je.n)(this.updateActiveElementPositionWhenItsPresent)}),50)}handleActiveElementChange(){this.updateActiveElementPositionWhenItsPresent(),this.resizeObserver.disconnect();const e=this.activeElement;if(e){const t=(0,Ee.dq)(e);t&&(this.resizeObserver.observe(t,{box:"border-box"}),t.parentElement&&this.resizeObserver.observe(t.parentElement,{box:"border-box"}))}}onActiveElementResize(){this.updateActiveElementPositionWhenItsPresent()}get classList(){return[`spacing-bar-${this.bar.location}`]}get style(){return this.isDragging&&this.isActiveBar||this.isHovering&&!this.isDragging?{...this.barStyle,opacity:1}:this.barStyle}get barStyle(){const e=this.activeElementPositionAndSize;if(!e)return{};const t=this.valueAtMomentOfElementPositionAndSizeCalculation||this.value,{width:n,height:s,y:a,x:i}=e,o=t>5?t:5;switch(this.bar.location){case"inside-top":return{width:`${n}px`,height:`${o}px`,top:`${a}px`,left:`${i}px`,cursor:"row-resize"};case"outside-top":return{width:`${n}px`,height:`${o}px`,top:`${-o+a}px`,left:`${i}px`,cursor:"row-resize"};case"inside-bottom":return{width:`${n}px`,height:`${o}px`,top:a+s-o+"px",left:`${i}px`,cursor:"row-resize"};case"outside-bottom":return{width:`${n}px`,height:`${o}px`,top:`${a+s}px`,left:`${i}px`,cursor:"row-resize"};case"inside-left":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:`${i}px`,cursor:"col-resize"};case"outside-left":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:i-o+"px",cursor:"col-resize"};case"inside-right":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:i+n-o+"px",cursor:"col-resize"};case"outside-right":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:`${i+n}px`,cursor:"col-resize"};default:return{}}}beforeDestroy(){this.resizeObserver.disconnect(),this.intervalHandle&&clearInterval(this.intervalHandle)}};(0,r.gn)([(0,l.fI)()],ft.prototype,"bar",void 0),(0,r.gn)([(0,l.fI)()],ft.prototype,"isDragging",void 0),(0,r.gn)([(0,l.fI)()],ft.prototype,"isActiveBar",void 0),(0,r.gn)([(0,l.RL)("activeElement",{immediate:!0})],ft.prototype,"handleActiveElementChange",null),ft=(0,r.gn)([(0,l.wA)({})],ft);const yt=ft,bt=yt;var St=(0,q.Z)(bt,ut,pt,!1,null,null,null);const Pt=St.exports;let _t=class extends((0,l.Wr)(dt)){constructor(){super(...arguments),this.originalValue=!1}get bars(){return this.activeElementSpacingBars?this.activeElementSpacingBars:[]}get activeElementSpacingBars(){return!!c.kD.activeElement&&c.PK.element(c.kD.activeElement.data.type).spacingBars}dragCallback(e,t,n){const s=this.bars.filter((e=>e.location===n)).pop();if(!c.kD.activeElementId||!s)return;let a=0,i=mt(s.affectedPropertyPath,s.cssProperty);switch(i||(i=0),this.originalValue||(this.originalValue=i),n){case"inside-top":case"inside-bottom":case"outside-top":case"outside-bottom":a=this.originalValue+t.totalYChange;break;case"inside-left":case"inside-right":case"outside-left":case"outside-right":a=this.originalValue+t.totalXChange;break}a<0&&(a=0);const o=gt(s.affectedPropertyPath,c.kD.currentBreakpoint.id);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:o,value:{number:a,unit:"px",style:`${a}px`},meta:{snapshotLabel:Ae.AZ.forElementByTreeNodeId(c.kD.activeElementId,o,Be.P.CHANGE)}})}dragEndCallback(){this.originalValue=!1}};_t=(0,r.gn)([(0,l.wA)({components:{SpacingBar:Pt}})],_t);const Ct=_t,wt=Ct;var xt=(0,q.Z)(wt,ot,rt,!1,null,null,null);const kt=xt.exports;var It=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.shouldShow?t("div",{staticClass:"drag-dots-wrapper",style:e.wrapperPositionStyle},[e.isNotFarLeftColumn?t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:function(t){return e.dragStart(t,"left")}}},[e.resizedWidths&&"left"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.left.siblingWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.left.resizedWidth)+"% ")])]):e._e()]):e._e(),e.isNotFarRightColumn?t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:function(t){return e.dragStart(t,"right")}}},[e.resizedWidths&&"right"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.right.resizedWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.right.siblingWidth)+"% ")])]):e._e()]):e._e()]):e._e()},Et=[];function Dt(e){const t=Tt(e),n=At(e);if(!t||!n)return!1;const s=(0,re.v)(t/n*100);return s||!1}function Zt(e,t,n){const s=n,a=At(e);if(!s||!a)return!1;const i=(s+t)/a*100;return(0,re.v)(i)}function Tt(e){const t=(0,Ee.Sv)(e);return!!t&&t.width}function At(e){const t=(0,Ie.Lf)(c.Hb.document.tree,e.id);if(t){const e=(0,Ee.Sv)(t);if(e)return e.width}return!1}function Bt(e){const t=(0,Ee.lx)(e);if(!t)return!1;const n=parseInt(t.getPropertyValue("padding-left")),s=parseInt(t.getPropertyValue("padding-right"));if(Number.isNaN(n)||Number.isNaN(s))return!1;const a=At(e);if(!a)return!1;const i=(n+s)/a*100;return Math.ceil(i)}var Ot=n(92277);const Rt=20;function Mt(e,t,n,s){const a="right"===s?t+1:t-1,i=e.children[a],o=e.children[t];if(!o||!i)return!1;if(t<0||a<0)return!1;const r=Bt(o),l=Bt(i);let c=Rt;!1!==r&&!1!==l&&(c=Math.max(r,l));let d=100-(0,se.IQ)(o)-(0,se.IQ)(i),u=100-d-n;return n<c&&(n=c,u=100-d-n),u<c&&(u=c,n=100-d-u),d>100-2*c&&(n=(100-d)/2,u=(100-d)/2),n=(0,re.v)(n),u=(0,re.v)(u),d=(0,re.v)(d),n+u+d!==100&&(u=100-d-n,u=(0,re.v)(u)),(0,Ot.l)(o.id,n),(0,Ot.l)(i.id,u),(0,se.wr)(e),{resizedWidth:n,siblingWidth:u}}var Ft=n(57088);let Nt=class extends((0,l.Wr)(dt)){constructor(){super(...arguments),this.resizedWidths=!1,this.widthOnDragStart=!1}get columnsAreNotResizeableAtBaseBreakpoint(){if(!this.activeColumn)return!1;const e=(0,se.fy)(this.activeColumn);if(!e)return!1;const t="design.layout.stack_vertically",n="design.layout.fifty_percent",s=b()(e.data.properties,t,!1),a=b()(e.data.properties,n,!1);return s===Ft.Wp||a===Ft.Wp}get shouldShow(){return c.kD.currentBreakpoint.id===Ft.Wp&&this.activeColumn&&!this.columnsAreNotResizeableAtBaseBreakpoint}dragStartCallback(){ie.n.startTransaction()}dragCallback(e,t,n){if(!this.activeColumn||"left"!==n&&"right"!==n)return;const s=(0,Ie.E)(c.Hb.document.tree,this.activeColumn.id),a=(0,Ie.Lf)(c.Hb.document.tree,this.activeColumn.id);if(!1===s||!1===a)return;let i=0;if(this.widthOnDragStart||(this.widthOnDragStart=Tt(this.activeColumn)),!this.widthOnDragStart)return;i="right"===n?t.totalXChange:-1*t.totalXChange;const o=Zt(this.activeColumn,i,this.widthOnDragStart);if(!o)return;const r=Mt(a,s,o,n);r&&(this.resizedWidths={[n]:{resizedWidth:Number(r.resizedWidth.toFixed(2)),siblingWidth:Number(r.siblingWidth.toFixed(2))}})}dragEndCallback(){this.resizedWidths=!1,this.widthOnDragStart=!1,ie.n.endTransaction("Resizing column")}get isNotFarLeftColumn(){if(!this.activeColumn)return!1;const e=(0,Ie.E)(c.Hb.document.tree,this.activeColumn.id);return!1!==e&&0!==e}get isNotFarRightColumn(){if(!this.activeColumn)return!1;const e=(0,Ie.E)(c.Hb.document.tree,this.activeColumn.id),t=(0,Ie.Lf)(c.Hb.document.tree,this.activeColumn.id);return!1!==e&&!1!==t&&e!==t.children.length-1}get activeColumn(){return!!(0,se.cG)(c.kD.activeElement)&&c.kD.activeElement}get columnWidthInPercent(){return!!this.activeColumn&&Dt(this.activeColumn)}};Nt=(0,r.gn)([(0,l.wA)({})],Nt);const $t=Nt,Lt=$t;var Wt=(0,q.Z)(Lt,It,Et,!1,null,null,null);const Vt=Wt.exports;var Ht=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?t("OnCanvasDragHandle",{attrs:{node:e.node}},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button"},[t("Icon",{attrs:{icon:"MaximizeIcon",size:"10"}})],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?t("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[t("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[t("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[t("Icon",{attrs:{icon:"DuplicateIcon",size:"13"}})],1),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[t("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],2)])},Ut=[],zt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{on:{mousedown:function(t){return t.stopPropagation(),e.updateCurrentlyDraggingElementId.apply(null,arguments)}}},[e._t("default")],2)},Gt=[],Kt=n(7824),jt=n(53809);let Xt=class extends l.w3{constructor(){super(...arguments),this.lastSubmittedDrag=!1,this.easyEvent=new Pe.hF}get nestingPermissions(){return(0,Ze.kE)(this.node)}get canvasElementDraggedId(){return c.kD.currentlyDraggingCanvasElementId}watchCanvasElementDraggedId(){this.dragStart()}updateCurrentlyDraggingElementId(){c.kD.setCanvasElementDraggedId(this.node.id)}dragStart(){if(!c.kD.hasFullAccess||!this.canvasElementDraggedId)return;this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd);const e=(0,Ie.Lf)(c.Hb.document.tree,this.node.id);e&&this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:e.id,onlyShowTargetOutline:!0}),(0,Ee.a7)()}setCanvasDragPlaceholderPosition(e){c.kD.setCanvasDragPlaceholderPosition(e)}dragging(e){if((0,Pe.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=e.clientX,n=e.clientY,s=(0,Kt.Qf)(t,n);if(void 0===s)return;const a=(0,Ie.DY)(c.Hb.document.tree,s);if(void 0===a)return;const i=(0,Ze.PN)(c.Hb.document.tree,a,this.nestingPermissions);if(!i)return;const o=i.id;if(s===this.node.id||(0,Ie.K1)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),this.node,void 0))this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:o,onlyShowTargetOutline:!0}),this.setDropPosition(!1);else if(s===o)this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(t,n,s,this.node.id,i);else if(i.children.find((e=>s===e.id)))this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,s,this.node.id,i);else if((0,Ie.K1)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),i,void 0)){const e=(0,Kt.dD)(t,n).reduce(((e,t)=>e||i.children.find((e=>e.id===t))),void 0);e&&this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,e.id,this.node.id,i)}}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&c.Hb.moveElement(this.lastSubmittedDrag),this.setCanvasDragPlaceholderPosition(null),this.lastSubmittedDrag=!1,c.kD.endCanvasElementDrag(),(0,Ee.a7)()}handleDragWhenMouseIsOverAChildOfTheDropTarget(e,t,n,s,a,i=!1){const o=(0,Kt.qE)(a),r="before"===(0,Kt.dv)(e,t,n,o)?"before":"after",l=a.children.map((e=>e.id)).filter((e=>e!==s)),c=a.children.map((e=>e.id)).findIndex((e=>e===n));let d=l.findIndex((e=>e===n));"after"===r&&d++,!0===i?(this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition(!1)):(this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:d}))}handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(e,t,n,s,a){if(0===a.children.length)this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:0,beforeOrAfter:"after"}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:0});else{const n=a.children.map(((e,t)=>({positionAndSize:(0,Ee.Sv)(e,"absolute"),index:t,id:e.id}))).filter((e=>e.positionAndSize)).map((e=>({min:{x:e.positionAndSize.x,y:e.positionAndSize.y},max:{x:e.positionAndSize.x+e.positionAndSize.width,y:e.positionAndSize.y+e.positionAndSize.height},nodeIndex:e.index,id:e.id}))).map((n=>({...n,distance:(0,jt.T)(n,{x:e,y:t})}))),i=n.reduce(((e,t)=>e.distance<t.distance?e:t)),o=(i.min.x+i.max.x)/2,r=(i.min.y+i.max.y)/2,l=o>e?"left":"right",c=r>t?"above":"below",d=(0,Kt.qE)(a);let u;if(u="vertical"===d?"above"===c?"before":"after":"left"===l?"before":"after",i.id===s)return this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:i.nodeIndex,beforeOrAfter:u}),void this.setDropPosition(!1);const p=a.children.map((e=>e.id)).filter((e=>e!==s));let h=p.findIndex((e=>e===i.id));"after"===u&&h++,this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:i.nodeIndex,beforeOrAfter:u}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:h})}}setPlaceholder(e){(0,Ze.xJ)(c.Hb.document.tree,this.node,e.dropTargetId)&&this.movePlaceholder(e.dropTargetId,e.dragPlaceholderIndex,e.beforeOrAfter)}setDropPosition(e){!1!==e?(0,Ze.xJ)(c.Hb.document.tree,this.node,e.droppedOnElementId)&&(this.lastSubmittedDrag=e):this.lastSubmittedDrag=!1}movePlaceholder(e,t,n){let s=!1;const a=(0,Ie.DY)(c.Hb.document.tree,e);if(a){const e=a.children[t],i=a.children[t-1],o=a.children[t+1];e&&e.id===this.node.id&&(s=!0),i&&i.id===this.node.id&&"before"===n&&(s=!0),o&&o.id===this.node.id&&"after"===n&&(s=!0)}if(c.kD.canvasDragPlaceholderPosition){const s=()=>t===c.kD.canvasDragPlaceholderPosition.nodeIndex+1,a=()=>t===c.kD.canvasDragPlaceholderPosition.nodeIndex-1;if(c.kD.canvasDragPlaceholderPosition.parentId===e){if(s()&&"after"===c.kD.canvasDragPlaceholderPosition.position&&"before"===n)return;if(a()&&"before"===c.kD.canvasDragPlaceholderPosition.position&&"after"===n)return}}this.setCanvasDragPlaceholderPosition({parentId:e,nodeIndex:t,position:n,onlyShowTargetOutline:s})}};(0,r.gn)([(0,l.fI)()],Xt.prototype,"node",void 0),(0,r.gn)([(0,l.RL)("canvasElementDraggedId")],Xt.prototype,"watchCanvasElementDraggedId",null),Xt=(0,r.gn)([l.wA],Xt);const qt=Xt,Yt=qt;var Qt=(0,q.Z)(Yt,zt,Gt,!1,null,null,null);const Jt=Qt.exports;function en(e,t){const{x:n,y:s}=(0,Ee.eq)(),a=document.getElementById("iframe"),i=window.Breakdance.canvas.document.querySelector(".breakdance-canvas-right-click-menu");if(!i||!a)return;const{width:o,height:r}=a.getBoundingClientRect(),{menuWidth:l,menuHeight:c}=tn(i),d=e+l+15>o?e-n-l:e-n,u=t+c+15>r?t-s-c:t-s;return{x:d,y:u}}function tn(e){e.style.display="block";const{width:t,height:n}=e.getBoundingClientRect();return{menuWidth:t,menuHeight:n}}let nn=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,Je.n)(this.calculateStylesAndTitle)}openContextMenu(e){e.stopPropagation(),e.preventDefault();const t=en(e.clientX,e.clientY);c.kD.activeElementId&&t&&c.kD.setOnCanvasRightClickMenuState({elementId:c.kD.activeElementId,position:t})}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval)}get isDraftSection(){if(!c.kD.activeElement)return!1;if(c.kD.activeElement.data.type!==ae.PZ)return!1;const e=b()(c.kD.activeElement.data.properties,"settings.advanced.draft");return!!e}get isDragAndDropEnabled(){return c.kD.hasFullAccess}get isElementUpdating(){return!!c.kD.activeElementId&&!!c.kD.elementsThatAreUpdating[c.kD.activeElementId]}calculateStylesAndTitle(){!c.kD.elementWithContentEditable&&c.kD.activeElement?(this.elementTitle=c.PK.element(c.kD.activeElement.data.type).name,this.wrapperPositionStyle=(0,Ee.Qi)((0,Ee.dq)(c.kD.activeElement)),this.titlebarPositionStyle=(0,Ee.A3)(c.kD.activeElement)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}get isDragging(){return c.kD.currentlyDraggingCanvasElementId===c.kD.activeElementId}duplicate(){c.kD.activeElementId&&c.Hb.duplicateElementAndActivateIt(c.kD.activeElementId)}remove(){null!==c.kD.activeElementId&&c.Hb.deleteElement({nodeId:c.kD.activeElementId})}refreshSsr(){c.kD.setRefreshSsrElementId(c.kD.activeElementId)}get hasSSr(){const e=c.kD.activeElement&&c.PK.element(c.kD.activeElement.data.type);return e?e.template.includes("%%SSR%%"):""}get hasParent(){return this.parentElement&&"root"!==this.parentElement.data.type}get node(){return c.kD.activeElement||!1}activateParent(){this.parentElement&&c.kD.activateElement(this.parentElement.id)}get parentElement(){if(!c.kD.activeElement)return!1;const e=(0,Ie.Lf)(c.Hb.document.tree,c.kD.activeElement.id);return e||!1}};nn=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,OnCanvasDragHandle:Jt}})],nn);const sn=nn,an=sn;var on=(0,q.Z)(an,Ht,Ut,!1,null,null,null);const rn=on.exports;var ln=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle})},cn=[];let dn=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!1,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=ct()((()=>(0,Je.n)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.kD.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=ct()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.kD.isCanvasElementBeingDragged&&!c.kD.isDragMixinDragging}get element(){if(!c.kD.lastHoveredOnCanvasElementId||c.kD.elementWithContentEditable)return!1;const e=(0,Ie.DY)(c.Hb.document.tree,c.kD.lastHoveredOnCanvasElementId);return e||!1}setHoveredNode(e,t){const n=(0,Kt.Qf)(e,t);if(void 0!==n){const e=(0,Ie.DY)(c.Hb.document.tree,n);e&&c.kD.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!1===this.element)return;const s=(0,Ee.Sv)(this.element,"absolute");if(!s)return;const{x:a,y:i,width:o,height:r}=s;this.shouldShowControls=t>a+o-48&&t<a+o&&n>i&&n<i+r}positionWrapper(){!c.kD.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,Ee.Qi)((0,Ee.dq)(this.element)):this.wrapperPositionStyle={display:"none"}}};dn=(0,r.gn)([(0,l.wA)({})],dn);const un=dn,pn=un;var hn=(0,q.Z)(pn,ln,cn,!1,null,null,null);const mn=hn.exports;var gn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},vn=[];let fn=class extends l.w3{constructor(){super(...arguments),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperStyle={display:"none"},this.lastModifiedDomElement=null}mounted(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}get domElement(){if(!c.kD.elementWithContentEditable)return null;const e=(0,Ie.DY)(c.Hb.document.tree,c.kD.elementWithContentEditable);if(!e)return null;const t=(0,Ee.dq)(e);if("true"===t?.contentEditable)return this.lastModifiedDomElement=t,t;const n=t?.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}calculateWrapperStyles(){(0,Je.n)((()=>{!this.domElement&&this.lastModifiedDomElement&&(this.lastModifiedDomElement.removeEventListener("input",this.calculateWrapperStyles),this.lastModifiedDomElement=null),this.wrapperStyle=(0,Ee.Qi)(this.domElement),this.domElement&&this.domElement.addEventListener("input",this.calculateWrapperStyles)}))}};fn=(0,r.gn)([(0,l.wA)({})],fn);const yn=fn,bn=yn;var Sn=(0,q.Z)(bn,gn,vn,!1,null,null,null);const Pn=Sn.exports;let _n=class extends s.ZP{constructor(){super(...arguments),this.hideTitleBar=!1,this.hideHoverControls=!1}get element(){return vt.kD.activeElement||!1}get hoveredElement(){return!!vt.kD.lastHoveredOnCanvasElementId&&(0,Ie.DY)(vt.Hb.document.tree,vt.kD.lastHoveredOnCanvasElementId)}get hideClass(){let e=null;return this.hideTitleBar&&this.hideHoverControls?e="all":this.hideHoverControls?e="hover":this.hideTitleBar&&(e="titlebar"),e?`node-chrome--hide-${e}`:null}onElementSelected(){this.observer?.disconnect(),this.element&&(this.observer=this.observePositionChange(this.element,(e=>{this.hideTitleBar=(0,Ee.p1)(e)})))}onHoveredElementSelected(){this.hoverObserver?.disconnect(),this.hoveredElement&&(this.hoverObserver=this.observePositionChange(this.hoveredElement,(e=>{this.hideHoverControls=(0,Ee.p1)(e)})))}beforeDestroy(){this.destroyObserver()}observePositionChange(e,t){if(!e)return;const n=(0,Ee.dq)(e);if(!n)return;const s=e=>{e.forEach((e=>{const n=e.target;t(n)}))},a=new MutationObserver(s),i={attributes:!0,attributeFilter:["class"]};return a.observe(n,i),a}destroyObserver(){this.observer?.disconnect(),this.hoverObserver?.disconnect()}};(0,r.gn)([(0,l.RL)("element")],_n.prototype,"onElementSelected",null),(0,r.gn)([(0,l.RL)("hoveredElement")],_n.prototype,"onHoveredElementSelected",null),_n=(0,r.gn)([(0,l.wA)({components:{NodeContentEditable:Pn,DragDots:it,SpacingBars:kt,ColumnDragSizer:Vt,NodeTitlebar:rn,NodeHoverControls:mn}})],_n);const Cn=_n,wn=Cn;var xn=(0,q.Z)(wn,je,Xe,!1,null,null,null);const kn=xn.exports;var In=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("DragPlaceholder"),t("RightClickMenu",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]})],1)},En=[],Dn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-drag-placeholder-wrapper"},[t("div",{staticClass:"breakdance-drag-placeholder",style:e.dragPlaceholderPositionStyle}),t("div",{staticClass:"breakdance-drag-target-outline",style:e.dragTargetOutlineStyle})])},Zn=[];let Tn=class extends s.ZP{get canvasDragPlaceholderPosition(){return c.kD.canvasDragPlaceholderPosition}get parentNode(){if(!this.canvasDragPlaceholderPosition)return!1;const e=(0,Ie.DY)(c.Hb.document.tree,this.canvasDragPlaceholderPosition.parentId);return e||!1}get stackingStyle(){return this.canvasDragPlaceholderPosition&&this.parentNode?(0,Kt.qE)(this.parentNode):{}}get dragPlaceholderPositionStyle(){if(!this.canvasDragPlaceholderPosition||!0===this.canvasDragPlaceholderPosition.onlyShowTargetOutline)return{};const e=(0,Ie.DY)(c.Hb.document.tree,this.canvasDragPlaceholderPosition.parentId);if(!e)return{};const t=8,n=`${t}px`;if(0===e.children.length){const s=e.id===Ie.uB?(0,Ee.j3)():(0,Ee.Sv)(e);if(!s)return{};let{x:a,y:i,width:o,height:r}=s;return o-40>100&&(a+=20,o-=40),{display:"block",top:i+r/2-t/2+"px",left:`${a}px`,width:`${o}px`,height:n}}{const s=e.children[this.canvasDragPlaceholderPosition.nodeIndex],a=(0,Ee.Sv)(s),i=(0,Kt.qE)(e);if(!a)return{};const{x:o,y:r,width:l,height:c}=a;if("vertical"===i){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:r-(t/2-1)+"px",left:`${o}px`,width:`${l}px`,height:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:c+r-(t/2+1)+"px",left:`${o}px`,width:`${l}px`,height:n}}else if("horizontal"===i){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:`${r}px`,left:o-t/2+"px",height:`${c}px`,width:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",left:l+o-t/2+"px",top:`${r}px`,height:`${c}px`,width:n}}}return{}}get dragTargetOutlineStyle(){if(!this.parentNode)return{};const e=this.parentNode.id===Ie.uB&&0===c.Hb.document.tree.root.children.length?(0,Ee.j3)():(0,Ee.Sv)(this.parentNode);if(!e)return{};const{x:t,y:n,width:s,height:a}=e;return{display:"block",position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${a}px`}}};Tn=(0,r.gn)([(0,l.wA)({components:{}})],Tn);const An=Tn,Bn=An;var On=(0,q.Z)(Bn,Dn,Zn,!1,null,null,null);const Rn=On.exports;var Mn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],staticClass:"breakdance-canvas-right-click-menu",style:e.wrapperPositionStyle},[t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.copyElement}},[e._v(" Copy ")]),t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElement},on:{click:e.pasteElement}},[e._v(" Paste ")]),t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("design")}}},[e._v(" Paste Design ")]),t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("settings")}}},[e._v(" Paste Settings ")]),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.deleteElement}},[e._v(" Delete ")]),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsGlobalBlock},on:{click:e.openSaveGlobalBlockDialog}},[e._v(" Save as Global Block ")])],1),e.saveGlobalBlockDialog?t("GlobalBlockDialog",{attrs:{"element-id":e.elementIdToSaveAsGlobalBlock},on:{close:e.closeGlobalBlockDialog}}):e._e(),t("ClipboardDialog",{model:{value:e.clipboardDialog,callback:function(t){e.clipboardDialog=t},expression:"clipboardDialog"}})],1)},Fn=[],Nn=n(6529),$n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-canvas-right-click-menu-item":!0,"breakdance-canvas-right-click-menu-item-disabled":e.disabled},on:{click:function(t){e.disabled||e.$emit("click",t)}}},[e._t("default")],2)},Ln=[];let Wn=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default:!1})],Wn.prototype,"disabled",void 0),Wn=(0,r.gn)([(0,l.wA)({components:{}})],Wn);const Vn=Wn,Hn=Vn;var Un=(0,q.Z)(Hn,$n,Ln,!1,null,null,null);const zn=Un.exports;var Gn=n(87615),Kn=n(69023),jn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.value,width:500,closeable:!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Enable Paste")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" To paste using the Edit menu, "),e.status&&!e.status.secure?[e._v(" your website needs to be served with HTTPS. ")]:e.status&&!e.permissionGranted?[e._v(" please allow access to your clipboard. ")]:e._e()],2),t("p",[e._v("Alternatively, you can use your keyboard shortcuts:")]),t("ul",{staticClass:"clipboard-dialog-shortcuts"},[t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" C")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("copy")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" X")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("cut")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" V")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("paste")])])])]},proxy:!0}])})},Xn=[],qn=n(89137),Yn=n(31737);let Qn=class extends s.ZP{constructor(){super(...arguments),this.status=null}async onChange(){this.status=await(0,Yn.fn)(),this.status?.permission&&(this.status.permission.onchange=()=>{this.$emit("input",!1)})}get permissionGranted(){return"granted"===this.status?.permission?.state}get metaKey(){return this.isAppleDevice?"⌘":"Ctrl + "}get isAppleDevice(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}close(){this.$emit("input",!1)}};(0,r.gn)([(0,l.fI)()],Qn.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("value",{immediate:!0})],Qn.prototype,"onChange",null),Qn=(0,r.gn)([(0,l.wA)({components:{Dialog:qn.Z}})],Qn);const Jn=Qn,es=Jn;var ts=(0,q.Z)(es,jn,Xn,!1,null,null,null);const ns=ts.exports;let ss=class extends s.ZP{constructor(){super(...arguments),this.saveGlobalBlockDialog=!1,this.clipboardDialog=!1,this.canPasteElement=!1,this.canPasteElementProperties=!1,this.elementIdToSaveAsGlobalBlock=null}async mounted(){window.Breakdance.canvas.document.addEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}beforeDestroy(){window.Breakdance.canvas.document.removeEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}get menuState(){return"closed"!==c.kD.onCanvasRightClickMenuState?c.kD.onCanvasRightClickMenuState:null}get shouldShow(){return"closed"!==c.kD.onCanvasRightClickMenuState&&!this.saveGlobalBlockDialog}handleRightClickInCanvas(e){e.preventDefault();const t=(0,Kt.Qf)(e.clientX,e.clientY),n=en(e.clientX,e.clientY);n&&c.kD.setOnCanvasRightClickMenuState({elementId:t,position:n})}closeRightClickMenuIfClickHappensOutsideRightClickMenu(e){if(this.saveGlobalBlockDialog)return;const t=e.target.closest(".breakdance-canvas-right-click-menu");t||c.kD.setOnCanvasRightClickMenuState("closed")}get wrapperPositionStyle(){return this.menuState?{left:`${this.menuState.position.x}px`,top:`${this.menuState.position.y}px`}:{}}get elementIdPresent(){return this.menuState?.elementId}async onStateChange(){const{permission:e}=await(0,Yn.fn)();if(this.permission=e?.state,"prompt"===this.permission)return this.canPasteElement=!0,void(this.canPasteElementProperties=!0);this.canPasteElement=await(0,Nn.Ku)(this.menuState?.elementId?this.menuState.elementId:c.Hb.document.tree.root.id),this.canPasteElementProperties=!!this.menuState?.elementId&&await(0,Nn.us)(this.menuState.elementId)}copyElement(){this.menuState?.elementId&&(0,Nn.NA)(this.menuState.elementId),c.kD.setOnCanvasRightClickMenuState("closed")}pasteElement(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId?(0,Nn.HR)(this.menuState.elementId):(0,Nn.HR)(c.Hb.document.tree.root.id),c.kD.setOnCanvasRightClickMenuState("closed")}pasteElementProperties(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId&&(0,Nn.qb)(this.menuState.elementId,e),c.kD.setOnCanvasRightClickMenuState("closed")}deleteElement(){this.menuState?.elementId&&(c.Hb.deleteElement({nodeId:this.menuState?.elementId}),c.kD.setOnCanvasRightClickMenuState("closed"))}openSaveGlobalBlockDialog(){this.menuState?.elementId&&(this.elementIdToSaveAsGlobalBlock=this.menuState.elementId,this.saveGlobalBlockDialog=!0)}closeGlobalBlockDialog(){this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsGlobalBlock=null,c.kD.setOnCanvasRightClickMenuState("closed")}get canSaveAsGlobalBlock(){return this.menuState?.elementId&&(0,Gn.VQ)(this.menuState.elementId)}};(0,r.gn)([(0,l.RL)("menuState")],ss.prototype,"onStateChange",null),ss=(0,r.gn)([(0,l.wA)({components:{ClipboardDialog:ns,GlobalBlockDialog:Kn.Z,RightClickMenuItem:zn}})],ss);const as=ss,is=as;var os=(0,q.Z)(is,Mn,Fn,!1,null,null,null);const rs=os.exports;let ls=class extends s.ZP{};ls=(0,r.gn)([(0,l.wA)({components:{DragPlaceholder:Rn,RightClickMenu:rs}})],ls);const cs=ls,ds=cs;var us=(0,q.Z)(ds,In,En,!1,null,null,null);const ps=us.exports;var hs=n(79298);let ms=class extends s.ZP{render(){const e=arguments[0],t=()=>0===this.rootElement.children.length?e(Q):this.rootElement.children.map((t=>e(Ke,{key:t.id,attrs:{parentId:this.rootElement.id,element:t}})));return e("div",{key:this.canvasKey,class:this.classList,attrs:{id:"breakdance_canvas"}},[t(),e(kn),e(ps)])}mounted(){c.kD.setCanvasState("normal")}get canvasKey(){return c.kD.canvasKey}get classList(){return{breakdance:!0,canvas:!0,dragging:c.kD.isCanvasElementBeingDragged||c.kD.isAddElementBeingDragged}}get rootElement(){return c.Hb.document.tree.root}get globalSettings(){return c.cr.globalSettings}get selectors(){return c.cr.cssSelectors}onGlobalSettingsChanged(){(0,hs.T)((0,Ee.RY)())}onSelectorsChanged(){(0,hs.B)((0,Ee.RY)())}};(0,r.gn)([(0,l.RL)("globalSettings",{deep:!0,immediate:!0})],ms.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],ms.prototype,"onSelectorsChanged",null),ms=(0,r.gn)([(0,l.wA)({components:{EmptyContainer:Q,BuilderElement:Ke,NodeChrome:kn,CanvasChrome:ps}})],ms);const gs=ms,vs=gs;var fs,ys,bs=(0,q.Z)(vs,fs,ys,!1,null,null,null);const Ss=bs.exports;var Ps=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classes,style:e.style},[t("Icon",{staticClass:"breakdance-preview-width-adjustment-handle align-center",attrs:{icon:"EllipsisStrokeVerticalIcon",size:"6",heightAuto:!0},on:{mousedown:e.dragStart,dblclick:e.resetPreviewWidth}}),e.isDragging||e.currentPreviewWidthIsSetByUser?t("div",{staticClass:"breakdance-px-amount"},[e._v(" "+e._s(e.pxAmount)+" "),t("Icon",{staticClass:"px-amount-reset-icon",attrs:{icon:"CloseCircleIcon",size:"11"},on:{click:e.resetPreviewWidth}})],1):e._e()],1)},_s=[];let Cs=class extends s.ZP{constructor(){super(...arguments),this.mouseXChange=0,this.lastMouseX=0,this.isDragging=!1,this.easyEvent=new Pe.hF}get currentPreviewWidthIsSetByUser(){return"100%"===this.currentBreakpoint.defaultPreviewWidth?"100%"!==this.previewWidth.width:this.previewWidth.width!==this.currentBreakpoint.defaultPreviewWidth}get style(){return{left:`${this.iframeWrapperPosition.x+this.iframeWrapperPosition.width}px`,height:`${this.iframeWrapperPosition.height}px`}}get pxAmount(){return"100%"===this.previewWidth.width?"100%":`${this.previewWidth.width}px`}get alreadyAtMaximumWidth(){return"100%"===this.previewWidth.width||this.previewWidth.width>=this.previewWidth.availableCanvasSize.width}dragStart(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.lastMouseX=e.clientX,this.iframe&&(this.iframe.style.pointerEvents="none"),this.mainWrapper&&(this.mainWrapper.style.cursor="col-resize")}dragging(e){(0,Pe.Pm)(e)||(this.isDragging=!0,e.preventDefault(),e.stopPropagation(),this.mouseXChange=e.clientX-this.lastMouseX,this.adjustPreviewWidth(2*this.mouseXChange),this.lastMouseX=e.clientX)}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.iframe&&(this.iframe.style.pointerEvents="auto"),this.mainWrapper&&(this.mainWrapper.style.cursor="auto"),this.isDragging=!1}adjustPreviewWidth(e){let t;const n=this.previewWidth.width;if(this.alreadyAtMaximumWidth&&e>0&&(e=0),"100%"===this.previewWidth.width){if(!this.iframe)return void console.warn("iframe element is missing");t=this.iframe.offsetWidth-e}else t=this.previewWidth.width+e;"100%"!==n&&t>n&&t>this.previewWidth.availableCanvasSize.width&&(t=this.previewWidth.availableCanvasSize.width),this.$emit("previewWidthChangeWithAdjustmentBar",t)}resetPreviewWidth(){this.$emit("resetPreviewWidth")}get classes(){return{"breakdance-preview-width-bar":!0,"breakdance-preview-width-bar-is-dragging":this.isDragging}}};(0,r.gn)([(0,l.fI)()],Cs.prototype,"iframeWrapperPosition",void 0),(0,r.gn)([(0,l.fI)()],Cs.prototype,"previewWidth",void 0),(0,r.gn)([(0,l.fI)()],Cs.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.fI)()],Cs.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.fI)()],Cs.prototype,"iframe",void 0),Cs=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],Cs);const ws=Cs,xs=ws;var ks=(0,q.Z)(xs,Ps,_s,!1,null,null,null);const Is=ks.exports;var Es=n(37179),Ds=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Es.Z,e._g({class:e.classList,attrs:{elevation:"0",loading:e.loading,height:"37",minWidth:e.minWidth,outlined:"","data-test-id":e.testId}},e.$listeners),[e._t("default")],2)},Zs=[];let Ts=class extends s.ZP{get classList(){return{"breakdance-toolbar-button":!0,"breakdance-toolbar-button--active":this.active}}};(0,r.gn)([(0,l.fI)({default:!1})],Ts.prototype,"loading",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Ts.prototype,"active",void 0),(0,r.gn)([(0,l.fI)({default:"auto"})],Ts.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],Ts.prototype,"testId",void 0),Ts=(0,r.gn)([(0,l.wA)({components:{}})],Ts);const As=Ts,Bs=As;var Os=(0,q.Z)(Bs,Ds,Zs,!1,null,null,null);const Rs=Os.exports;var Ms=n(49026),Fs=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showOverlay?t("div",{staticClass:"breakdance-foreign-documents-overlay",style:e.overlayStyles,on:{mouseleave:e.handleOverlayMouseLeave}},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar-wrapper"},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar"},[t("a",{attrs:{href:e.foreignDocumentBuilderUrl},on:{click:e.openBuilderUrl}},[e._v(" Edit "+e._s(e.foreignDocumentTitle)+" "),t("Icon",{attrs:{icon:"EditIcon"}})],1)])])]):e._e()},Ns=[];const $s=e=>`${e}px`;var Ls;(function(e){e["breakdance_header"]="header",e["breakdance_footer"]="footer"})(Ls||(Ls={}));let Ws=class extends s.ZP{constructor(){super(...arguments),this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.isScrolling=!1,this.isScrollingCleanupTimerId=null,this.throttledHandleIframeScroll=ct()(this.handleIframeScroll,120),this.throttledHandleWatchedElementMouseMove=ct()(this.handleWatchedElementMouseMove,60)}get showOverlay(){return c.kD.hasFullAccess}get foreignDocumentBuilderUrl(){return this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentBuilderUrl}get foreignDocumentTypeLabel(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentType;return e?Ls[e]??"":""}get foreignDocumentTitle(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentTitle;return e||"Unknown Document"}get overlayStyles(){if(!this.isThereHoveredElementAndItsCoords())return;const{top:e,left:t,height:n,width:s}=this.hoveredForeignDocumentDomElementCoords;return{display:"flex",top:$s(e),left:$s(t),height:$s(n),width:$s(s)}}mounted(){this.addEventListenersToIframeDocument(),this.addEventListenersToWatchedElements()}beforeDestroy(){this.removeEventListenersFromIframeDocument(),this.removeEventListenersFromWatchedElements()}addEventListenersToIframeDocument(){this.iframeDocument.addEventListener("scroll",this.throttledHandleIframeScroll)}removeEventListenersFromIframeDocument(){this.iframeDocument.removeEventListener("scroll",this.throttledHandleIframeScroll)}addEventListenersToWatchedElements(){this.elementsToWatch.forEach((e=>{e.addEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.addEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}removeEventListenersFromWatchedElements(){this.elementsToWatch.forEach((e=>{e.removeEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.removeEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}isThereHoveredElementAndItsCoords(){return null!==this.hoveredForeignDocumentDomElement&&null!==this.hoveredForeignDocumentDomElementCoords}setHoveredForeignDocumentDomElement(e){this.hoveredForeignDocumentDomElement=e,this.hoveredForeignDocumentDomElementCoords=this.getCoords()}getCoords(){const e=this.hoveredForeignDocumentDomElement;if(1===e?.childElementCount){const t=e.firstElementChild;return t.getBoundingClientRect()}return e?.getBoundingClientRect()??null}setIsScrolling(e){e?(this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.removeEventListenersFromWatchedElements()):this.addEventListenersToWatchedElements(),this.isScrolling=e}handleIframeScroll(){this.setIsScrolling(!0),this.isScrollingCleanupTimerId&&clearTimeout(this.isScrollingCleanupTimerId),this.isScrollingCleanupTimerId=setTimeout((()=>this.setIsScrolling(!1)),120)}handleOverlayMouseLeave(){this.setHoveredForeignDocumentDomElement(null)}handleWatchedElementMouseMove(e){e.currentTarget&&this.setHoveredForeignDocumentDomElement(e.currentTarget)}handleWatchedElementMouseLeave(e){this.$el.contains(e.relatedTarget)?null!==this.hoveredForeignDocumentDomElement&&(this.hoveredForeignDocumentDomElementCoords=this.getCoords()):this.setHoveredForeignDocumentDomElement(null)}openBuilderUrl(){const e=this.foreignDocumentBuilderUrl;e&&this.$emit("openDocument",{builderUrl:e,title:this.foreignDocumentTitle})}};(0,r.gn)([(0,l.fI)()],Ws.prototype,"canvasElement",void 0),(0,r.gn)([(0,l.fI)()],Ws.prototype,"iframeDocument",void 0),(0,r.gn)([(0,l.fI)()],Ws.prototype,"elementsToWatch",void 0),Ws=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],Ws);const Vs=Ws,Hs=Vs;var Us=(0,q.Z)(Hs,Fs,Ns,!1,null,null,null);const zs=Us.exports;var Gs=n(713),Ks=n(75051),js=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"mainWrapper",staticClass:"breakdance-iframe-main-wrapper",style:e.mainWrapperStyle,attrs:{id:"canvas-area"}},[t("PreviewWidthAdjustmentHandle",{attrs:{"iframe-wrapper-position":e.iframeWrapperPosition,"preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,iframe:e.iframe,"main-wrapper":e.mainWrapper},on:{resetPreviewWidth:()=>this.$emit("resetPreviewWidth"),previewWidthChangeWithAdjustmentBar:e=>this.$emit("previewWidthChangeWithAdjustmentBar",e)}}),e.iframeExited?t("div",{staticClass:"iframe-reloaded-warning-block"},[e._v(" Something navigated you away from the page you are editing. "),t("StandardButton",{staticClass:"mt-4",attrs:{minWidth:"80"},on:{click:e.handleReloadWanted}},[e._v(" Continue Editing ")])],1):t("div",{ref:"iframeWrapper",staticClass:"breakdance-iframe-inner-wrapper",style:e.iframeWrapperStyles,attrs:{id:"iframe-wrapper"}},[e.iframeIsLoading?t("Loading",{attrs:{absolute:""}}):e._e(),t("iframe",{key:e.iframeUrl,ref:"iframe",staticClass:"breakdance-iframe",style:e.iframeStyle,attrs:{id:e.iframeId,name:e.iframeId,src:e.iframeUrl},on:{load:e.handleIframeLoaded}})],1)],1)},Xs=[];const qs=8;let Ys=class extends s.ZP{constructor(){super(...arguments),this.iframeWrapperPosition={x:0,y:0,width:0,height:0}}get mainWrapperStyle(){return{padding:`${qs}px`}}get iframeWrapperStyles(){return{width:"100%"===this.iframePreviewWidth.width?"100%":`${this.iframePreviewWidth.width}px`,overflow:"SCALED_TO_FIT"===vt.kD.settings.scaleToFit?"hidden":"auto"}}get iframeStyle(){const e=e=>{const t=Math.min(1,this.iframePreviewWidth.availableCanvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.iframePreviewWidth.availableCanvasSize.height*(1/t)+"px"}};return"ACTUAL_SIZE"===vt.kD.settings.scaleToFit?"100%"===this.iframePreviewWidth.width?{width:"100%",minWidth:`${this.minWidth}px`}:{width:`${this.iframePreviewWidth.width}px`}:"100%"===this.iframePreviewWidth.width?this.iframePreviewWidth.availableCanvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.iframePreviewWidth.width)}get iframeIsLoading(){return"loading"===this.iframeState}handleIframeLoaded(){this.iframe?.contentWindow&&(this.iframe.contentWindow.onunload=()=>{this.$emit("iframeUnloaded")}),this.$emit("iframeLoaded",this.iframe)}handleReloadWanted(){this.$emit("reloadWanted")}mounted(){this.mainWrapper?new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper):vt.kD.logError("No canvas element."),this.iframeWrapper?new ResizeObserver(this.setIframeWrapperPosition).observe(this.iframeWrapper):vt.kD.logError("No iframe wrapper element."),this.setAvailableCanvasSize()}setAvailableCanvasSize(){if(this.mainWrapper){const e=this.mainWrapper.getBoundingClientRect(),t={...this.iframePreviewWidth,availableCanvasSize:{width:e.width-2*qs,height:e.height-2*qs}};this.$emit("previewWidthChange",t)}this.setIframeWrapperPosition()}setIframeWrapperPosition(){if(this.iframeWrapper){const e=this.iframeWrapper.getBoundingClientRect();this.iframeWrapperPosition={x:e.x,y:e.y,width:e.width,height:e.height}}}};(0,r.gn)([(0,l.fI)()],Ys.prototype,"iframeState",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"iframePreviewWidth",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"iframeUrl",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"iframeId",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"iframeExited",void 0),(0,r.gn)([(0,l.fI)()],Ys.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.Rl)()],Ys.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.Rl)()],Ys.prototype,"iframeWrapper",void 0),(0,r.gn)([(0,l.Rl)()],Ys.prototype,"iframe",void 0),Ys=(0,r.gn)([(0,l.wA)({components:{StandardButton:Rs,Loading:Ks.Z,PreviewWidthAdjustmentHandle:Is}})],Ys);const Qs=Ys,Js=Qs;var ea=(0,q.Z)(Js,js,Xs,!1,null,null,null);const ta=ea.exports;let na=class extends s.ZP{constructor(){super(...arguments),this.iframeExited=!1,this.foreignDocumentsOverlayVueApp=null,this.canvasApp=null}handlePreviewWidthChange(e){c.kD.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.kD.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.kD.selectBaseBreakpoint()}setIframeAsExited(){c.PK.leavingIframeOnPurpose?c.PK.setLeavingIframeOnPurpose(!1):this.iframeExited=!0}reloadIframe(){this.iframeExited=!1,setTimeout((()=>{window.frames["iframe"].location.reload()}),0)}get iframeMinWidth(){return(0,Ft.GV)(c.cr)}get canvasPreviewWidth(){return c.kD.canvasPreviewWidth}get previewWidth(){return c.kD.canvasPreviewWidth.width}get canvasState(){return c.kD.canvasState}get currentBreakpoint(){return c.kD.currentBreakpoint}get iframeURL(){if(c.PK.documentSpecificNeededUrls&&-1!==c.Hb.document.documentMeta.id){const e=new URL(c.PK.documentSpecificNeededUrls.iframeUrl);return e.searchParams.append("breakdance_iframe","true"),e.searchParams.append("breakdance_open_document",`${c.Hb.document.documentMeta.id}`),e.toString()}return null}mountForeignDocumentsOverlayVueAppInIframe(e,t){const n=e.createElement("div");n.classList.add("breakdance-foreign-documents-overlay-mountpoint"),e.body.appendChild(n),this.foreignDocumentsOverlayVueApp=new s.ZP({el:n,store:c.ZP,vuetify:Ms.Z,render(n){return n(zs,{props:{elementsToWatch:e.querySelectorAll("[data-breakdance-foreign-document]"),canvasElement:t,iframeDocument:e},on:{openDocument:e=>{confirm(`Edit ${e.title}?`)&&window.open(e.builderUrl,"_top")}}})}})}mountCanvasInIframe(e){if(!e.contentDocument)throw"Unable to mount canvas in iframe because its document is missing";(0,Ee.hm)(e.contentDocument),(0,$e.B6)(document,window.Breakdance.canvas.document),me.w.registerAllStoreActions();const t=window.Breakdance.canvas.document.querySelector("#breakdance-canvas-wrapper");this.canvasApp=new s.ZP({store:c.ZP,vuetify:Ms.Z,render:e=>e(Ss)}).$mount(t),this.mountForeignDocumentsOverlayVueAppInIframe(window.Breakdance.canvas.document,this.canvasApp.$el),(0,Ee.sy)().appendChild((0,Gs.ok)(document,f,"iframe-styles")),this.unbindClickEventOnInnerIframeLinks(),this.$emit("loaded")}unbindClickEventOnInnerIframeLinks(){const e=[...window.Breakdance.canvas.document.querySelectorAll("a:not([force-allow-clicks])")],t=[...window.Breakdance.canvas.document.querySelectorAll("#breakdance_canvas a")],n=e.filter((e=>!t.includes(e)));n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}))}destroyed(){this.canvasApp&&this.canvasApp.$destroy(),this.foreignDocumentsOverlayVueApp&&this.foreignDocumentsOverlayVueApp.$destroy()}};na=(0,r.gn)([(0,l.wA)({components:{IframeWrapper:ta,Loading:Ks.Z,Canvas:Ss,ForeignDocumentsOverlay:zs,PreviewWidthAdjustmentHandle:Is,StandardButton:Rs}})],na);const sa=na,aa=sa;var ia=(0,q.Z)(aa,g,v,!1,null,null,null);const oa=ia.exports;var ra=n(55234),la=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBar",[t("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("TopBarSection",{attrs:{"border-right":!0}},[t("IconButton",{staticClass:"open-properties-toolbar-button",attrs:{active:e.isElementPropertiesOpen,icon:"EditIcon",size:"18"},on:{click:e.toggleElementProperties}})],1),t(ra.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("DocumentChooser"),t("PreviewContentChooserDialog"),t("TopBarSection",{attrs:{borderRight:!0}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t(ra.Z),e.shouldShowUpgradeToProButton?[t("TopBarSection",[t("UpgradeToPro")],1)]:e._e(),t("UndoRedo"),t("TopBarSection",{staticClass:"top-bar-settings-and-structure-section",attrs:{"border-left":!0}},[t("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIcon",size:"18"},on:{click:e.toggleStructurePanel}}),t("SettingsDropdown")],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("Save")],1),t("Exit")],2)},ca=[],da=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80",testId:"main-save-button"},on:{click:e.save}},[e._v(" Save ")])},ua=[],pa=n(51168);async function ha(){return(0,W.pipe)(await(0,D.D)({friendlyName:"Saving to WordPress",action:"breakdance_save",dataToPost:{id:c.Hb.document.documentMeta.id,tree:(0,F.J)((0,Ie.n$)(c.Hb.document.tree)),globalSettings:(0,F.J)(c.cr.globalSettings),classes:(0,F.J)(c.cr.cssSelectors)},decoder:Z._4}),(0,V.fold)((e=>((0,pa.UE)(e),(0,V.left)(e))),(e=>(c.kD.setUnsavedChangesPresent(!1),ie.n.ignore((()=>{c.cr.markCurrentGlobalSettingsAsUntouched(),c.cr.markCurrentSelectorsAsUntouched()})),(0,V.right)(e)))))}var ma=n(34286),ga=n(7892);let va=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1,this.unsubscribe=null}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}async save(){document.dispatchEvent(new Event("breakdanceSaveButtonClicked")),this.saveInProgress=!0,await ha(),this.saveInProgress=!1}mounted(){$e.uq.unbind(ma.r.CMD_S),$e.uq.register(ma.r.CMD_S,this.save),this.unsubscribe=this.$store.subscribe((e=>{ie.n.shouldMutationBeIgnored(e)||c.kD.setUnsavedChangesPresent(!0)})),this.warnIfUnsavedFunction=(0,ga.$)((()=>c.kD.unsavedChangesPresent))}beforeDestroy(){$e.uq.unbind(ma.r.CMD_S),this.unsubscribe&&this.unsubscribe(),(0,ga.e)(this.warnIfUnsavedFunction)}};va=(0,r.gn)([(0,l.wA)({components:{StandardButton:Rs}})],va);const fa=va,ya=fa;var ba=(0,q.Z)(ya,da,ua,!1,null,null,null);const Sa=ba.exports;var Pa=n(70248),_a=n(61908),Ca=n(11193),wa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticStyle:{"margin-right":"0"},attrs:{active:!e.isBase,icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:"18"}},n))]}}])},[t(Pa.Z,e._l(e.breakpoints,(function(n){return t(_a.Z,{key:n.id,class:e.activeClass(n.id),attrs:{"two-line":"",dense:""},on:{click:function(t){return e.changeBreakpoint(n)}}},[t("div",{staticClass:"device-icon-wrapper"},[t("Icon",{attrs:{icon:e.getDeviceIcon(n.id),rotate:e.getDeviceIconRotation(n.id),size:"18"}})],1),t(Ca.km,{staticClass:"ml-4"},[t(Ca.V9,[e._v(e._s(n.label))]),t(Ca.oZ,["Desktop"===n.label?[e._v(" All device widths ")]:e._e(),n.maxWidth&&!n.minWidth?[e._v(" "+e._s(n.maxWidth)+"px and below ")]:e._e(),!n.maxWidth&&n.minWidth?[e._v(" "+e._s(n.minWidth)+"px and above ")]:e._e(),n.maxWidth&&n.minWidth?[e._v(" Between "+e._s(n.minWidth)+"px and "+e._s(n.maxWidth)+"px ")]:e._e()],2)],1)],1)})),1)],1)},xa=[],ka=n(41687),Ia=n(11701);let Ea=class extends s.ZP{getDeviceIcon(e){return Ft.b8[e]?.icon||Ft.nR}getDeviceIconRotation(e){return Ft.b8[e]?.rotate}get isBase(){return this.currentBreakpoint.id===Ft.Wp}get breakpoints(){return c.PK.breakpoints}get currentBreakpoint(){return this.value}activeClass(e){return this.currentBreakpoint.id===e&&"breakpoint-active"}changeBreakpoint(e){this.$emit("input",e)}onBreakpointsChanged(){this.breakpoints.find((e=>e.id===this.currentBreakpoint.id))||c.kD.selectBaseBreakpoint()}};(0,r.gn)([(0,l.fI)()],Ea.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("breakpoints",{deep:!0,immediate:!0})],Ea.prototype,"onBreakpointsChanged",null),Ea=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,Dropdown:Ia.Z,IconButton:ka.Z}})],Ea);const Da=Ea,Za=Da;var Ta=(0,q.Z)(Za,wa,xa,!1,null,null,null);const Aa=Ta.exports;var Ba=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"undo-redo-top-bar-section",attrs:{"border-left":!0}},[t("IconButton",{attrs:{disabled:!e.canUndo,icon:"UndoIcon",size:"18"},on:{click:e.undo}}),t("IconButton",{attrs:{disabled:!e.canRedo,icon:"RedoIcon",size:"18"},on:{click:e.redo}})],1)},Oa=[],Ra=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},Ma=[];let Fa=class extends s.ZP{get classList(){const e=["topbar-section"];return this.borderLeft&&e.push("topbar-section-bl"),this.borderRight&&e.push("topbar-section-br"),e}};(0,r.gn)([(0,l.fI)({default:!1})],Fa.prototype,"borderLeft",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Fa.prototype,"borderRight",void 0),Fa=(0,r.gn)([(0,l.wA)({components:{}})],Fa);const Na=Fa,$a=Na;var La=(0,q.Z)($a,Ra,Ma,!1,null,null,null);const Wa=La.exports;let Va=class extends s.ZP{mounted(){$e.uq.register(ma.r.CMD_Z,this.undo),$e.uq.register(ma.r.CMD_SHIFT_Z,this.redo)}get canUndo(){return c.GD.canUndo}get canRedo(){return c.GD.canRedo}undo(){this.canUndo&&ie.n.undo()}redo(){this.canRedo&&ie.n.redo()}beforeDestroy(){$e.uq.unbind(ma.r.CMD_Z),$e.uq.unbind(ma.r.CMD_SHIFT_Z)}};Va=(0,r.gn)([(0,l.wA)({components:{IconButton:ka.Z,TopBarSection:Wa}})],Va);const Ha=Va,Ua=Ha;var za=(0,q.Z)(Ua,Ba,Oa,!1,null,null,null);const Ga=za.exports;var Ka=n(73385),ja=n(77859),Xa=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.previews?t("div",[t("TopBarSection",{attrs:{"border-right":!0}},[t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser",class:e.nothingToPreviewAndNoSearchQueryAndNotLoading?"document-chooser-zero-case":""},n),[t("div",{staticClass:"document-chooser-text"},[e.currentPreviewedItem?[t("h2",[e._v("Previewing "+e._s(e.currentPreviewedItem.type))]),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentPreviewedItem.label||`ID ${e.currentPreviewedItem.id}`)+" ")])]:e.nothingToPreviewAndNoSearchQueryAndNotLoading?[t("h2",[e._v("Nothing to Preview")]),t("span",{staticClass:"ellipsis-text"},[e._v(" No match found ")])]:[t("h2",[e._v("Previewing")]),t("span",{staticClass:"ellipsis-text"},[e._v(" choose ")])]],2),t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}],null,!1,1209928268),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(Ka.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:e.nothingToPreviewAndNoSearchQueryAndNotLoading?void 0:350,loading:e.isLoading}},[e.nothingToPreviewAndNoSearchQueryAndNotLoading?e._e():t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(ja.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),t(Pa.Z,{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.previews,(function(n,s){return[t(_a.Z,{key:s,class:{"document-chooser-item-selected":n.url===e.currentPreviewedItem.url},attrs:{link:""},on:{click:function(t){return e.setPreviewedItem(n)}}},[t(Ca.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(n.label||n.url)+" ")]),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(n.type))])])],1)]})),e.nothingToPreviewAndNoSearchQueryAndNotLoading?t("div",{staticClass:"previewable-items-zero-case previewable-items-zero-case-error"},[t("h4",[e._v(" Nothing To Preview ")]),t("p",[e._v(" Your template settings don't match any content. You can: ")]),t("ul",[t("li",[e._v(" Edit the template anyway - this is not an error. ")]),t("li",[e._v(" Update your template settings in the WP admin at "),t("b",[e._v("Breakdance > Templates > Edit Template")])]),t("li",[e._v(" Add some content to your site that matches the template settings. ")])])]):0===e.previews.length?t("div",{staticClass:"previewable-items-zero-case align-center text-center"},[t("h4",[e._v(" No results apply to this template ")])]):e._e()],2)],1)],1)],1)],1):e._e()},qa=[],Ya=n(23777);async function Qa({id:e,search:t=""}){return(0,D.D)({action:"breakdance_get_template_previewable_items_with_search",dataToPost:{search:t,id:e},decoder:Ya.NC,resultKey:"data"})}var Ja=n(32127);let ei=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search="",this.isLoading=!1,this.debouncedSearchContentInWp=P()(this.searchContentInWp,300)}get previews(){return c.PK.templatePreview&&c.PK.templatePreview.previewableItems}get currentPreviewedItem(){return c.PK.previewedItem}get nothingToPreviewAndNoSearchQueryAndNotLoading(){return(!this.previews||!this.previews.length)&&!this.search&&!this.isLoading}async setPreviewedItem(e){this.open=!1,c.kD.setLastModifiedElementProperty({elementId:null,path:null}),c.PK.setPreviewedItem(e),c.PK.flushDynamicDataCache(),await(0,C.Kd)(),(0,Ja.Ft)(e)}async handleSearch(e){this.search=e,this.isLoading=!0,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,W.pipe)(await Qa({search:this.search,id:c.Hb.document.documentMeta.id}),(0,V.fold)((e=>{this.isLoading=!1,e.forEach((e=>fe.Z.log.message(e.msg)))}),(e=>{c.PK.setTemplatePreview({...c.PK.templatePreview,previewableItems:e}),this.isLoading=!1})))}};ei=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,Dropdown:Ia.Z,IconButton:ka.Z,TopBarSection:Wa}})],ei);const ti=ei,ni=ti;var si=(0,q.Z)(ni,Xa,qa,!1,null,null,null);const ai=si.exports;var ii=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"document-chooser-section",attrs:{borderLeft:!0,borderRight:!0}},[t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},[t("h2",[e._v("Editing "+e._s(e.currentDocument.documentMeta.typeLabel))]),-1!==e.currentDocument.documentMeta.id?t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentDocument.documentMeta.titleLabel||`ID: ${e.currentDocument.documentMeta.id}`)+" ")]):t("span",{staticClass:"ellipsis-text"},[e._v(" choose a document to edit ")])]),t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(Ka.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:"350",loading:e.isLoading}},[t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(ja.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),t(Pa.Z,{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.availableDocuments,(function(n,s){return[t(_a.Z,{key:s,class:{"document-chooser-item-selected":n.id===e.currentDocument.documentMeta.id},attrs:{link:"",href:e.getDocumentUrlFromId(n.id)}},[t(Ca.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(n.titleLabel||`ID: ${n.id}`)+" ")]),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(n.typeLabel))])])],1)]})),0===e.availableDocuments.length?t("div",{staticClass:"previewable-items-zero-case-search"},[t("svg",{staticClass:"previewable-items-zero-case-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037","stroke-width":"6.250005"}})])]),t("h5",[e._v("No items found")]),t("p",[e._v("Try adjusting your search to find what you are looking for.")])]):e._e()],2)],1)],1)],1)},oi=[],ri=n(38537);async function li({search:e=""}){return(0,D.D)({action:"breakdance_get_available_documents_with_search",dataToPost:{search:e},decoder:ri.gu,resultKey:"data"})}let ci=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search="",this.isLoading=!1,this.debouncedSearchContentInWp=P()(this.searchContentInWp,600)}get currentDocument(){return c.Hb.document}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}get currentlyEditingLabel(){return`${c.Hb.document.documentMeta.id.toString()}`}get availableDocuments(){return c.PK.availableDocuments}getDocumentUrlFromId(e){return(0,Ja.UH)(e)}handleSearch(e){this.search=e,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,W.pipe)(await li({search:this.search}),(0,V.fold)((e=>{this.isLoading=!1,e.forEach((e=>fe.Z.log.message(e.msg)))}),(e=>{c.PK.setAvailableDocuments(e),this.isLoading=!1})))}};ci=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,Dropdown:Ia.Z,TopBarSection:Wa}})],ci);const di=ci,ui=di;var pi=(0,q.Z)(ui,ii,oi,!1,null,null,null);const hi=pi.exports;var mi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.anySettingsPanelsOpen,testId:"open-settings-menu",size:"18",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:e.openGlobalSettingsPanel}},[t(Ca.V9,{attrs:{"data-test-id":"toggle-global-settings"}},[e._v(" Global Settings ")])],1),t(_a.Z,{attrs:{dense:""},on:{click:e.openSelectorsPanel}},[t(Ca.V9,{attrs:{"data-test-id":"toggle-site-classes-selectors"}},[e._v(" Selectors ")])],1),t(_a.Z,{attrs:{dense:""},on:{click:e.openHistoryAndRevisionsPanel}},[t(Ca.V9,[e._v(" History ")])],1),t(_a.Z,{staticClass:"breakdance-menu-open-preferences",attrs:{dense:""},on:{click:e.openPreferencesModal}},[t(Ca.V9,{attrs:{"data-test-id":"breakdance-menu-open-preferences"}},[e._v(" Preferences ")])],1),t(_a.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{"data-test-id":"toggle-element-studio",dense:"",disabled:"success"!==e.elementsLoadingState},on:{click:e.toggleElementStudio}},[t(Ca.V9,{attrs:{"data-test-id":"breakdance-menu-open-element-studio"}},[t("div",{staticClass:"d-flex align-center"},[e._v(" Element Studio ")])])],1)],1)],1)},gi=[];let vi=class extends s.ZP{openPreferencesModal(){c.kD.setPreferencesModalOpen(!0)}toggleElementStudio(){c.kD.toggleElementStudio()}openGlobalSettingsPanel(){(0,z.oM)("globalSettings")}openSelectorsPanel(){c.kD.setActiveSelectorName(null),(0,z.oM)("selectors")}get elementsLoadingState(){return c.PK.elementsLoadingState}get anySettingsPanelsOpen(){return(0,z.O_)("selectors")||(0,z.O_)("history")||(0,z.O_)("globalSettings")||c.kD.panelState.elementStudioOpen||c.kD.panelState.preferencesModalOpen}openHistoryAndRevisionsPanel(){(0,z.oM)("history")}};vi=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,StandardButton:Rs,Dropdown:Ia.Z,IconButton:ka.Z}})],vi);const fi=vi,yi=fi;var bi=(0,q.Z)(yi,mi,gi,!1,null,null,null);const Si=bi.exports;var Pi=n(59760),_i=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.backToAdmin||e.backToFrontend?t("TopBarSection",{attrs:{borderLeft:!0}},[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"CloseIcon",size:"18"}},n))]}}],null,!1,865007243)},[t(Pa.Z,[e.backToFrontend?t(_a.Z,{attrs:{dense:"",href:e.backToFrontend}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"BrowserIcon"}})],1),t(Ca.km,{staticClass:"ml-4"},[t(Ca.V9,[e._v("Exit to Frontend")])],1)],1):e._e(),t(_a.Z,{attrs:{dense:"",href:e.backToAdmin}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon"}})],1),t(Ca.km,{staticClass:"ml-4"},[t(Ca.V9,[e._v("Exit to WordPress")])],1)],1)],1)],1)],1):e._e()},Ci=[];let wi=class extends s.ZP{get backToAdmin(){return vt.PK.documentSpecificNeededUrls?vt.PK.documentSpecificNeededUrls.backToWordPressUrl:""}get backToFrontend(){return(0,M.j)()}};wi=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,Dropdown:Ia.Z,IconButton:ka.Z,TopBarSection:Wa}})],wi);const xi=wi,ki=xi;var Ii=(0,q.Z)(ki,_i,Ci,!1,null,null,null);const Ei=Ii.exports;var Di=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{attrs:{borderRight:!0}},[t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{active:e.isAddSectionOpen,size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},Zi=[];let Ti=class extends s.ZP{mounted(){c.kD.hasFullAccess&&$e.uq.register(ma.r.CMD_A,this.toggleAdd)}toggleAdd(){(0,z._y)("add")}get isAddSectionOpen(){return(0,z.O_)("add")}beforeDestroy(){$e.uq.unbind(ma.r.CMD_A)}};Ti=(0,r.gn)([(0,l.wA)({components:{StandardButton:Rs,TopBarSection:Wa}})],Ti);const Ai=Ti,Bi=Ai;var Oi=(0,q.Z)(Bi,Di,Zi,!1,null,null,null);const Ri=Oi.exports;var Mi=n(78549),Fi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Mi.Z,{staticClass:"pa-0 breakdance-topbar d-flex flex-row",attrs:{short:"",color:"var(--white)",height:"auto",width:"100%",flat:""}},[e._t("default")],2)},Ni=[];let $i=class extends s.ZP{};$i=(0,r.gn)([l.wA],$i);const Li=$i,Wi=Li;var Vi=(0,q.Z)(Wi,Fi,Ni,!1,null,null,null);const Hi=Vi.exports;var Ui=n(12570),zi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("NiceButton",{attrs:{"right-icon":"StarsIcon",size:"18",color:"flat"},on:{click:e.toggleDialog}},[e._v("Try Breakdance Pro")]),t(Ui.Z,{attrs:{"max-width":"1120"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t("div",{staticClass:"upgrade-to-pro-modal-content"},[t("iframe",{attrs:{src:"https://breakdance.com/upgrade-iframe/"}})])])],1)},Gi=[],Ki=n(77986);let ji=class extends s.ZP{constructor(){super(...arguments),this.dialogOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen}};ji=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,NiceButton:Ki.Z}})],ji);const Xi=ji,qi=Xi;var Yi=(0,q.Z)(qi,zi,Gi,!1,null,null,null);const Qi=Yi.exports;let Ji=class extends s.ZP{get shouldShowUpgradeToProButton(){return"free"===c.PK.subscriptionMode}toggleElementProperties(){(0,z._y)("elementproperties")}get isElementPropertiesOpen(){return(0,z.O_)("elementproperties")}toggleStructurePanel(){(0,z._y)("structure")}get isStructurePanelOpen(){return(0,z.O_)("structure")}get currentBreakpoint(){return c.kD.currentBreakpoint}set currentBreakpoint(e){c.kD.changeBreakpoint(e)}mounted(){$e.uq.register(ma.r.CMD_SHIFT_S,(()=>(0,Pi.b0)("SCALED_TO_FIT"!==c.kD.settings.scaleToFit)))}beforeDestroy(){$e.uq.unbind(ma.r.CMD_SHIFT_S)}};Ji=(0,r.gn)([(0,l.wA)({components:{TopBar:Hi,Exit:Ei,AddButton:Ri,TopBarSection:Wa,SettingsDropdown:Si,BreakpointsSelection:Aa,Save:Sa,UndoRedo:Ga,PreviewContentChooserDialog:ai,DocumentChooser:hi,IconButton:ka.Z,UpgradeToPro:Qi}})],Ji);const eo=Ji,to=eo;var no=(0,q.Z)(to,la,ca,!1,null,null,null);const so=no.exports;var ao=n(56275),io=n(53333),oo=n(77671),ro=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Ui.Z,{attrs:{"content-class":"preferences-modal-dialog",value:e.open,"max-width":"780",persistent:""},on:{input:function(t){return e.$emit("update:dialog",!1)},"click:outside":e.handleClickOutside}},[t(Ka.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[!0===e.saveInProgress?[t("div",{staticClass:"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto"},[t(ao.Z,{attrs:{size:100,indeterminate:"",color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"flex-grow-1 d-flex flex-row",staticStyle:{overflow:"auto"}},[t("div",{staticClass:"preferences-tab-area"},[t("h2",{staticClass:"preferences-modal-title-text"},[e._v(" Preferences ")]),t(oo.Z,{staticClass:"breakdance-tabs",attrs:{vertical:""},on:{change:e.handleChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(io.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"SlidersIcon",size:"16"}}),e._v(" UI Settings ")],1),t(io.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"FontIcon",size:"16"}}),e._v(" Custom Fonts ")],1),t(io.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{size:"16",icon:"BreakpointsIcon"}}),e._v(" Breakpoints ")],1)],1)],1),t("button",{staticClass:"preferences-close-button",on:{click:e.handleClickOutside}},[t("Icon",{attrs:{size:"20",icon:"CloseIcon"}})],1),t("div",{staticClass:"flex-grow-1 preferences-content-area"},[e.currentTab===e.fontFamiliesTab?t("CustomFontFamilies",{ref:"customFontFamiliesPanel",attrs:{value:e.customFontFamilies},on:{input:e.updateCustomFontFamilies}}):e._e(),e.currentTab===e.customBreakpointsTab?t("CustomBreakpointsPanel",{ref:"customBreakpointsPanel",attrs:{value:e.customBreakpoints},on:{input:e.updateBreakpoints}}):e._e(),e.currentTab===e.uiSettingsTab?t("CustomUiSettings"):e._e()],1)])]],2)],1)],1)},lo=[],co=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Breakpoints",function:e.applyChanges,inProgress:!1,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Breakpoints")]},proxy:!0},{key:"content",fn:function(){return[t("EditBreakpoints",{attrs:{value:e.internalValue},on:{input:e.breakpointsEdited}})]},proxy:!0}])})},uo=[],po=n(18446),ho=n.n(po),mo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._l(e.value,(function(n){return t("EditBreakpoint",{key:n.id,attrs:{value:n,isEditing:n.id===e.editingBreakpointId},on:{input:e.updateOrAddBreakpoint,delete:function(t){return e.deleteBreakpoint(n.id)},edit:e.edit}})})),!e.showAddForm&&e.value.length>0?t(Es.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")]):e._e(),t("div",[e.showAddForm?[t("div",{staticClass:"add-breakpoint-form-content-wrapper"},[t("div",{staticClass:"add-breakpoint-heading-box"},[t("h4",{staticClass:"add-breakpoint-heading"},[e._v("Add New Breakpoint")]),t("IconButton",{staticClass:"add-breakpoint-close-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddBreakpointForm}})],1),t("TextInput",{attrs:{placeholder:"Breakpoint name, ie. iPhone X or tablet",size:"md","validation-function-name":"validateNoQuotes"},model:{value:e.newBreakpointLabel,callback:function(t){e.newBreakpointLabel=t},expression:"newBreakpointLabel"}}),t(Es.Z,{attrs:{disabled:!e.newBreakpointLabel,text:""},on:{click:e.addBreakpoint}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)]:e._e(),e.showAddForm||0!=e.value.length?e._e():t("EmptyStatePreferences",[t("p",[e._v("Add your first breakpoint by clicking the button below.")]),t(Es.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")])],1)],2)],2)},go=[],vo=n(52687),fo=n(82202),yo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{ref:"form",staticClass:"mx-n2 pa-2 py-3 breakpoint-edit"},[t("h3",{staticClass:"font-weight-medium breakpoint-title text-capitalize mb-2"},[e._v(" "+e._s(e.value.label)+" ")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[t("div",{staticClass:"media-query-box"},[e.isEditing?t("div",{staticClass:"media-query-box-items"},[t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Maximum width (px)")]),t("NumberInput",{model:{value:e.internalValue.maxWidth,callback:function(t){e.$set(e.internalValue,"maxWidth",t)},expression:"internalValue.maxWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Minimum width (px)")]),t("NumberInput",{model:{value:e.internalValue.minWidth,callback:function(t){e.$set(e.internalValue,"minWidth",t)},expression:"internalValue.minWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"media-query-box-label"},[e._v("Default Preview Width")]),t("DropdownInput",{staticClass:"breakdance-dense-select breakdance-dense-select--md",attrs:{label:"Default Preview Width",value:"100%"===e.internalValue.defaultPreviewWidth?"100%":"custom",items:["100%","custom"],dense:"",solo:"",flat:"",filled:"",clearable:""},on:{input:e.setDefaultPreviewWidth}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},["100%"!==e.internalValue.defaultPreviewWidth?[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Custom width (px)")]),t("NumberInput",{model:{value:e.internalValue.defaultPreviewWidth,callback:function(t){e.$set(e.internalValue,"defaultPreviewWidth",t)},expression:"internalValue.defaultPreviewWidth"}})],1)]:e._e()],2),t("div",{staticClass:"d-flex justify-end align-center"},[t(Es.Z,{staticClass:"mr-3",attrs:{text:"",color:"red darken-1"},on:{click:e.cancel}},[e._v("Cancel")]),t("NiceButton",{attrs:{disabled:!e.internalValue.maxWidth&&!e.internalValue.minWidth},on:{click:e.save}},[e._v("Save")])],1)]):t("div",{on:{click:e.enableEditing}},[this.mediaQueryString?[t("div",{staticClass:"media-query-string"},[e._v(e._s(this.mediaQueryString))])]:[t(fo.Z,{staticClass:"mt-4",attrs:{dense:"",text:"",color:"orange"}},[e._v(" Click to set min and max widths. ")])]],2)]),e.isEditing?e._e():t("div",{staticClass:"breakpoint-edit__actions"},[t("IconButton",{staticClass:"mr-1",attrs:{icon:"EditIcon",size:"18"},on:{click:e.enableEditing}}),t("IconButton",{attrs:{icon:"TrashIcon",size:"18"},on:{click:function(t){t.stopPropagation(),e.deleteDialog=!0}}})],1)])]),t("ConfirmDialog",{attrs:{show:e.deleteDialog,type:"error","action-text":"Delete","discard-text":"Cancel","save-is-enabled":!0,"discard-is-enabled":!0},on:{discard:function(t){e.deleteDialog=!1},save:e.deleteBreakpoint},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete breakpoint?")]},proxy:!0},{key:"text",fn:function(){return[e._v("{If you delete the "+e._s(e.value.label||`${e.value.defaultPreviewWidth}px`)+" breakpoint, you will lose all design changes it applies.")]},proxy:!0}])})],1)},bo=[],So=n(80242),Po=n(40633),_o=n(75223),Co=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Ui.Z,{attrs:{value:e.show,persistent:"",width:400},on:{"click:outside":function(t){return e.$emit("click:outside")}}},[t(Ka.Z,{staticClass:"breakdance-dialog"},[e.type?t("div",{staticClass:"card-alert"},[t(fo.Z,{staticClass:"card-alert__icon",attrs:{type:e.type}})],1):e._e(),t(_o.EB,{staticClass:"breakdance-dialog-title"},[e._t("title")],2),t(_o.ZB,{staticClass:"breakdance-dialog-contents"},[e._t("text")],2),t(_o.h7,{staticClass:"breakdance-dialog-actions"},[e.hasCancel?t(Es.Z,{on:{click:()=>this.$emit("cancel")}},[e._v(e._s(e.cancelText)+" ")]):e._e(),e.hasDiscard?t(Es.Z,{attrs:{disabled:!e.discardIsEnabled,loading:e.discardIsInProgress},on:{click:()=>this.$emit("discard")}},[e._v(e._s(e.discardText)+" ")]):e._e(),t(Es.Z,{attrs:{color:e.type,dark:"",disabled:!e.saveIsEnabled,loading:e.saveIsInProgress},on:{click:()=>this.$emit("save")}},[e._v(e._s(e.actionText)+" ")])],1)],1)],1)},wo=[];let xo=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],xo.prototype,"show",void 0),(0,r.gn)([(0,l.fI)({default:"info"})],xo.prototype,"type",void 0),(0,r.gn)([(0,l.fI)({default:!1})],xo.prototype,"hasCancel",void 0),(0,r.gn)([(0,l.fI)({default:"Cancel"})],xo.prototype,"cancelText",void 0),(0,r.gn)([(0,l.fI)()],xo.prototype,"saveIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],xo.prototype,"saveIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:!0})],xo.prototype,"hasDiscard",void 0),(0,r.gn)([(0,l.fI)()],xo.prototype,"discardIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],xo.prototype,"discardIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:"Save"})],xo.prototype,"actionText",void 0),(0,r.gn)([(0,l.fI)({default:"Discard"})],xo.prototype,"discardText",void 0),xo=(0,r.gn)([(0,l.wA)({components:{}})],xo);const ko=xo,Io=ko;var Eo=(0,q.Z)(Io,Co,wo,!1,null,null,null);const Do=Eo.exports;let Zo=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.internalValue=(0,Me.Z)(this.value)}setDefaultPreviewWidth(e){const t=this.internalValue.maxWidth??this.internalValue.minWidth??250;this.internalValue.defaultPreviewWidth="100%"===e?"100%":t}enableEditing(){this.$emit("edit",this.value.id)}get breakpoints(){return c.PK.breakpoints}get previewWidthUnit(){return"px"}deleteBreakpoint(){this.$emit("delete"),this.deleteDialog=!1}get mediaQueryString(){const e=this.internalValue.minWidth||void 0,t=this.internalValue.maxWidth||void 0;return(0,Ft.Mc)(e,t)}cancel(){this.internalValue=(0,Me.Z)(this.value),this.$emit("edit","")}save(){const e=(0,Me.Z)(this.internalValue);(0,W.pipe)((0,Ft.cb)(e),(0,V.fold)((e=>{e.forEach((e=>fe.Z.log.message(e.msg)))}),(e=>{this.$emit("input",e),this.$emit("edit","")})))}};(0,r.gn)([(0,l.fI)()],Zo.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Zo.prototype,"isEditing",void 0),Zo=(0,r.gn)([(0,l.wA)({components:{IconButton:ka.Z,TextInput:vo.Z,NumberInput:So.Z,DropdownInput:Po.Z,NiceButton:Ki.Z,ConfirmDialog:Do},directives:{focus:{inserted:function(e){e.focus()}}}})],Zo);const To=Zo,Ao=To;var Bo=(0,q.Z)(Ao,yo,bo,!1,null,null,null);const Oo=Bo.exports;var Ro=function(){var e=this,t=e._self._c;return t("div",{staticClass:"preferences-empty-state"},[e._t("default")],2)},Mo=[],Fo={},No=(0,q.Z)(Fo,Ro,Mo,!1,null,null,null);const $o=No.exports;let Lo=class extends s.ZP{constructor(){super(...arguments),this.editingBreakpointId="",this.showAddForm=!1,this.newBreakpointLabel=""}edit(e){this.editingBreakpointId=e,this.showAddForm=!1}openAddBreakpointForm(){this.showAddForm=!0,this.editingBreakpointId=""}toggleAddBreakpointForm(){this.showAddForm=!this.showAddForm}addBreakpoint(){if(!this.newBreakpointLabel)return;const e=this.newBreakpointLabel.toLowerCase().replace(/[- ]/g,"_"),t=`custom_breakpoint_${e}`;this.updateOrAddBreakpoint({id:t,label:this.newBreakpointLabel,minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:"100%"})}deleteBreakpoint(e){const t=(0,Me.Z)(this.value),n=t.findIndex((t=>t.id===e));t.splice(n,1),this.$emit("input",t)}updateOrAddBreakpoint(e){const t=(0,Ft.lx)(this.value,e);this.$emit("input",t),!0===this.showAddForm&&(this.showAddForm=!1),this.newBreakpointLabel=""}};(0,r.gn)([(0,l.fI)()],Lo.prototype,"value",void 0),Lo=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,EditBreakpoint:Oo,EmptyStatePreferences:$o,TextInput:vo.Z,IconButton:ka.Z}})],Lo);const Wo=Lo,Vo=Wo;var Ho=(0,q.Z)(Vo,mo,go,!1,null,null,null);const Uo=Ho.exports;var zo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"preferences-panel-topbar"},[t("div",{staticClass:"preferences-panel-heading"},[e._t("title")],2),e._t("aftertitle"),t(ra.Z)],2),t("div",{staticClass:"preferences-panel-content-area"},[e._t("content")],2),t("div",{staticClass:"preferences-bottom-panel"},[e.hideSaveButton?e._e():t(Es.Z,{attrs:{loading:e.save.inProgress,disabled:e.save.disabled,color:"blue",dark:""},on:{click:e.save.function}},[e._v(e._s(e.save.text)+" ")])],1)])},Go=[];let Ko=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Ko.prototype,"save",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Ko.prototype,"hideSaveButton",void 0),Ko=(0,r.gn)([(0,l.wA)({})],Ko);const jo=Ko,Xo=jo;var qo=(0,q.Z)(Xo,zo,Go,!1,null,null,null);const Yo=qo.exports;let Qo=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,Me.Z)(this.value)}get unsavedChangesPresent(){return!ho()((0,Me.Z)(this.internalValue),(0,Me.Z)(this.value))}applyChanges(){this.$emit("input",this.internalValue)}breakpointsEdited(e){this.internalValue=e}};(0,r.gn)([(0,l.fI)()],Qo.prototype,"value",void 0),Qo=(0,r.gn)([(0,l.wA)({components:{EditBreakpoints:Uo,PreferencesPanel:Yo}})],Qo);const Jo=Qo,er=Jo;var tr=(0,q.Z)(er,co,uo,!1,null,null,null);const nr=tr.exports;var sr=n(56904),ar=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Fonts",function:e.applyChanges,inProgress:e.saveInProgress,disabled:!e.unsavedChangesPresent||e.isFreeMode}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Custom Fonts")]},proxy:!0},{key:"content",fn:function(){return[t("ProOnlyAlertBox",{staticClass:"mb-5",attrs:{options:{content:"Managing custom fonts is only available in Breakdance Pro",feature:"custom-fonts"}}}),e._l(e.internalValue,(function(n,s){return t("FontFamily",{key:n.family,attrs:{value:n,isOpen:s===e.openedFontIndex},on:{open:function(t){return e.openFont(t?s:-1)},delete:function(t){return e.deleteFontFamily(s)},input:function(t){return e.updateFontFamily(t,s)}}})})),e.internalValue.length?[t("div",{staticClass:"mt-12"})]:e._e(),t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Add Font")]),e.showAddForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v(" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. ")]),t(Es.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")])],1),e.showAddForm?t("div",[t(sr.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveNewFontFamily.apply(null,arguments)}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("Add New Font")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddForm}})],1),t("TextInput",{attrs:{placeholder:"Custom font name, ie. Helvetica",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md","validation-function-name":"validateAlphanumericHyphenUnderscore"},model:{value:e.fontFamily,callback:function(t){e.fontFamily=t},expression:"fontFamily"}}),t(Es.Z,{attrs:{disabled:!e.fontFamily||!0!==e.validFontFamily,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showAddForm?t(Es.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")]):e._e(),t("h4",{staticClass:"my-4 font-weight-medium mt-12"},[e._v(" Use Fonts In External CSS ")]),e.showCssForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v(" Use hosted fonts from providers like Adobe Fonts. ")]),t(Es.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add External CSS ")])],1),e.showCssForm?t("div",[t(sr.Z,{ref:"cssForm",on:{submit:function(t){return t.preventDefault(),e.saveCssUrl.apply(null,arguments)}},model:{value:e.validCssForm,callback:function(t){e.validCssForm=t},expression:"validCssForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper mb-4"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("CSS URL")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleCssForm}})],1),t("TextInput",{attrs:{rules:[e=>!!e||"Please enter a value",t=>e.isValidUrl(t)||"Please enter a valid URL"],placeholder:"URL to CSS file containing Font Face definitions",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md"},model:{value:e.cssUrl,callback:function(t){e.cssUrl=t},expression:"cssUrl"}}),t(Es.Z,{attrs:{disabled:e.saveInProgress,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showCssForm?t(Es.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add CSS URL ")]):e._e()]},proxy:!0}])})},ir=[],or=n(88667);async function rr(e){return await(0,D.D)({action:"breakdance_save_font_file",dataToPost:{file:e},decoder:or.zM})}async function lr(e){return await(0,D.D)({action:"breakdance_get_font_families_from_css_file",dataToPost:{cssUrl:e},decoder:or.lU})}async function cr(e){return await(0,D.D)({action:"breakdance_save_font_families",dataToPost:{customFontFamilies:(0,F.J)(e)},decoder:or.lU})}const dr=e=>{const t=(0,Me.Z)(vt.PK.fonts),n=t.findIndex((t=>t.slug===e.slug));-1===n?t.unshift(e):t[n]=e,vt.PK.setFonts(t)},ur=e=>{const t=(0,Me.Z)(vt.PK.fonts),n=t.findIndex((t=>t.slug===e));n>-1&&t.splice(n,1),vt.PK.setFonts(t)};var pr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family"},[t("div",{staticClass:"custom-font-family-titlebar",on:{click:e.toggleFaces}},[t("div",{staticClass:"custom-font-family-title"},[e._v(" "+e._s(e.value.family)+" ")]),t(Es.Z,{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.deleteFontFamily.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),e.isOpen?t("div",{staticClass:"custom-font-family-edit"},[e.value.hasExternalCssUrl?e._e():t("div",[t("FontFaces",{attrs:{value:e.value.faces},on:{input:e.editFontFamily}}),t("TextField",{attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}}),e.fallbackStringHasBeenEdited?[t(fo.Z,{staticClass:"mt-4",attrs:{dense:"",border:"left",text:"",type:"warning"}},[e._v(" Changes to the CSS fallback string will take effect after "),t("strong",[e._v("saving and refreshing")]),e._v(". ")])]:e._e()],2),e.value.hasExternalCssUrl?t("div",[t("span",{staticStyle:{"font-size":"var(--text-sm)","font-weight":"500"}},[e._v("Sourced from "+e._s(e.value.cssUrl))]),t("TextField",{staticClass:"mt-4",attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}})],1):e._e()]):e._e()])},hr=[],mr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-faces"},[e._l(e.value,(function(n,s){return t("UpdateFontFace",{key:n.id,attrs:{value:n,existingFontFaces:e.existingFontFaces(s)},on:{input:function(t){return e.updateFontFace(t,s)},delete:function(t){return e.deleteFontFace(s)}}})})),t("FontFileUpload",{on:{save:e.newFontFileSuccessfullyUploaded}})],2)},gr=[],vr=n(9207),fr=n(42564),yr=n(25135),br=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-face"},[t(sr.Z,{ref:"form",model:{value:e.isFontFaceUnique,callback:function(t){e.isFontFaceUnique=t},expression:"isFontFaceUnique"}},[t("div",{staticClass:"custom-font-family-font-face-titlebar"},[t("div",{staticClass:"custom-font-family-font-face-titlebar-title"},e._l(e.value.files,(function(n){return t("div",{key:n.fileUrl,staticClass:"mr-3"},[e._v(" "+e._s(n.fileName)+" ")])})),0),t(Es.Z,{attrs:{icon:""},on:{click:e.deleteFontFace}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),t("div",{staticClass:"custom-font-family-font-face-controls"},[t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(yr.Z,{staticClass:"mr-4",attrs:{dense:"",outlined:"",value:e.value.weight,items:e.weights,rules:[e.validateWeight],label:"Font Weight"},on:{input:e.updateWeight}})],1),t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(fr.Z,{staticClass:"pt-0 mt-0 mr-4",attrs:{value:e.value.style,rules:[e.validateStyle],row:"",dense:""},on:{change:e.updateStyle}},[t(vr.Z,{attrs:{label:"Normal",value:"normal"}}),t(vr.Z,{attrs:{label:"Italic",value:"italic"}})],1)],1)])])],1)},Sr=[];const Pr=[{text:"100 (Thin)",value:100},{text:"200 (Extra Light)",value:200},{text:"300 (Light)",value:300},{text:"400 (Normal)",value:400},{text:"500 (Medium)",value:500},{text:"600 (Semi Bold)",value:600},{text:"700 (Bold)",value:700},{text:"800 (Extra Bold)",value:800},{text:"900 (Black)",value:900}];let _r=class extends s.ZP{constructor(){super(...arguments),this.isFontFaceUnique=!0}validateWeight(e){return e?!this.existingFontFaces.find((t=>t.weight===e&&t.style===this.value.style))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font weight already exists with this style, and format":"A weight is required"}validateStyle(e){return!this.existingFontFaces.find((t=>t.weight===this.value.weight&&t.style===e))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font style already exists with this weight, and format"}get valueFormats(){return this.value.files.map((e=>e.format))}revalidateOnValueChange(){this.form.validate()}updateWeight(e){const t={...this.value,weight:e};this.$emit("input",t)}updateStyle(e){const t={...this.value,style:e};this.$emit("input",t)}deleteFontFace(){this.$emit("delete")}get weights(){return Pr}get currentWeight(){return Pr.find((e=>e.value===this.value.weight))}};(0,r.gn)([(0,l.Rl)()],_r.prototype,"form",void 0),(0,r.gn)([(0,l.fI)()],_r.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:[]})],_r.prototype,"existingFontFaces",void 0),(0,r.gn)([(0,l.RL)("value")],_r.prototype,"revalidateOnValueChange",null),_r=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],_r);const Cr=_r,wr=Cr;var xr=(0,q.Z)(wr,br,Sr,!1,null,null,null);const kr=xr.exports;var Ir=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-font-file-uploader"},[t("FileUpload",{attrs:{height:"150px",accept:".woff,.woff2",saveInProgress:e.saveInProgress},on:{input:e.handleFiles}},[e._v(" drag .woff or .woff2 files or "),t("span",{staticClass:"breakdance-font-file-uploader-choose-link"},[e._v("browse...")])])],1)},Er=[],Dr=(n(48675),n(63408),n(14590),n(88991));let Zr=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}handleFiles(e){Array.from(e).forEach((e=>{const t=new FileReader;t.onloadend=async t=>{if(!t?.target)return;const n=new Uint8Array(t.target.result).subarray(0,4);let s="";n.forEach((e=>s+=e.toString(16)));const a=e.name.split(".").pop(),i="774f4646"===s&&"woff"===a,o="774f4632"===s&&"woff2"===a;i||o?(this.saveInProgress=!0,(0,W.pipe)(await rr(e),(0,V.fold)((e=>{(0,pa.UE)(e)}),(e=>{this.$emit("save",{fileUrl:e.fileUrl,format:i?"woff":"woff2",fileName:e.fileName})}))),this.saveInProgress=!1):fe.Z.log.message('Only  ".woff" and ".woff2" files are supported')},t.readAsArrayBuffer(e)}))}};Zr=(0,r.gn)([(0,l.wA)({components:{FileUpload:Dr.Z}})],Zr);const Tr=Zr,Ar=Tr;var Br=(0,q.Z)(Ar,Ir,Er,!1,null,null,null);const Or=Br.exports;let Rr=class extends s.ZP{newFontFileSuccessfullyUploaded(e){const t=Fr(e),n=[...this.value,t];this.$emit("input",n)}updateFontFace(e,t){const n=[...this.value],s=e.files.map((e=>e.format)),a=n.findIndex((t=>t.weight===e.weight&&t.style===e.style&&!t.files.find((e=>s.includes(e.format)))));-1===a?n[t]=e:(n[a].files=[...n[a].files,...e.files],n.splice(t,1)),this.$emit("input",n)}deleteFontFace(e){const t=[...this.value];t.splice(e,1),this.$emit("input",t)}existingFontFaces(e){return this.value.filter(((t,n)=>n!==e))}};(0,r.gn)([(0,l.fI)()],Rr.prototype,"value",void 0),Rr=(0,r.gn)([(0,l.wA)({components:{FontFileUpload:Or,UpdateFontFace:kr}})],Rr);const Mr=Rr;function Fr(e){return{id:(0,Fe.Z)(),files:[e],style:"normal",weight:0}}const Nr=Mr;var $r=(0,q.Z)(Nr,mr,gr,!1,null,null,null);const Lr=$r.exports;let Wr=class extends s.ZP{constructor(){super(...arguments),this.fallbackStringHasBeenEdited=!1}toggleFaces(){this.$emit("open",!this.isOpen)}deleteFontFamily(){this.$emit("delete")}editFallbackString(e){this.fallbackStringHasBeenEdited=!0,this.$emit("input",{...this.value,fallbackString:e})}editFontFamily(e){this.$emit("input",{...this.value,faces:e})}editCssUrl(e){this.$emit("input",{...this.value,cssUrl:e})}};(0,r.gn)([(0,l.fI)()],Wr.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Wr.prototype,"isOpen",void 0),Wr=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,FontFaces:Lr,TextField:vo.Z}})],Wr);const Vr=Wr,Hr=Vr;var Ur=(0,q.Z)(Hr,pr,hr,!1,null,null,null);const zr=Ur.exports;var Gr=n(13997),Kr=n(2028),jr=n(2755);let Xr=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,Me.Z)(this.value),this.fontFamily="",this.cssUrl="",this.validForm=!0,this.validCssForm=!0,this.saveInProgress=!1,this.openedFontIndex=-1,this.showAddForm=!1,this.showCssForm=!1}get unsavedChangesPresent(){return!ho()((0,Me.Z)(this.internalValue),(0,Me.Z)(this.value))}get validFontFamily(){return(0,Gr.q3)(this.fontFamily)}toggleAddForm(){this.showAddForm=!this.showAddForm}toggleCssForm(){this.showCssForm=!this.showCssForm}async applyChanges(){this.saveInProgress=!0,(0,W.pipe)(await cr(this.internalValue),(0,V.fold)((e=>{(0,pa.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId));this.internalValue[t].cssUrl=e.cssUrl,this.internalValue[t].cssName=e.fontRegistrationData.cssName,dr(e.fontRegistrationData)})),this.$emit("input",this.internalValue)}))),this.saveInProgress=!1}openFont(e){this.isFreeMode||(this.openedFontIndex=e)}updateFontFamily(e,t){const n=(0,Me.Z)(this.internalValue);n[t]=e,this.internalValue=n}deleteFontFamily(e){if(this.isFreeMode)return;const t=(0,Me.Z)(this.internalValue);t.splice(e,1),ur(this.internalValue[e].id),this.internalValue=t}saveNewFontFamily(){this.form.validate()&&this.fontFamily&&(this.internalValue.push({id:"custom_font_"+this.fontFamily.toLowerCase().replace(/ /g,"_"),family:this.fontFamily,fallbackString:"",cssUrl:"",hasExternalCssUrl:!1,cssName:this.fontFamily,faces:[]}),this.openedFontIndex=this.internalValue.length-1,this.fontFamily="",this.form.reset(),this.showAddForm=!1)}async saveCssUrl(){this.cssForm.validate()&&this.cssUrl&&(this.saveInProgress=!0,(0,W.pipe)(await lr(this.cssUrl),(0,V.fold)((e=>{(0,pa.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId))>-1;t||this.internalValue.unshift({id:e.fontId,family:e.fontRegistrationData.label,fallbackString:e.fontRegistrationData.fallbackString,cssUrl:e.cssUrl,hasExternalCssUrl:!0,cssName:e.fontRegistrationData.cssName,faces:[]})}))}))),this.saveInProgress=!1,this.cssUrl="",this.showCssForm=!1)}isValidUrl(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}get isFreeMode(){return"free"===vt.PK.subscriptionMode}};(0,r.gn)([(0,l.Rl)()],Xr.prototype,"form",void 0),(0,r.gn)([(0,l.Rl)()],Xr.prototype,"cssForm",void 0),(0,r.gn)([(0,l.fI)()],Xr.prototype,"value",void 0),Xr=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:jr.Z,AlertBox:Kr.Z,FontFamily:zr,PreferencesPanel:Yo,EmptyStatePreferences:$o,Icon:G.Z,TextInput:vo.Z,IconButton:ka.Z}})],Xr);const qr=Xr,Yr=qr;var Qr=(0,q.Z)(Yr,ar,ir,!1,null,null,null);const Jr=Qr.exports;var el=n(76660),tl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{"hide-save-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UI Settings")]},proxy:!0},{key:"content",fn:function(){return[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Settings")]),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.autoScrollEnabled,inset:"",label:"Auto-scroll to active element"},on:{change:e.setAutoScrollEnabled}})],1),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.isScaledToFit,label:"Scale content to fit the screen (zoom)",inset:""},on:{change:e.setScaleToFit}})],1),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.isDarkMode,label:"Dark Mode",inset:""},on:{change:e.toggleTheme}})],1),e.displayShowExperimentalElementsSetting?t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.showExperimentalElements,label:"Show Experimental Elements",inset:""},on:{change:e.setShowExperimentalElements}})],1):e._e(),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.disableNoticeForEmptySSRElements,label:"Disable Message For Empty SSR Elements",inset:""},on:{change:e.setDisableNoticeForEmptySSRElements}})],1),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.isShowingIdsInStructurePanel,label:"Show elements ID in the Structure Panel",inset:""},on:{change:e.setIsShowingIdsInStructurePanel}})],1),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.disableCodeMirrorLineWrapping,label:"Disable Code Editor Line Wrapping",inset:""},on:{change:e.setDisableCodeMirrorLineWrapping}})],1),t("div",{staticClass:"ui-setting"},[t(el.Z,{attrs:{"input-value":e.isTinyMcePreferredForRichText,label:"Prefer TinyMCE For Rich Text",inset:""},on:{change:e.setIsTinyMcePreferredForRichText}})],1),t("div",{staticClass:"mt-4"},[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Panel Positions")]),e._l(e.panelsState,(function(n,s){return[t("div",{key:s,staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v(e._s(n.label))]),t("ButtonBarInput",{attrs:{value:n.value,items:e.panelPositionsAsItems,options:{mandatory:!0}},on:{input:function(t){return e.setPanelPosition(n.id,t)}}})],1)]})),t("div",{staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v("Popout Position")]),t("ButtonBarInput",{attrs:{value:e.popoutPosition,items:e.popoutPositionItems,options:{mandatory:!0}},on:{input:e.setPopoutPosition}})],1),t("div",{staticClass:"d-flex justify-end mt-4"},[t("NiceButton",{attrs:{disabled:e.arePanelPositionsDefault},on:{click:e.resetUiPanelPositionsToDefault}},[e._v("Reset to defaults")])],1)],2)]},proxy:!0}])})},nl=[],sl=n(78358),al=n(66383),il=n(6613),ol=n(31549),rl=n(82436);let ll=class extends s.ZP{constructor(){super(...arguments),this.panelsState=this.getPanelsInitialState()}getPanelsInitialState(){const e=[{id:"add",label:"Add"},{id:"elementproperties",label:"Element Properties"},{id:"selectors",label:"Selectors"},{id:"globalSettings",label:"Global Settings"},{id:"structure",label:"Structure"},{id:"history",label:"History & Revisions"}];return e.map((e=>({...e,value:(0,z.pL)(e.id)})))}setPanelPosition(e,t){const n=this.panelsState.findIndex((t=>t.id===e));this.panelsState[n].value=t,(0,z.hy)(e,t),(0,z.ug)(),(0,z.oM)(e)}resetUiPanelPositionsToDefault(){(0,z.qH)(),this.panelsState=this.getPanelsInitialState()}get arePanelPositionsDefault(){return ho()(z.c$,this.panelsState.reduce(((e,t)=>(e[t.id]=t.value,e)),{}))}get panelPositionsAsItems(){return["left","right"].map((e=>({text:e,value:e})))}get popoutPositionItems(){return[{text:"Stacked",value:"STACKED"},{text:"Stacked (First Visible)",value:"STACKED_FIRST_VISIBLE"},{text:"Side By Side",value:"SIDE_BY_SIDE"}]}get displayShowExperimentalElementsSetting(){return(0,rl.y)()}get isDarkMode(){return"dark"===vt.kD.settings.theme}get isScaledToFit(){return"SCALED_TO_FIT"===vt.kD.settings.scaleToFit}get isShowingIdsInStructurePanel(){return vt.kD.settings.showElementIdInStructurePanel}get isTinyMcePreferredForRichText(){return vt.kD.settings.isTinyMcePreferredForRichText}setScaleToFit(e){this.setUiSettings((0,Pi.b0)(e))}toggleTheme(){const e=(0,Me.Z)(vt.kD.settings);e.theme=this.isDarkMode?"light":"dark",this.setUiSettings(e)}setDisableNoticeForEmptySSRElements(e){const t=(0,Me.Z)(vt.kD.settings);t.disableNoticeForEmptySSRElements=e,this.setUiSettings(t)}get disableNoticeForEmptySSRElements(){return vt.kD.settings.disableNoticeForEmptySSRElements}get showExperimentalElements(){return vt.kD.settings.showExperimentalElements}setShowExperimentalElements(e){const t=(0,Me.Z)(vt.kD.settings);t.showExperimentalElements=e,this.setUiSettings(t)}setIsShowingIdsInStructurePanel(e){const t=(0,Me.Z)(vt.kD.settings);t.showElementIdInStructurePanel=e,this.setUiSettings(t)}get disableCodeMirrorLineWrapping(){return vt.kD.settings.disableCodeMirrorLineWrapping}setDisableCodeMirrorLineWrapping(e){const t=(0,Me.Z)(vt.kD.settings);t.disableCodeMirrorLineWrapping=e,this.setUiSettings(t)}setIsTinyMcePreferredForRichText(e){const t=(0,Me.Z)(vt.kD.settings);t.isTinyMcePreferredForRichText=e,this.setUiSettings(t)}get autoScrollEnabled(){return vt.kD.settings.autoScrollEnabled}get popoutPosition(){return vt.kD.settings.popoutPosition}setAutoScrollEnabled(e){const t=(0,Me.Z)(vt.kD.settings);t.autoScrollEnabled=e,this.setUiSettings(t)}setPopoutPosition(e){const t=(0,Me.Z)(vt.kD.settings);t.popoutPosition=e,this.setUiSettings(t)}setUiSettings(e){const t=(0,il.g)({...Pi.OC,...e});t&&(0,ol.r)(Pi.rZ,t),vt.kD.setSettings(e)}};ll=(0,r.gn)([(0,l.wA)({components:{NiceButton:Ki.Z,PreferencesPanel:Yo,ButtonBarInput:sl.Z,ToggleInput:al.Z}})],ll);const cl=ll,dl=cl;var ul=(0,q.Z)(dl,tl,nl,!1,null,null,null);const pl=ul.exports;let hl=class extends s.ZP{constructor(){super(...arguments),this.tab=0,this.currentTab=0,this.uiSettingsTab=0,this.fontFamiliesTab=1,this.customBreakpointsTab=2,this.saveInProgress=!1,this.hasUnsavedChanges=!1}get preferences(){return c.PK.preferences}get customBreakpoints(){return this.preferences.customBreakpoints}get customFontFamilies(){return c.PK.preferences.customFonts}updateBreakpoints(e){const t=(0,Me.Z)(this.preferences);t.customBreakpoints=e,this.save(t)}updateCustomFontFamilies(e){const t=(0,Me.Z)(this.preferences);t.customFonts=e,this.save(t)}handleClickOutside(){if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges)return this.$emit("update:dialog",!1);const e=confirm("Exit without saving?");return e?this.$emit("update:dialog",!1):this}async handleChangeTab(){if(this.checkForUnsavedChanges(),this.hasUnsavedChanges){const e=confirm("Exit without saving?");if(!e)return await this.$nextTick(),this.tab=this.currentTab,!0}return this.currentTab=this.tab,!1}async save(e){this.saveInProgress=!0,(0,W.pipe)(await pa.HR("preferences",e),(0,V.fold)((e=>{(0,pa.UE)(e)}),(()=>{c.PK.setPreferences(e)}))),this.saveInProgress=!1,this.checkForUnsavedChanges()}checkForUnsavedChanges(){return this.currentTab===this.fontFamiliesTab?(this.hasUnsavedChanges=this.customFontFamiliesPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.currentTab===this.customBreakpointsTab?(this.hasUnsavedChanges=this.customBreakpointsPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.hasUnsavedChanges=!1}};(0,r.gn)([(0,l.fI)()],hl.prototype,"open",void 0),(0,r.gn)([(0,l.Rl)()],hl.prototype,"customFontFamiliesPanel",void 0),(0,r.gn)([(0,l.Rl)()],hl.prototype,"customBreakpointsPanel",void 0),hl=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,CustomUiSettings:pl,CustomFontFamilies:Jr,CustomBreakpointsPanel:nr,Loading:Ks.Z}})],hl);const ml=hl,gl=ml;var vl=(0,q.Z)(gl,ro,lo,!1,null,null,null);const fl=vl.exports;var yl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Ui.Z,{attrs:{"content-class":"keyboard-shortcuts-help-modal",value:e.open,"max-width":"850"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[t(Ka.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[t(_o.ZB,[t("table",{staticClass:"styled-table"},[t("thead",[t("tr",[t("th",[e._v("Shortcut")]),t("th",[e._v("Description")])])]),t("tbody",[t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_A)))]),t("td",[e._v("Open add elements panel")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_B)))]),t("td",[e._v("Open design sets modal")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_S)))]),t("td",[e._v("Save")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_Z)))]),t("td",[e._v("Undo")])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_Z))+" ")]),t("td",[e._v("Redo")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_C)))]),t("td",[e._v("Copy the active element")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_V)))]),t("td",[e._v("Paste copied element")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_D)))]),t("td",[e._v("Duplicate the active element")])]),t("tr",[t("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.ESC)))]),t("td",[e._v("de-activate the active element "),t("b",[e._v("or")]),e._v(" close modal")])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.BACKSPACE))),t("br"),e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.DELETE))+" ")]),t("td",[e._v("Delete active element")])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_OPTION_R))+" ")]),t("td",[e._v("Cycle to the next breakpoint")])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_SLASH))),t("br"),e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_QUESTION))+" ")]),t("td",[e._v("Show keyboard shortcuts help modal")])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_S))+" ")]),t("td",[e._v('Switch between "scale to fit" and "actual size" content')])]),t("tr",[t("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_E))+" ")]),t("td",[e._v(" Open the rich text editor modal. Only when the Rich Text element is selected ")])])])])])],1)],1)],1)},bl=[];let Sl=class extends s.ZP{get keyboardShortcuts(){return ma.r}getKeyboardShortcutValue(e){const t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);let n=e?e[0]:"";return t||2!=e.length||(n=e[1]),n.toUpperCase().split("+").join(" + ")}};(0,r.gn)([(0,l.fI)()],Sl.prototype,"open",void 0),Sl=(0,r.gn)([(0,l.wA)({components:{}})],Sl);const Pl=Sl,_l=Pl;var Cl=(0,q.Z)(_l,yl,bl,!1,null,null,null);const wl=Cl.exports;var xl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio",style:e.styles},[t("ElementStudioWidthAdjustmentBar",{on:{change:e.adjustWidth}}),t("div",{staticClass:"element-studio-wrapper",attrs:{"data-test-id":"element-studio-wrapper"}},[e.activeItemType&&"element"!==e.activeItemType?e._e():t("ElementStudioElements",{attrs:{value:e.data,width:e.width},on:{input:e.updateData,width:e.updateWidth,active:e.updateActiveItemType}}),e.activeItemType&&"macro"!==e.activeItemType?e._e():t("ElementStudioMacros",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType&&"preset"!==e.activeItemType?e._e():t("ElementStudioPresets",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType?e._e():t("div",{staticClass:"d-flex flex-column align-center justify-center pa-6"},[t("h4",[e._v("Element Studio is for developers and is provided as-is.")]),e._m(0)])],1)],1)},kl=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("p",[t("small",[e._v(" No support is provided. Please read the "),t("a",{attrs:{href:"https://breakdance.com/documentation/developers/element-studio/",target:"_blank"}},[e._v("documentation")]),e._v(" before use. ")])])}],Il=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ElementStudioWidthAdjustmentBarAdjustmentHandle",{staticClass:"element-studio-width-adjustment-bar",attrs:{"on-dragging":e.dragging}})},El=[],Dl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._g(e._b({staticClass:"breakdance-element-studio-adjustment-handle",on:{mousedown:e.dragStart}},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Zl=[];let Tl=class extends s.ZP{constructor(){super(...arguments),this.lastMouseX=0}draggingFunc(e){e.preventDefault(),this.onDragging(e,this.lastMouseX),this.lastMouseX=e.clientX}dragStart(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousemove",this.draggingFunc),document.addEventListener("mouseup",this.dragEnd),this.lastMouseX=e.clientX,document.getElementById("iframe").style.pointerEvents="none"}dragEnd(e){e.preventDefault(),document.removeEventListener("mousemove",this.draggingFunc),document.removeEventListener("mouseup",this.dragEnd),document.getElementById("iframe").style.pointerEvents="auto"}};(0,r.gn)([(0,l.fI)()],Tl.prototype,"onDragging",void 0),Tl=(0,r.gn)([(0,l.wA)({})],Tl);const Al=Tl,Bl=Al;var Ol=(0,q.Z)(Bl,Dl,Zl,!1,null,null,null);const Rl=Ol.exports;let Ml=class extends s.ZP{dragging(e,t){this.$emit("change",-1*(e.clientX-t))}};Ml=(0,r.gn)([(0,l.wA)({components:{ElementStudioWidthAdjustmentBarAdjustmentHandle:Rl}})],Ml);const Fl=Ml,Nl=Fl;var $l=(0,q.Z)(Nl,Il,El,!1,null,null,null);const Ll=$l.exports;var Wl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingElement}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.elementsSlug,value:e.currentlyEditingElement,itemType:"element","item-name":e.currentlyEditingElement?e.currentlyEditingElement.element.name:"",hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openElement,switchMode:e.switchMode,delete:e.deleteElement,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingElement}}),e.currentlyEditingElement?t("div",{staticClass:"element-studio-content"},["split-vertical"===e.mode?[t("div",{staticClass:"panel-50 panel-50-top-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)]:"split-horizontal"===e.mode?[t("div",{staticClass:"d-flex flex-row",staticStyle:{height:"100%"}},[t("div",{staticClass:"panel-50-h panel-50-h-first-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50-h vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)])]:[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1)]],2):e._e()],1)},Vl=[],Hl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-top-bar d-flex"},[e.showNewItemDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.saveLocations,"item-type":e.itemType},on:{input:e.saveNewItem,close:function(t){e.showNewItemDialog=!1}}}):e._e(),t("div",{staticClass:"d-flex ml-4"},[e.value?e._e():[t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Es.Z,e._g(e._b({attrs:{text:"",disabled:0===e.itemsSlug.length,"data-test-id":"element-studio-open-element"}},"v-btn",s,!1),n),[t("Icon",{staticClass:"mr-2",attrs:{icon:"OpenFolderIcon",size:"18"}}),e._v(" Open "+e._s(e.itemType)+" ")],1)]}}],null,!1,4260211493)},[t(Pa.Z,{staticStyle:{"max-height":"500px",overflow:"auto"}},[t(ja.Z,{staticClass:"breakdance-element-studio-searchbar",staticStyle:{padding:"12px 16px","margin-bottom":"24px"},attrs:{label:`Search ${e.itemType}s`,flat:"",autofocus:""},model:{value:e.availableItemsSearch,callback:function(t){e.availableItemsSearch=t},expression:"availableItemsSearch"}}),e._l(e.availableItemsBySearch,(function(n,s){return t(_a.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.openItem(n)}}},[t(Ca.V9,[e._v(" "+e._s(n)+" ")])],1)}))],2)],1),t(Es.Z,{staticClass:"ml-2",attrs:{text:"","data-test-id":"element-studio-new-element-button"},on:{click:e.handleNewItem}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"AddFileIcon"}}),e._v(" New "+e._s(e.itemType)+" ")],1)],e.value?[t("div",{staticClass:"d-flex align-center flex-wrap"},[t("div",{staticClass:"mr-2 element-studio-element-name"},[e._v(" "+e._s(e.itemName)+" ")]),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("div",[e.value.directoryPath&&e.canSaveOrIsAdvancedUser?t("NiceButton",e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)},click:function(t){e.saveOverwrite(!1)}}},"NiceButton",s,!1),[e._v(" Save ")]):!e.value.directoryPath||e.value.onlyForAdvancedUsers?t("NiceButton",e._g(e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)}}},"NiceButton",s,!1),n),[e._v(" Save ")]):e._e()],1)]}}],null,!1,3543840629)},[t(Pa.Z,[e.value.directoryPath?[e.showAdvancedFeatures?t(_a.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(Ca.V9,[t("h3",[e._v("Save & Bypass Psalm...")])])],1):e.canSaveOrIsAdvancedUser?t(_a.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(Ca.V9,[t("h3",[e._v("Save")])])],1):e._e()]:e._e(),t(_a.Z,{attrs:{dense:""}},[t(Ca.V9,[e.availableSaveLocations.length?t("h3",[e._v("Save A Copy In:")]):t("div",[e._v(" Enable saving elements by "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements/",target:"_blank"}},[e._v("adding a save location.")])])])],1),e._l(e.availableSaveLocations,(function(n,s){return[t(_a.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.saveAs(n)}}},[t(Ca.V9,[e._v(" "+e._s(n.label)+" » ")])],1)]}))],2)],1),e.canDeleteElement?t(Ui.Z,{attrs:{"max-width":"360"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("NiceButton",e._g(e._b({staticClass:"mr-2",attrs:{elevation:"0","data-test-id":"element-studio-delete-button",title:"Delete element","left-icon":"TrashIcon"}},"NiceButton",s,!1),n),[e._v(" Delete ")])]}}],null,!1,2278590123),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(Ka.Z,[t(_o.EB,{staticClass:"subtitle-1"},[e._v(' Delete "'+e._s(e.itemName)+'" '+e._s(e.itemType)+"? ")]),t(_o.ZB,[e._v("This action cannot be undone.")]),t(_o.h7,[t(ra.Z),t(Es.Z,{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" Cancel ")]),t(Es.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1):e._e(),t(Es.Z,{attrs:{icon:"","data-test-id":"element-studio-close-element",title:`Close ${e.itemType}`},on:{click:e.closeItem}},[t("Icon",{attrs:{icon:"CloseSquareIcon"}})],1)],1)]:e._e()],2),t(ra.Z),e.value?t(Es.Z,{staticClass:"mr-1 element-studio-switch-mode",attrs:{icon:"",title:"Switch mode","data-test-id":"element-studio-topbar-switch-mode"},on:{click:e.switchMode}},[t("Icon",{attrs:{icon:"TableColumnIcon",size:"18"}})],1):e._e(),t(Es.Z,{staticClass:"mr-4 element-studio-close-panel",attrs:{icon:"",title:"Close Element Studio Panel"},on:{click:e.closePanel}},[t("Icon",{attrs:{icon:"CloseCircleIcon",size:"18"}})],1),t(Ui.Z,{attrs:{value:e.closeItemOrPanelDialog,persistent:"","max-width":"400"}},[t(Ka.Z,[t(_o.EB,{staticClass:"headline"},[e._v(" You have unsaved changes ")]),t(_o.ZB,[e._v(" Please save your changes before closing this "+e._s(e.itemType)+", or discard your changes. ")]),t(_o.h7,[t(ra.Z),t(Es.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.discardChanges}},[e._v(" Discard my changes ")]),t(Es.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.closeItemOrPanelDialog=!1}}},[e._v(" I'll save them ")])],1)],1)],1)],1)},Ul=[],zl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Ui.Z,{attrs:{value:!0,"max-width":"400",persistent:""}},[t(Ka.Z,[t(_o.EB,{staticClass:"headline"},[e._v(" Create new "+e._s(e.itemType)+" ")]),t(_o.ZB,{staticClass:"pb-1"},[t("div",[e._v("Please enter the "+e._s(e.itemType)+"'s name.")])]),t(_o.ZB,[t(ja.Z,{attrs:{rules:[e.nameIsValid],label:"Name"},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),e.saveLocations.length?t(fr.Z,{attrs:{mandatory:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select a saving location ")]},proxy:!0}]),model:{value:e.newItemSaveLocation,callback:function(t){e.newItemSaveLocation=t},expression:"newItemSaveLocation"}},[e._l(e.saveLocations,(function(n){return[e.showSaveLocation(n)?t(vr.Z,{key:n.directoryPath,attrs:{label:n.label,value:n}}):e._e()]}))],2):[t("b",[e._v("Error: no registered saving locations. Using the "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements"}},[e._v("Breakdance Custom Elements")]),e._v(" plugin will automatically register a saving location.")])]],2),t(_o.h7,[t(ra.Z),t(Es.Z,{attrs:{color:"green darken-1",text:""},on:{click:e.closeNewItemDialog}},[e._v(" Cancel ")]),t(Es.Z,{attrs:{color:"blue darken-1",text:"",disabled:!0!==e.nameIsValid(e.newItemName)||!e.newItemSaveLocation},on:{click:e.saveNewItem}},[e._v(" Create ")])],1)],1)],1)},Gl=[],Kl=n(91362);let jl=class extends s.ZP{constructor(){super(...arguments),this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1}nameIsValid(e){return(0,Kl.nQ)(e)}get showAdvancedFeatures(){return(0,rl.y)()||vt.PK.isElementStudioPowerUser}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}saveNewItem(){this.$emit("input",{...this.newItemSaveLocation,name:this.newItemName}),this.closeNewItemDialog()}closeNewItemDialog(){this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1,this.$emit("close")}};(0,r.gn)([(0,l.fI)()],jl.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],jl.prototype,"itemType",void 0),jl=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],jl);const Xl=jl,ql=Xl;var Yl=(0,q.Z)(ql,zl,Gl,!1,null,null,null);const Ql=Yl.exports;let Jl=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.availableItemsSearch="",this.closeItemOrPanelDialog=!1,this.showNewItemDialog=!1}mounted(){document.addEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked),this.warnIfUnsavedFunction=(0,ga.$)((()=>this.hasUnsavedChanges))}destroyed(){document.removeEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked)}beforeDestroy(){(0,ga.e)(this.warnIfUnsavedFunction)}handleNewItem(){this.showNewItemDialog=!0}get availableSaveLocations(){return this.saveLocations.filter((e=>this.showSaveLocation(e)))}get availableItemsBySearch(){return this.itemsSlug.filter((e=>e.toLowerCase().includes(this.availableItemsSearch.toLowerCase().replace(/ /g,""))))}get canDeleteElement(){return!!this.value&&this.availableSaveLocations.find((e=>this.value&&this.value.directoryPath&&this.value.directoryPath.startsWith(e.directoryPath)))}discardChanges(){"panel"===this.closeItemOrPanelDialog&&c.kD.toggleElementStudio(),this.closeItemOrPanelDialog=!1,this.$emit("discardChanges")}mainAppSaveButtonClicked(){this.hasUnsavedChanges&&confirm(`Also save your Element Studio ${this.itemType}?`)&&this.saveOverwrite(!1)}openItem(e){this.availableItemsSearch="",this.$emit("open",e)}closeItem(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="item":this.$emit("reset")}closePanel(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="panel":c.kD.toggleElementStudio()}saveNewItem(e){this.$emit("saveNew",e)}saveAs(e){this.$emit("saveAs",e)}saveOverwrite(e){this.value&&this.value.directoryPath&&this.canSaveOrIsAdvancedUser&&this.$emit("saveOverride",e)}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}get showAdvancedFeatures(){return(0,rl.y)()||c.PK.isElementStudioPowerUser}get canSaveOrIsAdvancedUser(){return this.value&&(!this.value.onlyForAdvancedUsers||this.showAdvancedFeatures)}deleteItem(){this.deleteDialog=!1,this.$emit("delete")}switchMode(){this.$emit("switchMode")}};(0,r.gn)([(0,l.fI)()],Jl.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"hasUnsavedChanges",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"itemType",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"itemName",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"saveInProgress",void 0),(0,r.gn)([(0,l.fI)()],Jl.prototype,"itemsSlug",void 0),Jl=(0,r.gn)([(0,l.wA)({components:{ElementStudioSaveNewDialog:Ql,NiceButton:Ki.Z,Icon:G.Z,Dropdown:Ia.Z}})],Jl);const ec=Jl,tc=ec;var nc=(0,q.Z)(tc,Hl,Ul,!1,null,null,null);const sc=nc.exports;var ac=n(1387),ic=n(46072),oc=n(197),rc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column",staticStyle:{height:"100%"}},[e.showNewMacroDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.available.saveLocations,"item-type":"macro"},on:{input:e.saveNewMacro,close:function(t){e.showNewMacroDialog=!1}}}):e._e(),t("Dropdown",{attrs:{value:!!e.contextMenu,absolute:!0,"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,transition:!1},on:{input:function(t){e.contextMenu=!1}},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[t(Pa.Z,{attrs:{dense:""}},[t(_a.Z,{attrs:{link:!0},nativeOn:{click:function(t){return e.handleCreateMacro.apply(null,arguments)}}},[t(Ca.V9,[e._v("Make into a macro")])],1)],1)],1),t("div",{staticClass:"element-studio-tabs"},[t(oo.Z,{attrs:{value:e.tab},on:{change:e.updateTab}},[t(io.Z,{attrs:{href:"#content",title:"Content","data-test-id":"element-studio-content-tab"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#design",title:"Design","data-test-id":"element-studio-design-tab"}},[t("Icon",{attrs:{icon:"PaletteIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#html",title:"HTML","data-test-id":"element-studio-html-tab"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#css",title:"CSS","data-test-id":"element-studio-css-tab"}},[t("Icon",{attrs:{icon:"Css3Icon",size:"16"}})],1),t(io.Z,{attrs:{href:"#defaultCss",title:"Default CSS","data-test-id":"element-studio-default-css-tab"}},[t("Icon",{attrs:{icon:"CssIcon",size:"16"}})],1),e.nestingRuleTypeIsContainer?t(io.Z,{attrs:{href:"#default-elements",title:"Default Elements","data-test-id":"element-studio-default-elements"}},[t("Icon",{attrs:{icon:"BoxIcon",size:"16"}})],1):e._e(),t(io.Z,{attrs:{href:"#attributes",title:"HTML Attributes","data-test-id":"element-studio-attributes"}},[t("Icon",{attrs:{icon:"AttributesIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#prop-paths",title:"Property Paths","data-test-id":"element-studio-property-paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#dependencies",title:"Dependencies","data-test-id":"element-studio-dependencies-tab"}},[t("Icon",{attrs:{icon:"DownloadFileIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#actions",title:"Actions","data-test-id":"element-studio-actions-tab"}},[t("Icon",{attrs:{icon:"ActionsIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#settings",title:"Settings","data-test-id":"element-studio-settings-tab"}},[t("Icon",{attrs:{icon:"CogsIcon",size:"16"}})],1)],1)],1),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},["settings"===e.tab?t("div",[t(_a.Z,{attrs:{"two-line":""}},[t(Ca.km,[t(Ca.V9,{staticClass:"font-weight-bold"},[e._v("Slug")]),t(Ca.oZ,[e._v(" "+e._s(e.element.slug))])],1)],1),t("div",{staticClass:"px-4 pt-2"},[t("div",{staticClass:"d-flex align-center"},[t(ja.Z,{attrs:{label:"Name",value:e.element.name,"data-test-id":"element-studio-name-input",rules:[e.isValidItemName]},on:{input:e.updateElementName}}),e.nameHasChanged?t(Es.Z,{staticClass:"ml-3",attrs:{outlined:"",small:""},on:{click:e.updateSlug}},[e._v(" Update slug ")]):e._e()],1),t(ja.Z,{staticClass:"mb-4",attrs:{label:"Class Name",placeholder:"the_best_class",value:e.element.className||"","data-test-id":"element-studio-classname-input","persistent-hint":"",hint:"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS",rules:[e.htmlClassNameRule]},on:{input:e.updateClassName}}),t(yr.Z,{attrs:{items:e.elementCategories,label:"Category",value:e.cleanElement.category},on:{input:function(t){return e.updateElementValue("category",t)}}}),t("div",{staticClass:"breakdance-element-studio-element-badges"},[t(ac.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.backgroundColor,label:"Badge Background"},on:{input:function(t){return e.updateElementValue("badge.backgroundColor",t)}}}),t(ac.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.textColor,label:"Badge Text"},on:{input:function(t){return e.updateElementValue("badge.textColor",t)}}}),t(ja.Z,{attrs:{label:"Badge Label",value:!!e.cleanElement.badge&&e.cleanElement.badge.label},on:{input:function(t){return e.updateElementValue("badge.label",t)}}}),t(Es.Z,{attrs:{outlined:"",small:""},on:{click:function(t){return e.updateElementValue("badge",!1)}}},[e._v("clear badge")])],1),t("h3",[e._v("HTML Tag options")]),t("div",{staticClass:"breakdance-element-studio__html-tags"},[t(ac.Z,{attrs:{label:"Default Tag",value:e.cleanElement.htmlTag.default,hint:"Tag of the root element",clearable:"",items:e.defaultTag},on:{input:function(t){return e.updateElementValue("htmlTag.default",t)}}}),t(ac.Z,{attrs:{label:"Tag Options",value:e.cleanElement.htmlTag.options,items:e.htmlTags,multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.options",t)}}}),t(ac.Z,{attrs:{label:"Get the Tag from a Control's path",value:e.cleanElement.htmlTag.pathToControl||"",items:e.pathsToAllControls,hint:"This will disable the 'Settings -> Html -> Tag' control",clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.pathToControl",t)}}})],1),t("h3",[e._v("UI Icon")]),t("div",{staticClass:"mb-5 d-flex align-center"},[e.showAdvancedFeatures?[t("ToggleInput",{attrs:{value:e.useLocalIcon},on:{input:e.updateUseLocalIcon}}),t("span",{staticClass:"mr-4"},[e._v("Local")])]:e._e(),t("div",{staticClass:"d-flex align-center"},[t("ElementIcon",{staticClass:"mr-2",attrs:{icon:e.cleanElement.uiIcon||"SquareIcon",size:"16"}}),e.useLocalIcon&&e.showAdvancedFeatures?t("ElementStudioIconsAutocomplete",{attrs:{value:e.cleanElement.uiIcon||"SquareIcon"},on:{input:e.updateUiIcon}}):t(ja.Z,{attrs:{label:"SVG code for icon",value:e.cleanElement.uiIcon,"data-test-id":"element-studio-ui-icon-input"},on:{input:e.updateUiIcon}})],1)],2),t(ja.Z,{attrs:{label:"UI Order (number)",value:e.cleanElement.order},on:{input:e.updateUiOrder}}),t("h3",[e._v("Nesting rules")]),t(ac.Z,{attrs:{items:e.containerRestrictedElements,label:"Element to be a direct child of",hint:"This element will only be allowed as a direct child of the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADirectChildOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADirectChildOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(ac.Z,{staticClass:"mt-4",attrs:{items:e.elementsThisElementIsAllowedToBeInsideOf,label:"Element to be a descendant of",hint:"This element will only be allowed inside the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADescendantOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADescendantOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(ac.Z,{staticClass:"mt-4",attrs:{items:e.allElementSlugs,label:"Disallow if others are present",hint:"This element will not be allowed on a page if one of the following elements is already present on the page","persistent-hint":"",value:e.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.notAllowedWhenNodeTypeIsPresentInTree",Array.isArray(t)&&0===t.length?void 0:t)}}}),t("h3",[e._v("Misc options")]),t(yr.Z,{attrs:{items:e.elementType,label:"Element Type",value:e.cleanElement.nestingRule.type,hint:"Only change to create complex elements","persistent-hint":""},on:{input:function(t){return e.updateElementValue("nestingRule.type",t)}}}),t(oc.Z,{staticClass:"mt-3",attrs:{label:"Required plugins",items:e.requiredPluginItems,"hide-details":"",value:e.cleanElement.settings?e.cleanElement.settings.requiredPlugins:[],multiple:!0},on:{input:function(t){return e.updateElementValue("settings.requiredPlugins",t&&t.length?t:void 0)}}}),t(ic.Z,{attrs:{label:"Is Pro Only","input-value":e.cleanElement.settings&&e.cleanElement.settings.proOnly,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.proOnly",!!t)}}}),t(ic.Z,{attrs:{label:"Element depends on global scripts to work","input-value":e.cleanElement.settings&&e.cleanElement.settings.dependsOnGlobalScripts,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.dependsOnGlobalScripts",!!t)}}}),t(ic.Z,{attrs:{label:"Experimental Element?","input-value":e.cleanElement.experimental,"hide-details":""},on:{change:function(t){return e.updateElementValue("experimental",!!t)}}}),t(ic.Z,{attrs:{label:"Bypass Pointer Events",hint:"Use this if clicking on the element doesn't active it, but instead clicks something inside of it","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.bypassPointerEvents},on:{change:function(t){return e.updateElementValue("settings.bypassPointerEvents",!!t)}}}),t(ic.Z,{attrs:{label:"Share props with SSR children",hint:"Use this if you need to access the properties data from this element in a child SSR element.","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.sharePropsWithSSRChildren},on:{change:function(t){return e.updateElementValue("settings.shareStateWithChildSSR",!!t)}}}),t("div",{staticClass:"pt-4"},[t("h3",[e._v("Add panel rules")]),t(ic.Z,{attrs:{label:"Always hide element from the Add Panel","input-value":e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide,"hide-details":""},on:{change:function(t){return e.updateElementValue("addPanelRules.alwaysHide",!!t)}}}),e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide?e._e():[t(oc.Z,{attrs:{label:"Allowed post type",items:["breakdance_template"],"hide-details":"",value:e.cleanElement.addPanelRules?e.cleanElement.addPanelRules.allowedPostTypes:[],multiple:!0},on:{input:function(t){return e.updateElementValue("addPanelRules.allowedPostTypes",t&&t.length?t:void 0)}}})]],2),t("ElementStudioDefaultProperties",{staticClass:"my-8",attrs:{elementSlug:e.cleanElement.slug,value:e.cleanElement.defaultProperties},on:{input:function(t){return e.updateElementValue("defaultProperties",t)}}})],1)],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"design"===e.tab,expression:"tab === 'design'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"design"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"content"===e.tab,expression:"tab === 'content'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"content"}})],1),"html"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.template,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"html"},on:{input:function(t){return e.updateElementValue("template",t||"")}}})],1):e._e(),"css"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.cssTemplate,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"css"},on:{input:function(t){return e.updateElementValue("cssTemplate",t||"")}}})],1):e._e(),"defaultCss"===e.tab?t("div",[t("div",{staticClass:"px-4 py-2"},[e._v(" Element's class: "),t("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.elementClass))]),t("CopyButton",{attrs:{"value-to-copy":".breakdance "+e.elementClass}})],1),t("CodeInput",{attrs:{value:e.cleanElement.defaultCss,language:"css"},on:{input:function(t){return e.updateElementValue("defaultCss",t||"")}}})],1):e._e(),e.nestingRuleTypeIsContainer?t("div",{directives:[{name:"show",rawName:"v-show",value:"default-elements"===e.tab,expression:"tab === 'default-elements'"}],staticClass:"studio-default-elements-panel"},[t("ElementStudioDefaultElements",{attrs:{value:e.cleanElement.defaultChildren,"parent-element-slug":e.cleanElement.slug},on:{input:function(t){return e.updateElementValue("defaultChildren",t||"")}}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"attributes"===e.tab,expression:"tab === 'attributes'"}],staticClass:"studio-dependencies-panel"},[e._v(" Attributes are added to the container of the element "),t("ElementStudioAttributes",{attrs:{value:e.cleanElement.attributes},on:{input:function(t){return e.updateElementValue("attributes",t)}}}),t("br"),e._v(" Classes are added to the container of the element "),t("ElementStudioAdditionalClasses",{attrs:{value:e.cleanElement.additionalClasses||[]},on:{input:function(t){return e.updateElementValue("additionalClasses",t)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.tab,expression:"tab === 'prop-paths'"}]},[t("ElementStudioManagePropertyPaths",{attrs:{value:e.cleanElement}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"dependencies"===e.tab,expression:"tab === 'dependencies'"}],staticClass:"studio-dependencies-panel"},[t("ElementStudioDependencies",{attrs:{value:e.cleanElement.dependencies}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"actions"===e.tab,expression:"tab === 'actions'"}]},[t("ElementStudioAction",{attrs:{"action-key":"onPropertyChange",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after one of this element's property changes (a value in a control) ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("control's path")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("design.background.color")]),e._v(": action will only run for that path. "),t("code",[e._v("design.background.*")]),e._v(": action will run for any control below 'background' ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMovedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element is moved in the canvas ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("element's and moved-on element's type ")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Text")]),e._v(": action will only run if element being moved is of that type, "),t("b",[e._v("OR")]),e._v(" if the element was moved onto an element with that type. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onAfterDeletedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs AFTER this element was deleted "),t("br")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("deleted element's parent type")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Section")]),e._v(": action will only run if the deleted element was inside a Section element. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onBeforeDeletingElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs BEFORE this element is deleted ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMountedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element renders in the canvas ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onCreatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after adding this element to the canvas for the first time ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onActivatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after the element is activated (selected) ")]},proxy:!0}])})],1)])],1)},lc=[],cc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("draggable",{attrs:{value:e.value[this.sectionName]},on:{input:e.handleDrag}},e._l(e.value[this.sectionName],(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,index:s,path:`${e.sectionName}[${s}]`,parentPath:e.sectionName,twigParentPath:e.section}})})),1),t("div",{staticClass:"text-center py-4"},[t(Es.Z,{attrs:{tile:"",text:"","data-test-id":"element-studio-add-control-section"},on:{click:e.addSection}},[e._v(" Add Control Section ")]),t(Es.Z,{attrs:{tile:"",text:""},on:{click:e.addPreset}},[e._v(" Add Preset ")]),e.canPaste?t(Es.Z,{attrs:{tile:"",text:""},on:{click:e.handlePaste}},[e._v(" Paste ")]):e._e()],1)],1)},dc=[],uc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.showNewPresetDialog?t("ElementStudioSaveNewDialog",{attrs:{"item-type":"preset","save-locations":e.elementStudioData.saveLocations},on:{input:e.saveNewPreset,close:function(t){e.showNewPresetDialog=!1}}}):e._e(),t("div",{class:e.classList},[t("Accordion",{attrs:{expanded:e.accordionState[e.index],disableToggle:e.isPresetSection},on:{toggle:function(t){return e.toggleAccordion(e.index)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"data-test-id":"element-studio-control-accordion"}},["section"!==e.value.options.type||e.isPresetSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Es.Z,e._g(e._b({staticClass:"mr-2",attrs:{color:"black",small:"",icon:"",title:"Open Twig Code Helper"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"BracketsIcon"}})],1)]}}],null,!1,1714806599),model:{value:e.codeHelpOpen,callback:function(t){e.codeHelpOpen=t},expression:"codeHelpOpen"}},[t(Ka.Z,{staticClass:"element-studio-poppy-card",staticStyle:{width:"400px",height:"300px"}},[t("TwigCodeHelper",{key:e.keyToRerenderCodeHelp,attrs:{control:e.value,twigParentPath:e.twigParentPath,inRepeater:e.isParentARepeater},on:{close:function(t){e.codeHelpOpen=!1}}})],1)],1):e._e(),t("input",{staticClass:"element-studio-control-label-input",attrs:{placeholder:"Label"},domProps:{value:e.value.label},on:{click:function(e){e.stopPropagation()},focusout:e.updateLabelAndSlugOnFocusOut}}),e.isPresetSection?t(ac.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.presetSectionSlug,items:e.availablePresetSections,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updatePresetSectionSlug}}):e._e(),"section"!==e.value.options.type?t(ac.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.value.options.type,items:e.controlTypes,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updateControlType}}):e._e(),e.isSection?e._e():t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Es.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(Ka.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make this control's value available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.autofocusSupported?t(el.Z,{attrs:{label:"Autofocus",value:e.value.options.autofocus},on:{change:function(t){return e.updateOptions(t,"autofocus")}}}):e._e(),e.hasSsr?t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when this control's value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),"alert_box"===e.value.options.type||"pro_only_alert_box"===e.value.options.type?[t("ElementStudioAlertBoxOptions",{attrs:{value:e.value.options.alertBoxOptions},on:{input:function(t){return e.updateOptions(t,"alertBoxOptions")}}})]:e._e(),"date_picker"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Date picker options")]),t("DropdownInput",{attrs:{value:e.value.options.datePickerOptions?Object.keys(e.value.options.datePickerOptions)[0]:"",items:e.datePickerOptions,clearable:""},on:{input:function(t){return e.updateOptions({[t]:t},"datePickerOptions")}}})]:e._e(),"multiselect"===e.value.options.type||"dropdown"===e.value.options.type||"button_bar"===e.value.options.type?[t("ElementStudioDropdownOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.dropdownOptions},on:{input:function(t){return e.updateOptions(t,"dropdownOptions")},updateDropdownItems:e.updateDropdownItems,updateDropdownItem:e.updateDropdownItem}})]:e._e(),"button_bar"===e.value.options.type?[t(el.Z,{attrs:{label:"Big Button Bar",value:e.value.options.buttonBarOptions&&"big"===e.value.options.buttonBarOptions.size&&"default"===e.value.options.buttonBarOptions.layout,"hide-details":""},on:{change:e.updateButtonBarOptionsSize}}),t(el.Z,{attrs:{label:"Multiline Bar",value:e.value.options.buttonBarOptions&&"multiline"===e.value.options.buttonBarOptions.layout&&"small"===e.value.options.buttonBarOptions.size,"hide-details":""},on:{change:e.updateButtonBarOptionsLayout}})]:e._e(),"trigger_action_button"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Trigger action button options")]),t("TextInput",{staticClass:"mr-3 d-inline-block",attrs:{label:"Button Text",value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.text},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,text:t||""},"triggerActionsButtonOptions")}}}),t("ElementStudioIconsAutocomplete",{staticClass:"d-inline-block",attrs:{value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.icon},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,icon:t},"triggerActionsButtonOptions")}}})]:e._e(),e.isRepeater?[t("ElementStudioRepeaterOptions",{attrs:{control:e.value,value:e.value.options.repeaterOptions},on:{input:function(t){return e.updateOptions(t,"repeaterOptions")}}})]:e._e(),"unit"===e.value.options.type?[t("ElementStudioUnitOptions",{attrs:{value:e.value.options.unitOptions},on:{input:function(t){return e.updateOptions(t,"unitOptions")}}})]:e._e(),"wpmedia"===e.value.options.type?[t("ElementStudioMediaOptions",{attrs:{value:e.value.options.mediaOptions},on:{input:function(t){return e.updateOptions(t,"mediaOptions")}}})]:e._e(),"video"===e.value.options.type?[t("ElementStudioVideoOptions",{attrs:{value:e.value.options.videoOptions},on:{input:function(t){return e.updateOptions(t,"videoOptions")}}})]:e._e(),"unit"===e.value.options.type||"number"===e.value.options.type||"slider"===e.value.options.type?[t("ElementStudioRangeOptions",{attrs:{value:e.value.options.rangeOptions},on:{input:function(t){return e.updateOptions(t,"rangeOptions")}}})]:e._e(),"shadow"===e.value.options.type?[e._v(" Shadow Type "),t(yr.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.shadowTypes,value:e.value.options.shadowOptions&&e.value.options.shadowOptions.type||"box"},on:{input:e.updateShadowType}})]:e._e(),"breakpoint_dropdown"===e.value.options.type?[t("ElementStudioBreakpointOptions",{attrs:{value:e.value.options.breakpointOptions},on:{input:function(t){return e.updateOptions(t,"breakpointOptions")}}})]:e._e(),"text"===e.value.options.type?[t(el.Z,{attrs:{label:"Multiline",value:e.value.options.textOptions&&e.value.options.textOptions.multiline,"hide-details":""},on:{change:e.updateTextOptionsMultiline}})]:e._e(),"focus_point"===e.value.options.type?[t("ElementStudioFocusPointOptions",{attrs:{value:e.value.options.focusPointOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"focusPointOptions")}}})]:e._e(),"media_size_dropdown"===e.value.options.type?[t("ElementStudioMediaSizeOptions",{attrs:{value:e.value.options.mediaSizeOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"mediaSizeOptions")}}})]:e._e(),"post_chooser"===e.value.options.type?[t("ElementStudioPostChooserOptions",{attrs:{value:e.value.options.postChooserOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"postChooserOptions")}}})]:e._e(),"icon"===e.value.options.type?[t("ElementStudioIconOptions",{attrs:{value:e.value.options.iconOptions},on:{input:function(t){return e.updateOptions(t,"iconOptions")}}})]:e._e(),"color"===e.value.options.type?[t("h3",{staticClass:"mb-2"},[e._v("Color Type")]),t("DropdownInput",{attrs:{value:e.value.options.colorOptions&&e.value.options.colorOptions.type||"solidOnly",items:[{text:"Solid Only",value:"solidOnly"},{text:"Solid and Gradient",value:"solidAndGradient"},{text:"Gradient Only",value:"gradientOnly"}]},on:{input:e.updateColorType}})]:e._e(),e.isSection?e._e():[t("h3",[e._v("Dynamic Property")]),t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable dynamic property","input-value":!!e.dynamicPropertyPath,"hide-details":""},on:{change:e.updateDynamicPropertyPaths}}),e.dynamicPropertyPath?[t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make dynamic data Pro only","input-value":e.dynamicPropertyPath&&e.dynamicPropertyPath.proOnly,"hide-details":""},on:{change:function(t){return e.updateDynamicPropertyPaths(!0,e.dynamicPropertyPath?e.dynamicPropertyPath.accepts:void 0,t)}}}),t("h4",{staticClass:"mb-1"},[e._v("Dynamic Property Type")]),t("DropdownInput",{attrs:{items:e.dynamicPathAcceptsItems,value:e.dynamicPropertyPath.accepts},on:{input:function(t){return e.updateDynamicPropertyPaths(!0,t)}}})]:e._e()],"add_registered_children"===e.value.options.type?[t("h3",[e._v("Registered Children options: add extra elements")]),e.availableDescendantElements.length?t("div",{staticClass:"d-flex align-center"},[t(ac.Z,{staticClass:"element-studio-control-type-dropdown mr-4 mt-2",attrs:{items:e.availableDescendantElements,value:e.value.options.addRegisteredChildrenOptions&&e.value.options.addRegisteredChildrenOptions.addExtraElementsBySlug,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown",multiple:""},on:{input:e.updateAddExtraElementsBySlug}}),t("IconButton",{attrs:{icon:"TrashIcon"},on:{click:function(t){return e.updateAddExtraElementsBySlug([])}}})],1):t("div",[e._v(" No available extra elements. ")])]:e._e(),"code"===e.value.options.type?[t("h3",[e._v("Code input options")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.codeTypes,value:e.value.options.codeOptions&&e.value.options.codeOptions.language},on:{input:e.updateCodeType}})]:e._e(),"text"===e.value.options.type||"richtext"===e.value.options.type?[t("ElementStudioVariableOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.variableOptions},on:{input:function(t){return e.updateOptions(t,"variableOptions")},updateVariableItems:e.updateVariableItems,updateVariableItem:e.updateVariableItem}})]:e._e(),t("h3",[e._v("Misc Options")]),e.isInContentTab?[t(ic.Z,{attrs:{label:"See content editable code","hide-details":""},model:{value:e.showContentEditableCode,callback:function(t){e.showContentEditableCode=t},expression:"showContentEditableCode"}}),e.showContentEditableCode?[t("Copyable",{staticClass:"element-studio-inline-helper-code",attrs:{shouldCopy:!1}},[e._v(" "+e._s(e.contentEditableHelperCode)+" ")])]:e._e()]:e._e(),t("div",[e.isInContentTab?e._e():[t("div",{staticClass:"d-flex flex-row"},[t(ic.Z,{attrs:{disabled:e.canHaveMediaQueries,label:"Enable Media Queries","input-value":e.value.enableMediaQueries,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableMediaQueries")}}})],1)],t("div",{staticClass:"d-flex flex-row"},[t(ic.Z,{attrs:{label:"Enable Hover","input-value":e.value.enableHover,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableHover")}}})],1),t("h3",[e._v("Layout")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.controlLayouts,value:e.value.options.layout},on:{input:e.updateControlLayout}}),"text"===e.value.options.type||"dropdown"===e.value.options.type||"multiselect"===e.value.options.type?[t("h3",[e._v("Placeholder")]),t("TextInput",{attrs:{value:e.value.options.placeholder},on:{input:e.updatePlaceholder}})]:e._e(),t("h3",[e._v("Keywords")]),t("TextInput",{attrs:{value:e.keywordsValue},on:{input:e.updateKeywords}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}})],2)],2)],1),e.isSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Es.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(Ka.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[e.isPresetSection?e._e():t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make all control values in this section available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when any child control value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),t("h3",[e._v("Section Layout")]),t(yr.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.sectionLayouts,value:e.value.options.sectionOptions&&e.value.options.sectionOptions.type},on:{input:e.updateSectionLayoutType}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}}),e.spacingBarPresetSlug?[t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable spacing bars","input-value":e.isSpacingBarEnabled(),"hide-details":""},on:{change:e.updateSpacingBar}})]:e._e()],2)],1):e._e(),t(ra.Z),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t(Es.Z,e._g({staticClass:"mr-1",attrs:{color:"black",icon:"",small:""}},n),[t("Icon",{attrs:{icon:"EllipsisIcon",size:"18"}})],1)]}}])},[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:e.copy}},[t(Ca.V9,[e._v("Copy")])],1),e.canPaste?t(_a.Z,{attrs:{dense:""},on:{click:e.handlePaste}},[t(Ca.V9,[e._v("Paste As Child")])],1):e._e(),e.canReplace?t(_a.Z,{attrs:{dense:""},on:{click:e.handleReplace}},[t(Ca.V9,[e._v("Replace")])],1):e._e(),e.isSection?t(_a.Z,{attrs:{dense:""},on:{click:e.handleMakePreset}},[t(Ca.V9,[e._v("Make into a Preset")])],1):e._e()],1)],1),t(Es.Z,{staticClass:"mr-3",attrs:{color:"black",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteControl.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("draggable",{attrs:{value:e.value.children},on:{input:e.handleDrag}},e._l(e.value.children,(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,path:`${e.path}.children[${s}]`,index:s,parentPath:e.path,twigParentPath:`${e.twigParentPath}${e.isParentARepeater?`[${s}]`:""}.${e.value.slug}`,parentControl:e.value}})})),1),e.controlAcceptsChildren?t(Es.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-control"},on:{click:e.addControl}},[e._v(" Add Control ")]):e._e(),e.controlAcceptsChildren?t(Es.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-preset"},on:{click:e.addPreset}},[e._v(" Add Preset ")]):e._e()]},proxy:!0}])})],1)],1)},pc=[],hc=n(89754),mc=n(34680),gc=n.n(mc),vc=n(78021),fc=n(61614),yc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex"},[t(ja.Z,e._b({staticClass:"breakdance-dense-input",attrs:{value:e.value,rules:e.rules,clearable:e.clearable,solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)","data-test-id":e.testId},on:{input:e.edit,blur:function(t){return e.$emit("blur",t)}}},"v-text-field",e.inputOptions,!1))],1)},bc=[];let Sc=class extends s.ZP{get isNumber(){return"number"===this.inputOptions?.type}edit(e){this.isNumber&&e?this.$emit("input",parseFloat(e)):this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Sc.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Sc.prototype,"inputOptions",void 0),(0,r.gn)([(0,l.fI)()],Sc.prototype,"rules",void 0),(0,r.gn)([(0,l.fI)()],Sc.prototype,"testId",void 0),(0,r.gn)([(0,l.fI)({default:!0})],Sc.prototype,"clearable",void 0),Sc=(0,r.gn)([l.wA],Sc);const Pc=Sc,_c=Pc;var Cc=(0,q.Z)(_c,yc,bc,!1,null,null,null);const wc=Cc.exports;var xc=n(69790),kc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-twig-code-helper"},[e.codeForControl?t("Copyable",{on:{onCopy:e.close}},[e._v(e._s(e.codeForControl))]):[e._v("No code help available for "),t("code",[e._v(e._s(e.control.options.type))]),e._v(" control type")]],2)},Ic=[],Ec=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-copyable"},[t("textarea",{ref:"input",attrs:{readonly:""},domProps:{value:e.textToCopy}}),e.shouldCopy?t(Es.Z,{attrs:{small:""},on:{click:e.copy}},[e._v("Copy")]):e._e()],1)},Dc=[];let Zc=class extends s.ZP{mounted(){this.shouldCopy&&(0,Je.n)((()=>{this.$refs.input.select(),document.execCommand("copy")}))}get textToCopy(){return this.$slots?.default[0]?.text||""}copy(){this.$refs.input.select(),document.execCommand("copy"),this.$emit("onCopy")}};(0,r.gn)([(0,l.fI)({default:!0})],Zc.prototype,"shouldCopy",void 0),Zc=(0,r.gn)([(0,l.wA)({})],Zc);const Tc=Zc,Ac=Tc;var Bc=(0,q.Z)(Ac,Ec,Dc,!1,null,null,null);const Oc=Bc.exports,Rc=({twigPath:e})=>"{{ "+e+" }}",Mc=({twigPath:e})=>`{% if ${e} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`,Fc=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} ${t} == '${e.value}' %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",Nc=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} '${e.value}' in ${t} %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",$c=({control:e,twigPath:t})=>{const n="text"===e?.options?.shadowOptions?.type,s=n?"text-shadow":"box-shadow";return`${s}: {{ ${t}.style }};`},Lc=({twigPath:e})=>`\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class="some-class-to-wrap-the-icon-svg">\n{{ ${e}.svgCode }}\n</div>\n`,Wc=({twigPath:e})=>`\n    {% for item in ${e} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `,Vc=({twigPath:e})=>`\n  /* could be used for transforms */\n  transform-origin: {{ ${e}.x }}% {{ ${e}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${e}.x }}% {{ ${e}.y }}%;\n  `,Hc=["layout_basic_flex","layout","borders","background","css","size","grid",...ae.Cn],Uc=({control:e,twigPath:t})=>{const n=e.options.sectionOptions?.preset?.slug?.replace("EssentialElements\\","");return n?Hc.includes(n)?`{{ macros.${n}(${t}) }}`:"effects"===n?`\n    {{ macros.effects(${t}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${t}, '%%SELECTOR%%:hover') }}\n    `:"effects_no_hover"===n?`{{ macros.effects(${t}, '%%SELECTOR%%') }}`:"filter"===n?`{{ macros.filters(${t}) }}`:"typography"===n||"typography_with_nothing"===n||"typography_with_align"===n||"typography_with_effects"===n||"typography_with_effects_and_align"===n?`{{ macros.typography(${t}, globalSettings) }}`:"simpleLayout"===n?`{{ macros.simpleLayout(${t}, breakpoint) }}`:"fancy_background"===n?`\n      {{ macros.fancyBackgroundHtml(${t}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${t}, breakpoint) }}\n    `:"typography_with_hoverable_color"===n||"typography_with_align_with_hoverable_color"===n||"typography_with_effects_with_hoverable_color_and_effects"===n||"typography_with_effects_and_align_with_hoverable_color_and_effects"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${t}) }}\n    }\n    `:"typography_with_hoverable_everything"===n||"typography_with_align_with_hoverable_everything"===n||"typography_with_effects_with_hoverable_everything"===n||"typography_with_effects_and_align_with_hoverable_everything"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${t}) }}\n    }\n    `:"AtomV1ButtonContent"===n?`\n    \x3c!-- In order to set default styles for your buttons, use the following macros: --\x3e\n    \x3c!-- You can overwrite these settings using design options  --\x3e\n\n    \x3c!-- Button (Primary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, '${t}.text') }}\n\n    \x3c!-- Button (Secondary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${t}.text') }}\n\n    \x3c!-- Button (Custom) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${t}.text') }}\n\n    \x3c!-- Button (Text) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${t}.text') }}\n\n    \x3c!-- Form Button (Submit) --\x3e\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${t}.text') }}\n\n    \x3c!-- SSR Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    \x3c!-- SSR Form Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`:"AtomV1ButtonDesign"===n?`\n      {{ macros.atomV1ButtonCss(${t}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `:"AtomV1CustomButtonDesign"===n?`\n\n      {{ macros.atomV1ButtonButton(${t}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `:"AtomV1IconDesignWithHover"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%', true) }}`:"AtomV1IconDesign"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%') }}`:"AtomV1FormDesign"===n?`{{ macros.atomV1FormCss(${t}, '%%SELECTOR%%') }}`:"tabs_design"===n?`{{ macros.atomV1TabsCss('%%SELECTOR%%', ${t}, breakpoint, globalSettings) }}`:"WooGlobalStylerOverride"===n?`{{ macros.wooGlobalStyler(${t}, '%%SELECTOR%%', breakpoint, globalSettings) }}`:"pagination"===n?`{{ macros.pagination(${t}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`:"wooPresetInputsDesign"===n||"wooPresetInputsDesignNoSelect2"===n?`\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${t}) }}\n    }`:"wooProductsListElements"===n?`\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductsListLayout"===n?`\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductWrapperDesign"===n?`\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${t}) }}\n    `:["lightbox_design","lightbox_single_design"].includes(n)?`{{ macros.atomV1LightboxCss(${t}) }}`:"AtomV1SwiperSettings"===n?`\nHTML:\n\n<div class="breakdance-swiper-wrapper" data-swiper-id="%%ID%%">\n  <div class="swiper">\n    <div class="swiper-wrapper">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${t}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`:"borders_without_shadows"===n?`\n    {{ macros.borders_without_shadows(${t}) }}\n    `:`no code help for preset section type of ${n}`:"undefined preset type"},zc={trigger_action_button:void 0,border_complex:({twigPath:e})=>`{{ macros.border_complex(${e}) }}`,border_radius:({twigPath:e})=>`{{ macros.border_radius(${e}) }}`,breakpoint_dropdown:({twigPath:e})=>`\n    {% if breakpoint == ${e} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,button_bar:Fc,dropdown:Fc,code:Rc,color:({control:e,twigPath:t})=>"solidAndGradient"===e.options.colorOptions?.type?`\n        /* Background Color */\n        {{ macros.backgroundColor(${t}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${t}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${t}) }}\n      `:`background-color: {{ ${t} }}`,gradient:({twigPath:e})=>`background-image: {{ ${e}.style }}`,shadow:$c,icon:Lc,number:Rc,repeater:Wc,inline_repeater:Wc,richtext:Rc,toggle:Mc,spacing_complex:({twigPath:e})=>`{{ macros.spacing_complex(${e}, 'margin') }}`,text:Rc,url:Rc,unit:({twigPath:e})=>`font-size: {{ ${e}.style }};`,wpmedia:({control:e,twigPath:t})=>e.options?.mediaOptions?.multiple?`\n      {% for item in ${t} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `:`\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${t}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${t}, content.content.size, alt, lazyLoad) }}\n    `,video:({twigPath:e})=>`\n      {{ macros.video(${e}) }}\n    `,focus_point:Vc,section:Uc,multiselect:Nc,condition:void 0,font_family:void 0,class:void 0,global_colors:void 0,global_block_chooser:void 0,typography:void 0,custom_typography:void 0,typography_preset:void 0,message:void 0,post_chooser:void 0,element_screenshot:void 0,slider:void 0,add_registered_children:void 0,builder_behavior:void 0,alert_box:void 0,pro_only_alert_box:void 0,date_picker:({twigPath:e})=>`{{ ${e} }}`,time_picker:({twigPath:e})=>`{{ ${e} }}`,api_key_input:void 0,link:({twigPath:e})=>`\n     {{ macros.linkStart(${e}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `,media_size_dropdown:({twigPath:e})=>`{{ ${e} }}`,wp_query:()=>"Use this control in your SSR.php file. For example:\n    \\Breakdance\\WpQueryControl\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);",conditional_form_field:void 0},Gc=(e,t)=>{let n="";if(Array.isArray(e))n=e.reduce(((e,t)=>{const n=t.reduce(((e,{path:t,value:n})=>e?`${e} and ${t} == "${n}"`:`${t} == "${n}"`),"");return e?`${e} or (${n})`:`(${n})`}),"");else{const{path:t,value:s}=e;n=`${t} == "${s}"`}return`\n      {% if ${n} %}\n      ${t}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `};var Kc=n(70802);let jc=class extends s.ZP{get twigPath(){return this.inRepeater?`item.${this.control.slug}`:`${this.twigParentPath}.${this.control.slug}`}get codeForControl(){const e=zc[this.control.options.type],t=this.control.options.sectionOptions?.preset?.codeHelp?.replace("%%TWIG_PATH%%",this.twigPath);let n=t||e&&e({control:this.control,twigPath:this.twigPath});if(!n)return!1;if(this.control.options.condition&&(n=Gc(this.control.options.condition,n)),this.control.enableHover){const e=n.replace(new RegExp(this.twigPath,"g"),(0,Kc.sg)(this.twigPath));n+="\n\n.some-selector:hover {\n"+e+"\n}\n"}return n}close(){this.$emit("close")}};(0,r.gn)([(0,l.fI)()],jc.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],jc.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],jc.prototype,"inRepeater",void 0),jc=(0,r.gn)([(0,l.wA)({components:{Copyable:Oc}})],jc);const Xc=jc,qc=Xc;var Yc=(0,q.Z)(qc,kc,Ic,!1,null,null,null);const Qc=Yc.exports;var Jc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",[e._v(e._s(e.label))]),t("Repeater",{attrs:{value:this.internalValue,control:{options:{repeaterOptions:{defaultNewValue:[e.getBlankCondition()],titleTemplate:"OR",buttonName:"Add new OR condition",forceDontProcessDefaultNewValueWhenAddingItemsHack:!0}}}},on:{input:e.emit},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t("Repeater",{attrs:{value:e.internalValue[n],control:{options:{repeaterOptions:{defaultNewValue:e.getBlankCondition(),forceDontProcessDefaultNewValueWhenAddingItemsHack:!0,titleTemplate:`(AND) ${e.title} for '{path}'`,buttonName:`Add new (AND) ${e.title}`}}}},on:{input:function(t){return e.updateOrCondition(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("div",{staticClass:"element-studio-condition-input"},[a?t("div",{staticClass:"element-studio-condition-input-row"},[a.external?t("span",[e._v(" External conditions can't be edited ")]):e._e(),t(oc.Z,{attrs:{label:"Path",items:e.paths,value:a.path,disabled:a.external},on:{input:function(t){return e.updatePath(t,n,s)}}}),t(yr.Z,{attrs:{label:"Operand","no-data-text":"No data. Select a path first",value:a.operand,items:e.getOperands(a),disabled:a.external},on:{input:function(t){return e.updateOperand(t,n,s)}}}),"is set"!==a.operand&&"is not set"!==a.operand?["is one of"!==a.operand&&"is none of"!==a.operand?[t(oc.Z,{attrs:{label:"Value",items:e.getPossibleValues(a),value:a.value,disabled:a.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]:[t(oc.Z,{attrs:{multiple:"",label:"Values",items:e.getPossibleValues(a),value:e.hasMultipleValues(a),disabled:a.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]]:e._e()],2):e._e()])]}}],null,!0)})]}}])})],1)},ed=[];let td=class extends s.ZP{mounted(){this.value&&!Array.isArray(this.value)&&this.emit([[this.value]])}getBlankCondition(){return{path:"",operand:"equals",value:""}}getOperands(e){const t=e.path;if(!t)return[];const n=this.getControl(t);let s=["equals","not equals","is one of","is none of","is set","is not set","contains","does not contain"];return"multiselect"===n?.options.type&&(s=["includes"]),"toggle"===n?.options.type&&(s=["is set","is not set"]),s.map((e=>({text:e,value:e})))}hasMultipleValues(e){return Array.isArray(e.value)?e.value:[]}get internalValue(){return this.value?Array.isArray(this.value)?this.value:[[this.value]]:[]}get paths(){const e=this.context.getPathsToAllControls().filter((e=>!e.includes("settings.animations")));return this.pathStartsWith?e.filter((e=>e.startsWith(this.pathStartsWith))).map((e=>e.replace(this.pathStartsWith,""))):e}getPossibleValues(e){const t=e.path;if(!t)return[];const n=this.getControl(t);if(!n)return[];const s=n.options.items?.map((e=>String(e.value)));return s||[]}getControl(e){return(0,De.AP)(this.context.element(),e)}updatePath(e,t,n){const s=(0,Me.Z)(this.internalValue);s[t][n].path=e,this.emit(s)}updateOperand(e,t,n){const s=(0,Me.Z)(this.internalValue);s[t][n].operand=e,this.emit(s)}updateValue(e,t,n){const s=(0,Me.Z)(this.internalValue);s[t][n].value=e,this.emit(s)}updateOrCondition(e,t){const n=(0,Me.Z)(this.internalValue);n[t]=e,this.emit(n)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],td.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:"Condition"})],td.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({default:"Only Show Control When Condition Is Met"})],td.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],td.prototype,"pathStartsWith",void 0),(0,r.gn)([(0,l.tB)("context")],td.prototype,"context",void 0),td=(0,r.gn)([(0,l.wA)({components:{Repeater:fc.Z}})],td);const nd=td,sd=nd;var ad=(0,q.Z)(sd,Jc,ed,!1,null,null,null);const id=ad.exports;var od=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-unit-options"},[t("h2",{staticClass:"mb-2"},[e._v("Unit Options")]),t("h3",[e._v("Allowed types")]),t(ac.Z,{attrs:{label:"Types",value:e.value&&e.value.types,items:e.availableTypes,multiple:!0,"hide-details":""},on:{input:e.updateTypes}}),t("h3",{staticClass:"mb-1"},[e._v("Default Type")]),t("DropdownInput",{attrs:{label:"Default Type",items:e.value&&e.value.types||[],value:e.value&&e.value.defaultType},on:{input:e.updateDefaultType}})],1)},rd=[],ld=n(16795);let cd=class extends s.ZP{constructor(){super(...arguments),this.control={options:{repeaterOptions:{titleTemplate:"Type",buttonName:"Add type"}}}}get internalValue(){return this.value||{}}get availableTypes(){return ld.qc}updateTypes(e){const t=(0,Me.Z)(this.internalValue);this.emit({...t,types:e})}updateDefaultType(e){const t=(0,Me.Z)(this.internalValue);this.emit({...t,defaultType:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],cd.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],cd.prototype,"context",void 0),cd=(0,r.gn)([(0,l.wA)({components:{Repeater:fc.Z,DropdownInput:Po.Z}})],cd);const dd=cd,ud=dd;var pd=(0,q.Z)(ud,od,rd,!1,null,null,null);const hd=pd.exports;var md=n(62231),gd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-range-options"},[t("h3",{staticClass:"mb-2"},[e._v("Range Options")]),t("div",{staticClass:"d-flex align-end"},[t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Step (fixed to 2 decimals) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.step},on:{input:function(t){return e.updateStep(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 mx-1 flex-column"},[e._v(" Min (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.min},on:{input:function(t){return e.updateMin(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Max (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.max},on:{input:function(t){return e.updateMax(t.target.value)}}})])])])},vd=[];let fd=class extends s.ZP{get internalValue(){return this.value||{min:void 0,max:void 0,step:void 0}}get inputClass(){return"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base"}updateStep(e){this.emit({...this.internalValue,step:e?(0,re.v)(e):void 0})}updateMin(e){this.emit({...this.internalValue,min:e?parseInt(e):void 0})}updateMax(e){this.emit({...this.internalValue,max:e?parseInt(e):void 0})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],fd.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],fd.prototype,"context",void 0),fd=(0,r.gn)([(0,l.wA)({components:{TextInput:vo.Z}})],fd);const yd=fd,bd=yd;var Sd=(0,q.Z)(bd,gd,vd,!1,null,null,null);const Pd=Sd.exports;var _d=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-repeater-options"},[t("h3",{staticClass:"mb-2"},[e._v("Repeater Options")]),t("div",[e._v(" Title Template "),t("TextInput",{attrs:{value:e.internalValue.titleTemplate},on:{input:function(t){return e.update(t,"titleTemplate")}}}),e.controlSlugs.length?t("div",{staticClass:"element-studio-repeater-options-variables"},[e._v(" Available variables: "),e._l(e.controlSlugs,(function(n){return t("span",{staticClass:"element-studio-repeater-options-variable",on:{click:function(t){return e.appendVariableToTitle(n)}}},[t("span",[e._v("{")]),e._v(e._s(n)),t("span",[e._v("}")])])}))],2):e._e()],1),t("div",{staticClass:"my-2"},[e._v(" Default Title "),t("TextInput",{attrs:{value:e.internalValue.defaultTitle},on:{input:function(t){return e.update(t,"defaultTitle")}}}),e._v(" Used as a fallback when the title template is blank. ")],1),t("div",[e._v(" Button Name "),t("TextInput",{attrs:{value:e.internalValue.buttonName},on:{input:function(t){return e.update(t,"buttonName")}}}),e._v(' Defaults to "Add Item". ')],1),t("div",[t(ic.Z,{staticClass:"mb-3",attrs:{label:"Enable gallery mode","hide-details":"","input-value":e.internalValue.galleryMode},on:{change:e.updateGalleryMode}}),e.internalValue.galleryMode?[t("h3",{staticClass:"mb-3"},[e._v("Gallery Media Path")]),t("DropdownInput",{attrs:{value:e.internalValue.galleryMediaPath,items:e.mediaControlSlugs},on:{input:function(t){return e.update(t,"galleryMediaPath")}}})]:e._e()],2)])},Cd=[];const wd={titleTemplate:"",defaultTitle:"",buttonName:""};let xd=class extends s.ZP{get internalValue(){return this.value||wd}get controlSlugs(){return this.control.children.map((e=>e.slug))}get mediaControlSlugs(){return this.control.children.filter((e=>"wpmedia"===e.options.type)).map((e=>e.slug))}appendVariableToTitle(e){const t=this.internalValue.titleTemplate,n=t.includes(`{${e}}`);if(n)return;const s=`${t} {${e}}`.trim();this.update(s,"titleTemplate")}update(e,t){this.emit({...this.internalValue,[t]:e??""})}updateGalleryMode(e){this.emit({...this.internalValue,galleryMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],xd.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],xd.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],xd.prototype,"control",void 0),xd=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,TextInput:vo.Z}})],xd);const kd=xd,Id=kd;var Ed=(0,q.Z)(Id,_d,Cd,!1,null,null,null);const Dd=Ed.exports;var Zd=n(84192),Td=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Dropdown options")]),"dropdown"===e.control.options.type?[this.element.htmlTag.options.length>0?t("NiceButton",{on:{click:e.populateWithHtmlTagOptions}},[e._v("Populate with HTML Tag Options")]):e._e(),t(ic.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate dropdown dynamically","hide-details":""},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?[t(Zd.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from a Repeater's Input")]),e.internalValue.populate.fetchDataAction?t("div",[e._v(" Populating from server data. To use items instead, clear those fields below. ")]):e.repeaterPaths.length?t("div",[t(oc.Z,{attrs:{label:"Path",items:e.repeaterPaths,value:e.internalValue.populate.path,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(oc.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(oc.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1):t("div",[t("h4",[e._v("No repeaters presenta")])]),t(Zd.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from server data")]),t(ja.Z,{attrs:{label:"Fetch data action route name",value:e.internalValue.populate.fetchDataAction,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchDataAction",t)}}}),t(oc.Z,{attrs:{label:"Fetch context path",items:e.controlPaths,value:e.internalValue.populate.fetchContextPath,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchContextPath",t)}}}),t("h3",[e._v("Refetch data if a control's value changes (specify path)")]),t("Repeater",{attrs:{value:e.internalValue.populate.refetchPaths},on:{input:e.updateRefetchPaths},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t(oc.Z,{staticClass:"mb-2",attrs:{items:e.controlPaths,value:e.internalValue.populate.refetchPaths[n],"hide-details":""},on:{input:function(t){return e.updateRefetchPath(n,t)}}})]}}],null,!1,3001308231)}),t(Zd.Z,{staticClass:"my-3"}),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the dropdown only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}})]:e._e()]:e._e(),e.internalValue.populate?e._e():[t("h3",{staticClass:"mb-2"},[e._v("Dropdown items")]),t("Repeater",{attrs:{path:e.path,value:e.dropdownItems,control:e.control},on:{input:e.updateDropdownItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.dropdownItems[n].text,testId:"element-studio-control-dropdown-label-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],text:t||""},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.dropdownItems[n].value,testId:"element-studio-control-dropdown-value-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],value:t||""},n)}}}),"button_bar"===e.control.options.type?t("div",{staticClass:"breakdance-dropdown-input d-flex mt-2"},[e.dropdownItems[n].icon?t("div",{staticClass:"mr-2 d-flex align-center"},[t("Icon",{attrs:{icon:e.dropdownItems[n].icon,size:"18"}})],1):e._e(),t("ElementStudioIconsAutocomplete",{attrs:{value:e.dropdownItems[n].icon},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],icon:t},n)}}})],1):e._e()]}}],null,!1,280151685)})]],2)},Ad=[],Bd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(ac.Z,{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{label:"Icon",dense:"",solo:"",flat:"",filled:"","hide-details":"",clearable:"",placeholder:"CloseIcon",items:e.iconNames,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Od=[],Rd=n(86059);let Md=class extends s.ZP{get iconNames(){return Rd.iconNames}};(0,r.gn)([(0,l.fI)()],Md.prototype,"value",void 0),Md=(0,r.gn)([(0,l.wA)({})],Md);const Fd=Md,Nd=Fd;var $d=(0,q.Z)(Nd,Bd,Od,!1,null,null,null);const Ld=$d.exports,Wd={path:"",text:"",value:"",condition:void 0,fetchDataAction:"",fetchContextPath:"",refetchPaths:[]};let Vd=class extends s.ZP{get internalValue(){return this.value||{}}get repeaterPaths(){return this.context.getPathsToAllControls(["repeater"])}get controlPaths(){return this.context.getPathsToAllControls()}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,De.AP)(this.element,e)}get populate(){return this.internalValue.populate||Wd}get dropdownItems(){return this.control.options.items||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateDropdownItems(e){this.$emit("updateDropdownItems",e)}updateDropdownItem(e,t){this.$emit("updateDropdownItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:Wd}):this.emit(void 0)}updateCondition(e){const t=(0,Me.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,Me.Z)(this.populate);n[e]=t,this.emit({populate:n})}updateRefetchPaths(e){const t=(0,Me.Z)(this.populate);t.refetchPaths=e.map((e=>"string"===typeof e?e:"")),this.emit({populate:t})}updateRefetchPath(e,t){const n=(0,Me.Z)(this.populate);n.refetchPaths&&(n.refetchPaths[e]=t,this.emit({populate:n}))}populateWithHtmlTagOptions(){if(!this.element.htmlTag.options)return;const e=this.element.htmlTag.options.map((e=>({text:e,value:e})));this.updateDropdownItems(e)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Vd.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Vd.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],Vd.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],Vd.prototype,"context",void 0),Vd=(0,r.gn)([(0,l.wA)({components:{NiceButton:Ki.Z,ElementStudioIconsAutocomplete:Ld,Icon:G.Z,DropdownInput:Po.Z,Dropdown:Ia.Z,ElementStudioConditionInput:id,Repeater:fc.Z,TextInput:vo.Z}})],Vd);const Hd=Vd,Ud=Hd;var zd=(0,q.Z)(Ud,Td,Ad,!1,null,null,null);const Gd=zd.exports;var Kd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Breakpoint options")]),e._v(" Support Multiple "),t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Support Multiple","input-value":e.value&&!!e.value.multiple,"hide-details":""},on:{change:e.updateMultiple}}),e._v(" Enable Never "),t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable Never","input-value":e.value&&!!e.value.enableNever,"hide-details":""},on:{change:e.updateEnableNever}})],1)},jd=[];let Xd=class extends s.ZP{updateMultiple(e){const t={...this.value,multiple:e};this.emit(t)}updateEnableNever(e){const t={...this.value,enableNever:e};this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Xd.prototype,"value",void 0),Xd=(0,r.gn)([(0,l.wA)({components:{}})],Xd);const qd=Xd,Yd=qd;var Qd=(0,q.Z)(Yd,Kd,jd,!1,null,null,null);const Jd=Qd.exports;var eu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-variable-options"},[t("h3",[e._v("Variables")]),t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable variables","input-value":e.internalValue.enabled,"hide-details":""},on:{change:e.toggleEnabled}}),e.internalValue.enabled?[t("Repeater",{attrs:{path:e.path,value:e.variables,control:e.control},on:{input:e.updateVariableItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.variables[n].label,testId:"element-studio-control-variable-label-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],label:t},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.variables[n].value,testId:"element-studio-control-variable-value-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],value:t},n)}}})]}}],null,!1,98037988)}),t(ic.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate variables based on a Repeater Input"},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?t("div",[t("div",[t(oc.Z,{attrs:{label:"Path",items:e.paths,value:e.internalValue.populate.path},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(oc.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(oc.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the variable only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}}),t(Zd.Z)],1):e._e()]:e._e()],2)},tu=[];const nu={path:"",text:"",value:"",condition:void 0};let su=class extends s.ZP{constructor(){super(...arguments),this.enabled=!1}get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["repeater"])}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,De.AP)(this.element,e)}get populate(){return this.internalValue.populate||nu}get variables(){return this.control.options.variableItems||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateVariableItems(e){this.$emit("updateVariableItems",e)}updateVariableItem(e,t){this.$emit("updateVariableItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:nu}):this.emit({populate:void 0})}updateCondition(e){const t=(0,Me.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,Me.Z)(this.populate);n[e]=t,this.emit({populate:n})}toggleEnabled(e){this.emit({enabled:e})}emit(e){this.$emit("input",{...this.internalValue,...e})}};(0,r.gn)([(0,l.fI)()],su.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],su.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],su.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],su.prototype,"context",void 0),su=(0,r.gn)([(0,l.wA)({components:{NiceButton:Ki.Z,ElementStudioIconsAutocomplete:Ld,Icon:G.Z,ElementStudioConditionInput:id,Repeater:fc.Z,TextInput:vo.Z}})],su);const au=su,iu=au;var ou=(0,q.Z)(iu,eu,tu,!1,null,null,null);const ru=ou.exports;var lu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("WP Media Options")]),t(ic.Z,{attrs:{label:"Enable gallery mode","input-value":e.internalValue.multiple,"hide-details":""},on:{change:e.updateMultiple}})],1),t(ic.Z,{attrs:{label:"Allow only certain file types","input-value":e.fileTypesEnabled,"hide-details":""},on:{change:e.updateEnableFileTypes}}),e.fileTypesEnabled?t(ac.Z,{staticClass:"mt-2",attrs:{label:"Accepted File Types",value:e.internalValue.acceptedFileTypes,items:e.types,multiple:!0,hint:"All file types are allowed by default."},on:{input:e.updateType}}):e._e()],1)},cu=[],du=n(665);const uu={acceptedFileTypes:void 0,multiple:!1};let pu=class extends s.ZP{get fileTypesEnabled(){return Array.isArray(this.internalValue.acceptedFileTypes)}get types(){return du.n_.types.map((e=>e.value))}get internalValue(){return this.value||uu}updateType(e){this.emit({...this.internalValue,acceptedFileTypes:e})}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}updateEnableFileTypes(e){e?this.updateType([]):this.updateType(void 0)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],pu.prototype,"value",void 0),pu=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,Repeater:fc.Z}})],pu);const hu=pu,mu=hu;var gu=(0,q.Z)(mu,lu,cu,!1,null,null,null);const vu=gu.exports;var fu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-size-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Media Size Options")]),t(oc.Z,{attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,hint:"Will only show an image's available sizes. Use [] when inside a repeater.","persistent-hint":"",clearable:""},on:{input:e.updatePath}}),e.internalValue.imagePropertyPath?t(ic.Z,{staticClass:"mb-3 mt-2",attrs:{"input-value":e.internalValue.disableSrcset,label:"Don't add srcset attribute to the Image object","persistent-hint":"","hide-details":""},on:{change:e.toggleSrcset}}):e._e()],1)])},yu=[];let bu=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}toggleSrcset(e){this.emit({...this.internalValue,disableSrcset:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],bu.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],bu.prototype,"value",void 0),bu=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,Repeater:fc.Z}})],bu);const Su=bu,Pu=Su;var _u=(0,q.Z)(Pu,fu,yu,!1,null,null,null);const Cu=_u.exports;var wu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-icon-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Icon Options")]),t(oc.Z,{attrs:{clearable:"",multiple:"",value:e.internalValue.suggestions,label:"Suggestions"},on:{input:e.updateSuggestions}})],1)])},xu=[];let ku=class extends s.ZP{get internalValue(){return this.value||{}}updateSuggestions(e){this.emit({...this.internalValue,suggestions:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],ku.prototype,"value",void 0),ku=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,Repeater:fc.Z}})],ku);const Iu=ku,Eu=Iu;var Du=(0,q.Z)(Eu,wu,xu,!1,null,null,null);const Zu=Du.exports;function Tu(e,t){function n(e,n,s,a){let i="";return i="control"===a?`${t}.${n}_${s}.%%BREAKPOINT%%`:"complex"===a?`${t}.${n}.%%BREAKPOINT%%.${s}`:`${t}.${n}.${s}`,{location:`${e}-${s}`,cssProperty:`${n}-${s}`,affectedPropertyPath:i}}const s=[n("outside","margin","top","complex"),n("outside","margin","bottom","complex"),n("outside","margin","right","complex"),n("outside","margin","left","complex")],a=[n("inside","padding","top","complex"),n("inside","padding","bottom","complex"),n("inside","padding","right","complex"),n("inside","padding","left","complex")],i=[n("outside","margin","top","control"),n("outside","margin","bottom","control")],o=[n("outside","margin","right","control"),n("outside","margin","left","control")],r=[n("inside","padding","top","control"),n("inside","padding","bottom","control")],l=[n("inside","padding","right","control"),n("inside","padding","left","control")],c=[n("outside","margin","top","not_responsive"),n("outside","margin","bottom","not_responsive"),n("outside","margin","right","not_responsive"),n("outside","margin","left","not_responsive"),n("inside","padding","top","not_responsive"),n("inside","padding","bottom","not_responsive"),n("inside","padding","right","not_responsive"),n("inside","padding","left","not_responsive")];switch(e){case"spacing_all":return[...s,...a];case"spacing_all_y":return[...i,...r];case"spacing_all_x":return[...o,...l];case"spacing_margin_all":return s;case"spacing_margin_y":return i;case"spacing_margin_x":return o;case"spacing_padding_all":return a;case"spacing_padding_y":return r;case"spacing_padding_x":return l;case"spacing_all_not_responsive":return c}}var Au=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-post-chooser-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Post Chooser Options")]),t("div",{staticClass:"mt-2"},[t("h4",{staticClass:"mb-1"},[e._v("Post Type")]),t("TextInput",{attrs:{value:e.internalValue.postType},on:{input:function(t){return e.update("postType",t)}}})],1),t(ic.Z,{attrs:{label:"Multiple","input-value":e.internalValue.multiple,"hide-details":""},on:{change:function(t){return e.update("multiple",t)}}}),t(ic.Z,{attrs:{label:"Show Thumbnails","input-value":e.internalValue.showThumbnails,"hide-details":""},on:{change:function(t){return e.update("showThumbnails",t)}}})],1)])},Bu=[];const Ou={multiple:!1,showThumbnails:!1,postType:"post"};let Ru=class extends s.ZP{get internalValue(){return this.value||Ou}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}update(e,t){this.emit({...this.internalValue,[e]:t??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Ru.prototype,"value",void 0),Ru=(0,r.gn)([(0,l.wA)({components:{TextInput:vo.Z,DropdownInput:Po.Z,Repeater:fc.Z}})],Ru);const Mu=Ru,Fu=Mu;var Nu=(0,q.Z)(Fu,Au,Bu,!1,null,null,null);const $u=Nu.exports;var Lu=n(950),Wu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Video Options")]),t(ac.Z,{attrs:{label:"Providers",value:e.internalValue.providers,items:e.types,multiple:!0,hint:"All providers are allowed by default."},on:{input:e.updateProviders}})],1)},Vu=[];const Hu={providers:[]};let Uu=class extends s.ZP{get types(){return hc.Ru.types.map((e=>e.value))}get internalValue(){return this.value||Hu}updateProviders(e){this.emit({...this.internalValue,providers:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Uu.prototype,"value",void 0),Uu=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,Repeater:fc.Z}})],Uu);const zu=Uu,Gu=zu;var Ku=(0,q.Z)(Gu,Wu,Vu,!1,null,null,null);const ju=Ku.exports;var Xu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Alert Box Options")]),t("DropdownInput",{staticClass:"mb-4",attrs:{placeholder:"Style",items:e.styles,value:e.internalValue.style},on:{input:e.updateStyle}}),t("TipTapWrapper",{attrs:{value:e.internalValue.content},on:{input:e.updateContent}})],1)},qu=[],Yu=n(46026);const Qu={style:"default",content:""};let Ju=class extends s.ZP{get internalValue(){return this.value||Qu}get styles(){return hc.wu.types.map((e=>e.value))}updateStyle(e){this.emit({...this.internalValue,style:e})}updateContent(e){this.emit({...this.internalValue,content:e??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Ju.prototype,"value",void 0),Ju=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z,TipTapWrapper:Yu.Z}})],Ju);const ep=Ju,tp=ep;var np=(0,q.Z)(tp,Xu,qu,!1,null,null,null);const sp=np.exports;var ap=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-focus-point-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Focus Point Options")]),t(ic.Z,{staticClass:"mb-3",attrs:{label:"Enable Grid Mode","hide-details":"","input-value":e.internalValue.gridMode},on:{change:e.updateGridMode}}),t(ac.Z,{staticClass:"mb-2",attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,"persistent-hint":"",hint:"Shows an image as background of this input",clearable:"",disabled:e.internalValue.gridMode},on:{input:e.updatePath}}),e.internalValue.gridMode?t("AlertBox",{attrs:{options:{type:"info",content:"Not available when grid mode is enabled."}}}):e._e()],1)},ip=[];let op=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}updateGridMode(e){this.emit({...this.internalValue,gridMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],op.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],op.prototype,"value",void 0),op=(0,r.gn)([(0,l.wA)({components:{AlertBox:Kr.Z,DropdownInput:Po.Z,Repeater:fc.Z}})],op);const rp=op,lp=rp;var cp=(0,q.Z)(lp,ap,ip,!1,null,null,null);const dp=cp.exports;var up=n(78143),pp=n(31304),hp=n.n(pp);async function mp(e,t,n,s){return await(0,D.D)({action:"breakdance_save_preset",dataToPost:{directoryPath:t,filename:n,preset:(0,up.Tb)((0,up.HE)(s),e.section,(0,Kl.$_)(s))},decoder:Z._4})}function gp(e,t){return`${e}\\${hp()(t)}`}var vp=n(3735),fp=n(48973),yp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-hide-control-input"},[t(ic.Z,{attrs:{"input-value":!!e.value,label:"Hide Control From Specific Elements","hide-details":""},on:{change:e.toggleControl}}),e.value?t(oc.Z,{attrs:{label:"Elements",items:e.items,value:e.value,multiple:""},on:{input:e.updateValue}}):e._e()],1)},bp=[];let Sp=class extends s.ZP{get items(){return Object.keys(vt.PK.elements)}toggleControl(e){e?this.$emit("input",[]):this.$emit("remove")}updateValue(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Sp.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Sp.prototype,"context",void 0),Sp=(0,r.gn)([(0,l.wA)({})],Sp);const Pp=Sp,_p=Pp;var Cp=(0,q.Z)(_p,yp,bp,!1,null,null,null);const wp=Cp.exports;let xp=class extends s.ZP{constructor(){super(...arguments),this.codeHelpOpen=!1,this.showContentEditableCode=!1,this.showNewPresetDialog=!1,this.accordionState=[!1]}get canHaveMediaQueries(){return!!this.parentControl?.enableMediaQueries}get parentType(){return this.parentControl?.options.type}get keyToRerenderCodeHelp(){const e=(0,il.g)(this.value);return(0,md.X)(`${e}`)}get isPresetSection(){return!!this.presetSectionSlug}get presetSectionSlug(){return this.value.options.sectionOptions?.preset?.slug}get isSection(){return"section"===this.value.options.type}get isRepeater(){return(0,De.W5)(this.value.options.type)}get isParentARepeater(){return(0,De.W5)(this.parentType)}get controlAcceptsChildren(){return(0,De.v4)(this.value.options.type)}get isInContentTab(){return this.path.startsWith("contentSections")}get spacingBarPresetSlug(){if(this.isSection)return ae.Cn.find((e=>e===this.value.options?.sectionOptions?.preset?.slug))}get classList(){return{"element-studio-control-or-control-section":!0,"element-studio-control-section":!0,"element-studio-control":!this.controlAcceptsChildren}}get dynamicPropertyPath(){const e=this.context.element().dynamicPropertyPaths;if(!e)return!1;const t=e.find((e=>(0,ge.rg)(e.path)===this.twigPathWithoutRepeaterIndex));return t}get twigPathWithoutRepeaterIndex(){return(0,ge.rg)(`${this.twigParentPath}${this.isParentARepeater?"[]":""}.${this.value.slug}`)}get dynamicPathAcceptsItems(){return(0,ge.cS)()}get contentEditableHelperCode(){return`// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `}get twigPathForContentEditable(){return this.isRepeater||this.isParentARepeater?`{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`:`{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`}get datePickerOptions(){return Object.keys(hc.Fl.props)}get elementStudioData(){return this.context.getElementStudioData()}async saveNewPreset(e){if(!this.isSection)return;const t=hp()(e.name),n=gp(e.namespace,t);if(this.elementStudioData.presets.find((e=>e.slug===n)))return void(0,Kl.O6)(this.elementStudioData.saveLocations,e,"preset");const s=this.value;s.options.sectionOptions={...s.options.sectionOptions,preset:{slug:n}},(0,vp.zG)(await mp({slug:n,section:s},e.directoryPath,t,n),(0,fp.g_)((e=>{console.error(e),fe.Z.log.message("Failed to save element, check console")}),(()=>{const t=(0,Me.Z)(this.elementStudioData);t.presets.push({slug:n,directoryPath:e.directoryPath}),t.presetSections.push({slug:n,section:s}),this.context.updateElementStudioData(t),this.context.updateControl(this.parentPath,this.index,s)})))}toggleAccordion(e){s.ZP.set(this.accordionState,e,!this.accordionState[e])}handleDrag(e){this.context.replaceControls(`${this.path}.children`,e)}get canPaste(){return this.controlAcceptsChildren&&!this.isPresetSection&&c.kD.clipboard.elementStudio&&c.kD.clipboard.elementStudio.copiedControl}get canReplace(){if(!c.kD.clipboard.elementStudio||!c.kD.clipboard.elementStudio.copiedControl)return!1;const e=c.kD.clipboard.elementStudio.copiedControl;return!this.isSection||"section"===e.options.type}handlePaste(){if(!this.controlAcceptsChildren)return;if(!c.kD.clipboard.elementStudio)return;const e=c.kD.clipboard.elementStudio.copiedControl;e&&this.context.pasteControl(`${this.path}.children`,e)}handleReplace(){if(!c.kD.clipboard.elementStudio)return;const e=c.kD.clipboard.elementStudio.copiedControl;e&&this.context.updateControl(this.parentPath,this.index,e)}handleMakePreset(){this.showNewPresetDialog=!0}get controlTypes(){const e=e=>e.charAt(0).toUpperCase()+e.slice(1),t=[];return hc.F4.sort().filter(this.removeDisallowedControlTypes).map((t=>({text:e(t),value:t}))).map((e=>this.isInContentTab&&t.includes(e.value)?{...e,disabled:!0}:e))}copy(){const e=(0,Me.Z)(this.value);c.kD.copyElementStudioControl(e)}get availablePresetSections(){return this.context.getPresetSections().map((e=>({text:e.slug,value:e.slug})))}updatePresetSectionSlug(e){const t=(0,Me.Z)(this.context.getPresetSection(e));void 0!==t&&(t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"},this.context.updateControl(this.parentPath,this.index,t.section),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(t.section.options.sectionOptions,t.section.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(t.section.options.sectionOptions,t.section.slug))}turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e,t){if(!e||!e.preset?.relativePropertyPathsToWhitelistInFlatProps)return;const n=t||(0,up.HE)(t);let s=(0,Me.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);const a=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${n}.${e}`)),i=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${this.value.slug}.${e}`));s?(s=s.filter((e=>!a.includes(e)&&!i.includes(e))),s=[...s,...a]):s=a,(0,Je.n)((()=>this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",s)))}turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e,t){if(!e||!e.preset?.relativeDynamicPropertyPaths)return;const n=t||(0,up.HE)(t);let s=(0,Me.Z)(this.context.element().dynamicPropertyPaths);const a=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${n}.${e.path}`}))),i=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${this.value.slug}.${e.path}`})));s?(s=s.filter((e=>!a.some((t=>t.path===e.path))&&!i.some((t=>t.path===e.path)))),s=[...s,...a]):s=a,(0,Je.n)((()=>this.context.updateElementValue("dynamicPropertyPaths",s)))}removeDisallowedControlTypes(e){const t=["class","font_family","global_colors","message"];return!t.includes(e)}addControl(){this.context.addControl(this.path)}deleteControl(){this.context.deleteControl(this.parentPath,this.index)}updateControlType(e){const t=(0,Me.Z)(this.value);if(t.options.type=e,!this.isInContentTab){const n=["code","repeater","inline_repeater","spacing_complex","border_complex","gradient","icon","richtext","shadow","wpmedia","text","focus_point","url"];n.includes(e)?t.options.layout="vertical":t.options.layout="inline"}this.context.updateControl(this.parentPath,this.index,t)}updateVariableItems(e){const t=(0,Me.Z)(this.value);t.options.variableItems=e,this.context.updateControl(this.parentPath,this.index,t)}updateVariableItem({newItem:e,index:t}){const n=(0,Me.Z)(this.value);n.options.variableItems||(n.options.variableItems=[]),n.options.variableItems[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDropdownItems(e){const t=(0,Me.Z)(this.value);t.options.items=e,this.context.updateControl(this.parentPath,this.index,t)}updateDropdownItem({newItem:e,index:t}){const n=(0,Me.Z)(this.value);n.options.items||(n.options.items=[]),n.options.items[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateOptions(e,t){const n=(0,Me.Z)(this.value),s=`options.${t}`;ne()(n,s,e),this.context.updateControl(this.parentPath,this.index,n)}get availableDescendantElements(){return Object.values(c.PK.elements).filter((e=>!!e&&(!e.nestingRule.restrictedToBeADirectChildOf&&(0,Ze.V4)(e.nestingRule,this.context.element().nestingRule,this.context.element().slug)))).map((e=>e?.slug))}updateAddExtraElementsBySlug(e){const t=(0,Me.Z)(this.value);t.options.addRegisteredChildrenOptions={...t.options.addRegisteredChildrenOptions,addExtraElementsBySlug:e},this.context.updateControl(this.parentPath,this.index,t)}get autofocusSupported(){switch(this.value.options.type){case"text":return!0;case"video":return!0;default:return!1}}get codeTypes(){return["css","html","javascript","x-php"]}updateCodeType(e){const t=(0,Me.Z)(this.value);t.options.codeOptions={...t.options.codeOptions,language:e},this.context.updateControl(this.parentPath,this.index,t)}get shadowTypes(){return hc.bB.props.type.types.map((e=>e.value))}updateShadowType(e){const t=(0,Me.Z)(this.value);t.options.shadowOptions={...t.options.shadowOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateTextOptionsMultiline(e){const t=(0,Me.Z)(this.value);t.options.textOptions={...t.options.textOptions,multiline:e},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsSize(e){const t=(0,Me.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,size:e?"big":"small",layout:"default"},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsLayout(e){const t=(0,Me.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,layout:e?"multiline":"default",size:"small"},this.context.updateControl(this.parentPath,this.index,t)}addPreset(){this.context.addPreset(this.path)}get controlLayouts(){return["inline","vertical"]}updateControlLayout(e){const t=(0,Me.Z)(this.value);t.options.layout=e,this.context.updateControl(this.parentPath,this.index,t)}updateKeywords(e){const t=(0,Me.Z)(this.value);t.keywords=null===e?void 0:e.split(","),this.context.updateControl(this.parentPath,this.index,t)}get keywordsValue(){return this.value.keywords?this.value.keywords.join(","):""}updatePlaceholder(e){const t=(0,Me.Z)(this.value);t.options.placeholder=e??void 0,this.context.updateControl(this.parentPath,this.index,t)}updateColorType(e){const t=(0,Me.Z)(this.value);t.options.colorOptions={...t.options.colorOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateConditions(e){const t=(0,Me.Z)(this.value);Array.isArray(e)&&!e.length?delete t.options.condition:t.options.condition=e,this.context.updateControl(this.parentPath,this.index,t)}updateHideForElements(e){const t=(0,Me.Z)(this.value);t.options.hideForElements=e,this.context.updateControl(this.parentPath,this.index,t)}deleteHideForElements(){const e=(0,Me.Z)(this.value);delete e.options.hideForElements,this.context.updateControl(this.parentPath,this.index,e)}get sectionLayouts(){return hc.Pk}updateSectionLayoutType(e="accordion"){const t=(0,Me.Z)(this.value);t.options.sectionOptions={...t.options.sectionOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateLabelAndSlugOnFocusOut(e){const t=e.target.value,n=(0,Me.Z)(this.value);n.label=t,n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug=`slug_cant_start_with_number_${n.slug}`),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}updateControlBoolean(e,t){const n=(0,Me.Z)(this.value);n[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDynamicPropertyPaths(e,t="string",n=!1){let s=(0,Me.Z)(this.context.element().dynamicPropertyPaths);s&&(s=s.filter((e=>e.path!==this.twigPathWithoutRepeaterIndex))),e&&(s||(s=[]),s.push({accepts:t,path:this.twigPathWithoutRepeaterIndex,...n&&{proOnly:n}})),this.context.updateElementValue("dynamicPropertyPaths",s)}isSpacingBarEnabled(){const e=this.context.element().spacingBars;if(!e||!e.length)return!1;if(!this.spacingBarPresetSlug)return!1;const t=Tu(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex).map((e=>e.affectedPropertyPath)),n=e.find((e=>t.includes(e.affectedPropertyPath)));return!!n}updateSpacingBar(e){if(!this.spacingBarPresetSlug)return;let t=(0,Me.Z)(this.context.element().spacingBars);const n=Tu(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex);if(e)t||(t=[]),t=[...t,...n];else if(t){const e=n.map((e=>e.affectedPropertyPath));t=t.filter((t=>!e.includes(t.affectedPropertyPath)))}this.context.updateElementValue("spacingBars",t)}updateElementPropertiesNotTiedToControl(e){(0,Je.n)((()=>this.updateSpacingBar(!1))),(0,Je.n)((()=>this.updateDynamicPropertyPaths(!1))),(0,Je.n)((()=>this.updatePropertyPathsToWhitelistInFlatProps(!1))),(0,Je.n)((()=>this.updatePropertyPathsToSsrElementWhenValueChanges(!1))),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e.options.sectionOptions,e.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e.options.sectionOptions,e.slug)}get shouldControlValueBeAddedInAllBreakpoints(){const e=this.context.element().propertyPathsToWhitelistInFlatProps;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToWhitelistInFlatProps(e){let t=(0,Me.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);if(e)t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex);else if(t){const e=t.findIndex((e=>e===this.twigPathWithoutRepeaterIndex));e>-1&&t.splice(e,1)}this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",t)}get hasSsr(){return this.context.element().template.includes("%%SSR%%")}get shouldControlValueCauseSsr(){const e=this.context.element().propertyPathsToSsrElementWhenValueChanges;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToSsrElementWhenValueChanges(e){let t=(0,Me.Z)(this.context.element().propertyPathsToSsrElementWhenValueChanges);e?(t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex)):t&&(t=t.filter((e=>e!==this.twigPathWithoutRepeaterIndex))),this.context.updateElementValue("propertyPathsToSsrElementWhenValueChanges",t)}};(0,r.gn)([(0,l.fI)()],xp.prototype,"path",void 0),(0,r.gn)([(0,l.fI)()],xp.prototype,"parentPath",void 0),(0,r.gn)([(0,l.fI)()],xp.prototype,"index",void 0),(0,r.gn)([(0,l.fI)()],xp.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],xp.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],xp.prototype,"parentControl",void 0),(0,r.gn)([(0,l.tB)("context")],xp.prototype,"context",void 0),xp=(0,r.gn)([(0,l.wA)({name:"ControlSectionOrControl",components:{ElementStudioHideControlInput:wp,ElementStudioSaveNewDialog:Ql,ElementStudioFocusPointOptions:dp,ElementStudioVideoOptions:ju,ElementStudioIconsAutocomplete:Ld,IconButton:ka.Z,InlineRepeater:Lu.Z,ElementStudioBreakpointOptions:Jd,Icon:G.Z,ElementStudioIconOptions:Zu,ElementStudioMediaSizeOptions:Cu,ElementStudioMediaOptions:vu,ElementStudioPostChooserOptions:$u,TextInput:vo.Z,Copyable:Oc,ElementStudioDropdownOptions:Gd,ElementStudioVariableOptions:ru,DropdownInput:Po.Z,ElementStudioRepeaterOptions:Dd,ElementStudioRangeOptions:Pd,Dropdown:Ia.Z,CopyButton:xc.Z,ShittyTextInput:wc,Repeater:fc.Z,ControlSectionOrControl:xp,draggable:gc(),Accordion:vc.Z,TwigCodeHelper:Qc,ElementStudioConditionInput:id,ElementStudioUnitOptions:hd,ElementStudioAlertBoxOptions:sp}})],xp);const kp=xp,Ip=kp;var Ep=(0,q.Z)(Ip,uc,pc,!1,null,null,null);const Dp=Ep.exports;let Zp=class extends s.ZP{get sectionName(){return`${this.section}Sections`}handleDrag(e){this.context.replaceControls(this.sectionName,e)}get canPaste(){return vt.kD.clipboard.elementStudio&&vt.kD.clipboard.elementStudio.copiedControl}handlePaste(){if(!vt.kD.clipboard.elementStudio)return;const e=vt.kD.clipboard.elementStudio.copiedControl;e&&this.context.pasteControl(this.sectionName,e)}addSection(){this.context.addControl(this.sectionName,"section")}addPreset(){this.context.addPreset(this.sectionName)}};(0,r.gn)([(0,l.fI)()],Zp.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Zp.prototype,"section",void 0),(0,r.gn)([(0,l.tB)("context")],Zp.prototype,"context",void 0),Zp=(0,r.gn)([(0,l.wA)({components:{ControlSectionOrControl:Dp,draggable:gc()}})],Zp);const Tp=Zp,Ap=Tp;var Bp=(0,q.Z)(Ap,cc,dc,!1,null,null,null);const Op=Bp.exports;var Rp=n(29706),Mp=n(85256),Fp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Dependencies "),t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{title}",defaultTitle:"Dependency"}}}},on:{input:function(t){return e.updateDependenciesRoot(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(ja.Z,{attrs:{label:"Title",value:s.title},on:{input:function(t){return e.updateDependency(t,`[${n}].title`)}}}),t("Accordion",{attrs:{expanded:"scripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("scripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Scripts ("+e._s(s.scripts?s.scripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.scripts,control:{options:{repeaterOptions:{titleTemplate:"URL to script"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].scripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(ac.Z,{attrs:{placeholder:"Script",value:a,items:e.jsLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}}),!a||e.dependencyIsNotLocal(a,e.jsLocalDependencies)?t("div",[t("div",a?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:a},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}})],1):e._e(),t(Es.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineScripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineScripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Scripts ("+e._s(s.inlineScripts?s.inlineScripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.inlineScripts,control:{options:{repeaterOptions:{titleTemplate:"JavaScript"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineScripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("div",{staticClass:"element-studio__execute-inline-script-dependencies"},[t(Es.Z,{attrs:{small:"",outlined:""},on:{click:function(t){return e.executeInlineScript(`[${n}].inlineScripts[${s}]`)}}},[e._v(" Execute code ")])],1),t("CodeInput",{attrs:{value:a,language:"javascript","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineScripts[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"styles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("styles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Styles ("+e._s(s.styles?s.styles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.styles,control:{options:{repeaterOptions:{titleTemplate:"URL to style"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].styles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(ac.Z,{attrs:{placeholder:"Style",value:a,items:e.cssLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}}),!a||e.dependencyIsNotLocal(a,e.cssLocalDependencies)?t("div",[t("div",a?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:a},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}})],1):e._e(),t(Es.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineStyles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineStyles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Styles ("+e._s(s.inlineStyles?s.inlineStyles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{path:"inlineStyles",value:s.inlineStyles,control:{options:{repeaterOptions:{titleTemplate:"CSS"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineStyles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("CodeInput",{attrs:{value:a,language:"css","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineStyles[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("div",{staticClass:"element-studio-dependencies-separator"}),t("Accordion",{attrs:{expanded:"builderCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("builderCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Builder Condition ("+e._s(s.builderCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.builderCondition,language:"javascript","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].builderCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the builder")]}))],2),t("div",{staticClass:"mt-2"},[e._v(" Can run Twig and JS code. ")]),t("div",[e._v(" When left empty the dependencies will always be added. ")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"frontendCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("frontendCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Frontend Condition ("+e._s(s.frontendCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.frontendCondition,language:"x-php","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].frontendCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the frontend")]}))],2),t("div",{staticClass:"mt-2"},[e._v(" Can run Twig and PHP code. ")]),t("div",[e._v(" When left empty the dependencies will always be added. ")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)})]}}])})],1)},Np=[],$p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex align-center"},[t("Icon",{staticClass:"mr-2",attrs:{icon:"ChevronDownIcon",rotate:e.open?"90":void 0,size:"12"}}),t("b",[e._t("default")],2)],1)},Lp=[];let Wp=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Wp.prototype,"open",void 0),Wp=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z}})],Wp);const Vp=Wp,Hp=Vp;var Up=(0,q.Z)(Hp,$p,Lp,!1,null,null,null);const zp=Up.exports;var Gp=n(36300);const Kp=Z.G0([Z.i0("id"),Z.i0("parentId"),Z.i0("selector"),Z.i0("parent_selector"),Z.i0("postId"),Z.i0("ssr")]),jp=Kp.types.map((({value:e})=>e));let Xp=class extends s.ZP{constructor(){super(...arguments),this.accordionState="",this.index=0,this.conditionInfoOpen=!1}get tags(){return jp}get twigVariables(){return this.context.getPathsToAllControls()}async mounted(){vt.PK.localDependenciesFiles.length||await this.getLocalDependenciesFilesFromWordpress()}async getLocalDependenciesFilesFromWordpress(){(0,W.pipe)(await(0,D.D)({action:"breakdance_get_local_dependency_files",decoder:Z.IX(T.xY),resultKey:"localDependencyFiles"}),(0,V.fold)((e=>e.forEach((e=>fe.Z.log.message(e.msg)))),(e=>{vt.PK.setLocalDependenciesFiles(e)})))}updateDependenciesRoot(e){this.context.updateDependency(e)}updateDependencies(e,t){const n=(0,Me.Z)(this.value)||[];ne()(n,t,e.map((e=>"string"===typeof e?e:""))),this.context.updateDependency(n)}updateDependency(e,t){const n=(0,Me.Z)(this.value)||[];ne()(n,t,e),this.context.updateDependency(n)}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}executeInlineScript(e){const t=b()(this.value,e);t&&(0,Gp.Oz)((0,Ee.RY)(),{code:t,origin:"Executed inline script from Element Studio"})}dependencyIsNotLocal(e,t){return!t.find((t=>"value"in t&&t.value===e))}get jsLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("js")}get cssLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("css")}localDependenciesAsVuetifySelectShape(e){const t=[];return vt.PK.localDependenciesFiles.forEach((n=>{n.files[e].length&&(t.push({header:n.name}),n.files[e].forEach((e=>{t.push({text:e.name,value:e.url})})))})),t}};(0,r.gn)([(0,l.fI)()],Xp.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Xp.prototype,"context",void 0),Xp=(0,r.gn)([(0,l.wA)({components:{TextInput:vo.Z,TextWithChevron:zp,CodeInput:Rp.Z,Accordion:vc.Z,ShittyTextInput:wc,Repeater:fc.Z}})],Xp);const qp=Xp,Yp=qp;var Qp=(0,q.Z)(Yp,Fp,Np,!1,null,null,null);const Jp=Qp.exports,eh=e=>{const t=(0,Me.Z)(e),n=th(t);return n.controls.settingsSections=[],n.cssTemplate=n.cssTemplate.split("\n{#%---")[0],n};function th(e){const t=(0,Me.Z)(e);return(0,Mp.f)(t.controls).forEach((e=>{t.controls[e]=t.controls[e].filter((e=>!e.options.isExternal))})),t}var nh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Accordion",{attrs:{expanded:e.accordionState===e.actionKey},on:{toggle:e.toggleAccordion},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" "+e._s(e.actionName)+" ("+e._s(e.value&&e.value[e.actionKey]?e.value[e.actionKey].length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("b",[e._t("action-description")],2),t("Repeater",{attrs:{value:e.value[e.actionKey],control:{options:{repeaterOptions:{titleTemplate:"Script",buttonName:"Add script"}}},"default-new-value":{script:""}},on:{input:function(t){return e.updateActions(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("CodeInput",{attrs:{language:"javascript",value:s.script,"twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateAction(t||"",`${e.actionKey}[${n}].script`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.actionInfoOpen},on:{click:function(t){e.actionInfoOpen=!e.actionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.actionInfoOpen}},[e._t("default",(function(){return[e._v(" Available within the action's code: ")]}))],2),"onAfterDeletedElement"===e.actionKey?[t("div",{staticClass:"mt-3"},[e._v(" Tags: "),t("code",[e._v("%%PARENT_SELECTOR%%")]),e._v(" and "),t("code",[e._v("%%PARENT_ID%%")]),e._v(" are available. ")])]:[t("div",{staticClass:"mt-3"},[e._v(" You can use Twig to access the element properties. eg. "),t("code",[e._v("{ { design.background.color } }")]),e._v(". ")]),t("div",{staticClass:"mt-3"},[t("code",[e._v("%%SELECTOR%%, %%ID%%")]),e._v(" are also available. ")])]],2),e.withDependencies?t("Repeater",{attrs:{value:s.dependencies,control:{options:{repeaterOptions:{titleTemplate:"Dependency",buttonName:"Add dependency"}}}},on:{input:function(t){return e.updateDependencies(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(oc.Z,{attrs:{items:e.pathsToAllControls,value:a},on:{input:function(t){return e.updateDependency(t,`${e.actionKey}[${n}].dependencies[${s}]`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.dependencyInfoOpen},on:{click:function(t){e.dependencyInfoOpen=!e.dependencyInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.dependencyInfoOpen}},[e._t("default",(function(){return[e._t("dependency-description-title")]}))],2),t("div",{staticClass:"mt-2"},[e._t("dependency-description")],2)],1)]}}],null,!0)}):e._e(),t(ic.Z,{attrs:{"input-value":s.runForAllChildren,label:"Run for all children",hint:"beware that the Twig code running in the action will be with the child's data, including tags","persistent-hint":""},on:{change:function(t){return e.updateAction(t,`${e.actionKey}[${n}].runForAllChildren`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)})],1)},sh=[],ah=n(45021),ih=n.n(ah);let oh=class extends s.ZP{constructor(){super(...arguments),this.index=0,this.actionInfoOpen=!1,this.dependencyInfoOpen=!1}get actionName(){return ih()(this.actionKey)}get tags(){return jp}get twigVariables(){return this.context.getPathsToAllControls()}toggleAccordion(){this.$emit("toggle",this.accordionState===this.actionKey?"":this.actionKey)}getValueOrDefault(e){let t=(0,Me.Z)(this.value);return t?t[e]||(t[e]=[{script:""}]):t={[e]:[{script:""}]},t}updateActions(e){const t=this.getValueOrDefault(this.actionKey);t[this.actionKey]=e,this.context.updateActions(t)}updateAction(e,t){const n=(0,Me.Z)(this.value);ne()(n,t,e),this.context.updateActions(n)}updateDependencies(e,t){const n=this.getValueOrDefault(this.actionKey);let s=n[this.actionKey];s||(s=[]),s[t].dependencies=e.map((e=>"string"===typeof e?e:"")),n[this.actionKey]=s,this.context.updateActions(n)}get pathsToAllControls(){const e=this.context.element().controls;return[e.designSections.length?"design":null,e.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}updateDependency(e,t){const n=(0,Me.Z)(this.value);ne()(n,t,e),this.context.updateActions(n)}};(0,r.gn)([(0,l.fI)()],oh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],oh.prototype,"actionKey",void 0),(0,r.gn)([(0,l.fI)()],oh.prototype,"accordionState",void 0),(0,r.gn)([(0,l.fI)({default:!0})],oh.prototype,"withDependencies",void 0),(0,r.gn)([(0,l.tB)("context")],oh.prototype,"context",void 0),oh=(0,r.gn)([(0,l.wA)({components:{TextWithChevron:zp,CodeInput:Rp.Z,ShittyTextInput:wc,Repeater:fc.Z,Accordion:vc.Z}})],oh);const rh=oh,lh=rh;var ch=(0,q.Z)(lh,nh,sh,!1,null,null,null);const dh=ch.exports;var uh=n(34580),ph=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{defaultNewValue:{name:"",template:""},titleTemplate:"HTML Attribute",buttonName:"Add new HTML attribute"}}}},on:{input:function(t){return e.updateAttributes(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Attribute Name")]),t(ja.Z,{attrs:{value:s.name,rules:[e.htmlAttributeNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Attribute Value")]),"template"in s?t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateTemplateValue(n,t)}}}):"propertyPath"in s?t(ja.Z,{attrs:{value:s.template},on:{input:function(t){return e.updatePropertyPathValue(n,t)}}}):"rawValue"in s?t(ja.Z,{attrs:{value:s.template},on:{input:function(t){return e.updateRawValue(n,t)}}}):e._e()]}}])})},hh=[];let mh=class extends s.ZP{updateAttributes(e){this.$emit("input",e)}updateName(e,t){const n=(0,Me.Z)(this.value);!0===this.htmlAttributeNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateTemplateValue(e,t){const n=(0,Me.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}updatePropertyPathValue(e,t){const n=(0,Me.Z)(this.value);n[e].propertyPath=t,this.$emit("input",n)}updateRawValue(e,t){const n=(0,Me.Z)(this.value);n[e].rawValue=t,this.$emit("input",n)}htmlAttributeNameRule(e){return Gr.hB.validateHtmlAttributeName(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],mh.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],mh.prototype,"context",void 0),mh=(0,r.gn)([(0,l.wA)({components:{CodeInput:Rp.Z,Repeater:fc.Z,Dropdown:Ia.Z,Accordion:vc.Z,draggable:gc()}})],mh);const gh=mh,vh=gh;var fh=(0,q.Z)(vh,ph,hh,!1,null,null,null);const yh=fh.exports;var bh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Class .{name}",buttonName:"Add Class",defaultNewValue:{name:"my-class",template:"yes"}}}}},on:{input:function(t){return e.updateClasses(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Class Name")]),t(ja.Z,{attrs:{value:s.name,rules:[e.htmlClassNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Class Condition Twig Template")]),t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateValue(n,t)}}}),t("div",{staticClass:"mt-2"},[e._v(" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. ")]),t("div",[e._v(" (the returned value is trimmed for spaces and newlines) ")])]}}])})},Sh=[];let Ph=class extends s.ZP{updateClasses(e){this.$emit("input",e)}updateName(e,t){const n=(0,Me.Z)(this.value);!0===this.htmlClassNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateValue(e,t){const n=(0,Me.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}htmlClassNameRule(e){return Gr.hB.validateHtmlClassName(e)}};(0,r.gn)([(0,l.fI)({default:[]})],Ph.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Ph.prototype,"context",void 0),Ph=(0,r.gn)([(0,l.wA)({components:{CodeInput:Rp.Z,Repeater:fc.Z,Dropdown:Ia.Z,Accordion:vc.Z,draggable:gc()}})],Ph);const _h=Ph,Ch=_h;var wh=(0,q.Z)(Ch,bh,Sh,!1,null,null,null);const xh=wh.exports;var kh=n(75057),Ih=n(75617),Eh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Ka.Z,[t(_o.ZB,[e._v(" Looks Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.looksGood,clearable:""},on:{input:function(t){return e.updateValueForKey("looksGood",t)}}}),t("br"),e._v(" Options Are Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsGood,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsGood",t)}}}),t("br"),e._v(" Options Work "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsWork,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsWork",t)}}}),t("br"),e._v(" Dynamic Behavior Works "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.dynamicBehaviorWorks,clearable:""},on:{input:function(t){return e.updateValueForKey("dynamicBehaviorWorks",t)}}}),t("br"),t("br"),t(Ih.Z,{staticStyle:{border:"1px solid var(--gray500)"},attrs:{filled:"",value:e.value.notes},on:{input:e.updateNotes}}),t("br")],1)],1)},Dh=[];let Zh=class extends s.ZP{get dropdownItems(){return["yes","no","unknown","sort of"]}updateValueForKey(e,t){const n=(0,Me.Z)(this.value);n[e]=t,this.emit(n)}updateNotes(e){const t=(0,Me.Z)(this.value);t.notes="string"===typeof e?e:"",this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Zh.prototype,"value",void 0),Zh=(0,r.gn)([(0,l.wA)({components:{DropdownInput:Po.Z}})],Zh);const Th=Zh,Ah=Th;var Bh=(0,q.Z)(Ah,Eh,Dh,!1,null,null,null);const Oh=Bh.exports;var Rh=n(78),Mh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("InlineRepeater",{attrs:{value:e.value||[]},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(oc.Z,{attrs:{value:s,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updatePropertyPathByIndex(n,t)}}})]}}])})},Fh=[];let Nh=class extends s.ZP{updateElementValue(e){const t=e.map((e=>"string"===typeof e?e:""));this.$emit("input",t)}updatePropertyPathByIndex(e,t){const n=(0,Me.Z)(this.value);t&&this.pathRules(t)&&(n[e]=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,De.qj)(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],Nh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],Nh.prototype,"allPaths",void 0),Nh=(0,r.gn)([(0,l.wA)({components:{InlineRepeater:Lu.Z,Repeater:fc.Z,DropdownInput:Po.Z,CodeInput:Rp.Z,Dropdown:Ia.Z,Accordion:vc.Z,draggable:gc()}})],Nh);const $h=Nh,Lh=$h;var Wh=(0,q.Z)(Lh,Mh,Fh,!1,null,null,null);const Vh=Wh.exports;var Hh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Accordion",{attrs:{expanded:"dynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Dynamic Property Paths")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioDynPropPaths",{attrs:{value:e.value.dynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"dynamicPropertyPaths")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"propertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("propertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Property paths to whitelist in flat props")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToWhitelistInFlatProps,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"dynamic-prop-paths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamic-prop-paths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Property paths to SSR the element when value changes ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToSsrElementWhenValueChanges,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToSsrElementWhenValueChanges")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"spacing-bars"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("spacing-bars")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Spacing Bars")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioSpacingBars",{attrs:{value:e.value.spacingBars}})]},proxy:!0}])})],1)},Uh=[],zh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{path} - {accepts}",buttonName:"Add new Dynamic Property Path",defaultNewValue:{accepts:"string",path:""}}}}},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Dynamic Property Path")]),t(oc.Z,{attrs:{value:s.path,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updateDynamicPropertyPath(n,t)}}}),t("b",{staticClass:"d-block pt-2"},[e._v("Accepts:")]),t("DropdownInput",{attrs:{items:e.getDynamicPathAcceptsItems,value:s.accepts},on:{input:function(t){return e.updateValue(n,t)}}})]}}])})},Gh=[];let Kh=class extends s.ZP{updateElementValue(e){this.$emit("input",e)}updateDynamicPropertyPath(e,t){const n=(0,Me.Z)(this.value);this.pathRules(t)&&(n[e].path=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,De.qj)(e)}get getDynamicPathAcceptsItems(){return(0,ge.cS)()}updateValue(e,t){const n=(0,Me.Z)(this.value);n[e].accepts=t,this.updateElementValue(n)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],Kh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],Kh.prototype,"allPaths",void 0),Kh=(0,r.gn)([(0,l.wA)({components:{Repeater:fc.Z,DropdownInput:Po.Z,CodeInput:Rp.Z,Dropdown:Ia.Z,Accordion:vc.Z,draggable:gc()}})],Kh);const jh=Kh,Xh=jh;var qh=(0,q.Z)(Xh,zh,Gh,!1,null,null,null);const Yh=qh.exports;var Qh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Spacing bar",buttonName:"Add new spacing bar"}}}},on:{input:function(t){return e.updateSpaceBars(t)}},scopedSlots:e._u([{key:"default",fn:function({value:n,index:s}){return[t("ElementStudioSpacingBar",{attrs:{value:n},on:{input:function(t){return e.updateSpaceBar(t,s)}}})]}}])})},Jh=[],em=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-4"},[e._v("Location")]),t("DropdownInput",{attrs:{items:e.cssProperties,value:e.newSpaceBar.cssProperty},on:{input:e.updateLocationAndProperty}}),t("div",{staticClass:"mt-4"},[e._v("Affected property path")]),t(oc.Z,{attrs:{items:e.pathsToAllControls,placeholder:"design.spacing.%%BREAKPOINT%%.top"},model:{value:e.newSpaceBar.affectedPropertyPath,callback:function(t){e.$set(e.newSpaceBar,"affectedPropertyPath",t)},expression:"newSpaceBar.affectedPropertyPath"}}),t("NiceButton",{on:{click:e.saveNewSpaceBar}},[e._v("Save")])],1)},tm=[],nm=n(16442);let sm=class extends s.ZP{constructor(){super(...arguments),this.newSpaceBar=this.value||{}}get pathsToAllControls(){return this.context.getPathsToAllControls()}get propertiesLocationsKeyPair(){const e=T.g3.types.map((e=>e.value)),t=T.U$.types.map((e=>e.value));return t.reduce(((t,n,s)=>({...t,[n]:e[s]})),{})}get cssProperties(){return Object.keys(this.propertiesLocationsKeyPair)}updateLocationAndProperty(e){this.newSpaceBar.cssProperty=e,this.newSpaceBar.location=this.propertiesLocationsKeyPair[e]}saveNewSpaceBar(){(0,vp.zG)(T.pG.decode(this.newSpaceBar),(0,fp.g_)((e=>{fe.Z.log.message("Error saving new space bar, please fill out all fields"),(0,nm.H)(e)}),(()=>{this.$emit("input",this.newSpaceBar)})))}};(0,r.gn)([(0,l.fI)()],sm.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],sm.prototype,"context",void 0),sm=(0,r.gn)([(0,l.wA)({components:{NiceButton:Ki.Z,DropdownInput:Po.Z}})],sm);const am=sm,im=am;var om=(0,q.Z)(im,em,tm,!1,null,null,null);const rm=om.exports;let lm=class extends s.ZP{updateSpaceBar(e,t){const n=(0,Me.Z)(this.value);n[t]=e,this.updateSpaceBars(n)}updateSpaceBars(e){this.context.updateElementValue("spacingBars",e)}};(0,r.gn)([(0,l.fI)({default:[]})],lm.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],lm.prototype,"context",void 0),lm=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBar:rm,NiceButton:Ki.Z,TextInput:vo.Z,InlineRepeater:Lu.Z,Repeater:fc.Z,DropdownInput:Po.Z,CodeInput:Rp.Z,Dropdown:Ia.Z,Accordion:vc.Z,draggable:gc()}})],lm);const cm=lm,dm=cm;var um=(0,q.Z)(dm,Qh,Jh,!1,null,null,null);const pm=um.exports;let hm=class extends s.ZP{constructor(){super(...arguments),this.accordionState=""}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}get allPathsWithDesignAndContent(){return[this.context.element().controls.designSections.length?"design":null,this.context.element().controls.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}get allPaths(){return this.context.getPathsToAllControls()}updateElementValuePropPath(e,t){this.context.updateElementValue(t,e)}};(0,r.gn)([(0,l.fI)()],hm.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],hm.prototype,"context",void 0),hm=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBars:pm,ElementStudioPropertyPaths:Vh,ElementStudioDynPropPaths:Yh,Accordion:vc.Z}})],hm);const mm=hm,gm=mm;var vm=(0,q.Z)(gm,Hh,Uh,!1,null,null,null);const fm=vm.exports;var ym=n(46368),bm=n(66485),Sm=n.n(bm);function Pm(e){vt.PK.setTwigMacros(e),(0,he.J6)((0,he.GJ)(e),he.rf),vt.kD.forceUpdateEntireCanvas()}const _m=P()(me.w.registerAllStoreActions,500);let Cm=class extends s.ZP{constructor(){super(...arguments),this.tab=(0,ol.z)(`element-studio-tab-${this.type}`)||"content",this.actionsAccordionState="",this.nameHasChanged=!1,this.useLocalIcon=!!Rd.iconNames.find((e=>e===this.element.uiIcon))||!this.element.uiIcon||!1,this.contextMenu=!1,this.showNewMacroDialog=!1,this.savedCssSelection="",this.elementStudioContext={replaceControls:(e,t)=>{const n=(0,Me.Z)(this.element);ne()(n.controls,e,t),this.emit(n)},pasteControl:(e,t)=>{const n=(0,Me.Z)(this.element),s=b()(n.controls,e);s.push(t),ne()(n.controls,e,s),this.emit(n)},addControl:(e,t="text")=>{const n=(0,Me.Z)(this.element),s={slug:"section"===t?"new_section":"new_control",label:"section"===t?"New Section":"New Control",keywords:[],options:{type:t},enableMediaQueries:!1,enableHover:!1,children:[]};(e.startsWith("contentSections")||"text"===t||"number"===t)&&(s.options.layout="vertical");const a=this.cleanElement.controls,i=b()(a,e);Array.isArray(i)?i.push(s):i.children.push(s),ne()(a,e,i),n.controls=this.mergeElementControlsWithExternalControls(a),this.emit(n)},addPreset:e=>{const t=(0,Me.Z)(this.element),n=(0,Me.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!n)return;n.section.options.sectionOptions={...n.section.options.sectionOptions,type:"popout"};const s=this.cleanElement.controls,a=b()(s,e);Array.isArray(a)?a.push(n.section):a.children.push(n.section),ne()(s,e,a),t.controls=this.mergeElementControlsWithExternalControls(s),this.emit(t)},deleteControl:(e,t)=>{const n=(0,Me.Z)(this.element),s=this.parentControls(e);Array.isArray(s)?s.splice(t,1):s.children.splice(t,1),ne()(n.controls,e,s),this.emit(n)},updateControl:(e,t,n)=>{const s=(0,Me.Z)(this.element),a=this.parentControls(e);Array.isArray(a)?a.splice(t,1,n):a.children.splice(t,1,n),ne()(s.controls,e,a),this.emit(s)},updateDependency:e=>{this.updateElementValue("dependencies",e)},updateActions:e=>{this.updateElementValue("actions",e),_m()},getPresetSection:e=>this.available.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.available.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{const n=(0,Kl.eH)(this.element.controls.contentSections,e,t,"content"),s=(0,Kl.eH)(this.element.controls.designSections,e,t,"design");return[...n,...s]},element:()=>this.element,updateElementValue:this.updateElementValue,getElementStudioData:()=>this.available,updateElementStudioData:e=>{this.update(e)}}}async mounted(){document.addEventListener("contextmenu",this.handleRightClickInCodeInput)}beforeDestroy(){document.removeEventListener("contextmenu",this.handleRightClickInCodeInput)}onElementSlugChange(){this.nameHasChanged=!0}handleRightClickInCodeInput(e){const t=window.getSelection()?.toString();!t||"css"!==this.tab&&"html"!==this.tab||(e.preventDefault(),this.contextMenu={x:e.clientX,y:e.clientY})}handleCreateMacro(){this.savedCssSelection=window.getSelection()?.toString()||"",this.showNewMacroDialog=!0}async saveNewMacro(e){if(!this.savedCssSelection)return;this.contextMenu=!1;const t=this.savedCssSelection?.toString(),n=(0,up.dZ)(e.namespace,e.name),s=(0,he.as)(t,{selector:"{{ selector }}",id:"{{ id }}",postId:"{{ postId }}"}).replace("macros.","_self."),a=`{% macro ${n}() %}\n\n${s} \n\n{% endmacro %}`,i=hp()(e.name),o=gp(e.namespace,e.name);this.available.macros.find((e=>e.slug===o))?(0,Kl.O6)(this.available.saveLocations,e,"macro"):(0,vp.zG)(await(0,D.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:e.directoryPath,filename:i,macro:a},decoder:Z._4}),(0,fp.g_)((e=>{console.error(e),fe.Z.log.message("Failed to save element, check console")}),(()=>{const t=`{{ macros.${n}() }}`;fe.Z.log.message(`New macro created: ${t}. `),Sm()(t);const s=(0,Me.Z)(this.available);s.macros.push({slug:o,directoryPath:e.directoryPath}),this.elementStudioContext.updateElementStudioData(s);const i=(0,Me.Z)(vt.PK.twigMacros);i.push({macro:a,slug:o}),Pm(i)})))}updateSlug(){if(!window.confirm("Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?"))return;const e=(0,Kl.kK)((0,Kl.$_)(this.element.slug),this.element.name);this.updateElementValue("slug",e)}updateUiOrder(e){const t=Number(e);Number.isNaN(t)?this.updateElementValue("order",0):this.updateElementValue("order",t)}updateUiIcon(e="SquareIcon"){this.updateElementValue("uiIcon",e)}updateUseLocalIcon(e){this.useLocalIcon=e,e||this.updateUiIcon("")}updateClassName(e){!0===this.htmlClassNameRule(e)&&this.updateElementValue("className",e||!1)}htmlClassNameRule(e){return!e||Gr.hB.validateHtmlClassName(e)}isValidItemName(e){return(0,Kl.nQ)(e)}updateElementName(e){if(!0!==(0,Kl.nQ)(e))return;const t=(0,Me.Z)(this.element);t.name=e,this.emit(t)}updateElementValue(e,t){const n=(0,Me.Z)(this.element),s=(0,Kc.lX)(t);ne()(n,e,s),this.emit(n)}emit(e){this.$emit("input",e)}updateTab(e){(0,ol.r)(`element-studio-tab-${this.type}`,e),this.tab=e}mergeElementControlsWithExternalControls(e){const t=(0,Me.Z)(e);return(0,Mp.f)(this.element.controls).forEach((e=>{this.element.controls[e].forEach((n=>{n.options.isExternal&&t[e].push(n)}))})),t}get showAdvancedFeatures(){return(0,rl.y)()||vt.PK.isElementStudioPowerUser}get requiredPluginItems(){return T.ws.types.map((e=>e.value))}get tags(){return jp}get pathsToAllControls(){return this.elementStudioContext.getPathsToAllControls()}get nestingRuleTypeIsContainer(){return(0,Ze.ZC)(this.cleanElement.nestingRule.type).length>0||"container-restricted"===this.cleanElement.nestingRule.type}get cleanElement(){return eh(this.element)}get elementCategories(){return vt.PK.builderElementCategories.map((e=>({text:e.label,value:e.slug})))}get badgeColors(){return Object.entries(ym.Z).map((([e])=>{const t=e.replace(/brand_/g,"brand").replace(/_dark|_light|breakdance_/g,"");return{text:t,value:`var(--${t})`}}))}get elementType(){return T.iQ.types.map((e=>e.value))}get containerRestrictedElements(){return Object.values(vt.PK.elements).filter((e=>"container-restricted"===e?.nestingRule.type&&e?.slug!==ae.Cc)).map((e=>e?.slug))}get elementsThisElementIsAllowedToBeInsideOf(){return Object.values(vt.PK.elements).filter((e=>e&&(0,Ze.V4)(this.element.nestingRule,e.nestingRule,e.slug))).map((e=>e?.slug))}get allElementSlugs(){return Object.values(vt.PK.elements).map((e=>e?.slug))}get elementClass(){return`.${(0,De.MO)(this.element)}`}parentControls(e){return(0,Me.Z)(b()(this.element.controls,e))}update(e){this.$emit("update",e)}toggleActionAccordion(e){this.actionsAccordionState=e}get htmlTags(){return["section","div","span","p","h1","h2","h3","h4","h5","h6","footer","header","nav","aside","figure","ul","ol","li","a","article","main","details","summary","img"].filter((e=>e!==this.cleanElement.htmlTag.default))}get defaultTag(){return[...this.htmlTags,this.cleanElement.htmlTag.default]}};(0,r.gn)([(0,l.fI)()],Cm.prototype,"element",void 0),(0,r.gn)([(0,l.fI)({default:"primary"})],Cm.prototype,"type",void 0),(0,r.gn)([(0,l.fI)()],Cm.prototype,"available",void 0),(0,r.gn)([(0,l.RL)("element.name")],Cm.prototype,"onElementSlugChange",null),(0,r.gn)([(0,l.DF)("context")],Cm.prototype,"elementStudioContext",void 0),Cm=(0,r.gn)([(0,l.wA)({components:{Dropdown:Ia.Z,ElementStudioSaveNewDialog:Ql,TextInput:vo.Z,ElementStudioIconsAutocomplete:Ld,ElementStudioManagePropertyPaths:fm,ElementStudioPropertyPaths:Vh,Accordion:vc.Z,ElementIcon:Rh.Z,ToggleInput:al.Z,Icon:G.Z,ElementStudioAttributes:yh,ElementStudioAdditionalClasses:xh,ElementStudioDefaultElements:uh.Z,CopyButton:xc.Z,ElementStudioAction:dh,ElementStudioDependencies:Jp,ElementStudioControls:Op,CodeInput:Rp.Z,ElementStudioDefaultProperties:kh.Z,ElementStudioProjectManagement:Oh}})],Cm);const wm=Cm,xm=wm;var km=(0,q.Z)(xm,rc,lc,!1,null,null,null);const Im=km.exports,Em={className:!1,uiIcon:!1,category:"other",badge:!1,htmlTag:{default:"div",options:[],pathToControl:!1},template:"Blank Element",attributes:!1,cssTemplate:"%%SELECTOR%% { }",defaultCss:" ",defaultProperties:!1,defaultChildren:!1,controls:{contentSections:[],designSections:[],settingsSections:[]},dependencies:!1,actions:!1,nestingRule:{type:"final"},spacingBars:!1,dynamicPropertyPaths:!1,settings:!1,addPanelRules:!1,experimental:!1,order:0,additionalClasses:!1,projectManagement:!1,propertyPathsToWhitelistInFlatProps:!1,propertyPathsToSsrElementWhenValueChanges:!1};let Dm=class extends s.ZP{constructor(){super(...arguments),this.lastSavedElement=!1,this.currentlyEditingElement=!1,this.saveInProgress=!1,this.throttledUpdateElement=ct()(De.Cf,500),this.mode=(0,ol.z)("element-studio-mode")||"split-horizontal"}get elementsSlug(){return this.value.elements.map((e=>e.slug))}updateCurrentlyEditingElement(e){this.currentlyEditingElement=(0,Me.Z)(e),!1===this.lastSavedElement&&(this.lastSavedElement=(0,Me.Z)(e))}updateAvailableElementsAndStore(e){const t=e.element.slug;this.lastSavedElement&&t!==this.lastSavedElement.element.slug&&(0,Kl.$_)(t)===(0,Kl.$_)(this.lastSavedElement.element.slug)&&this.deleteElementFromServer(this.lastSavedElement);const n=!!this.value.elements.find((e=>e.slug===t));if(!n&&e.directoryPath){const n=(0,Me.Z)(this.value);n.elements.push({slug:t,directoryPath:e.directoryPath}),this.$emit("input",n)}this.lastSavedElement=e}get hasUnsavedChanges(){return!(!this.currentlyEditingElement||!this.lastSavedElement)&&!ho()(this.lastSavedElement.element,this.currentlyEditingElement.element)}updateData(e){this.$emit("input",e)}updateElement(e){if(!this.currentlyEditingElement||!this.lastSavedElement||!this.lastSavedElement.element)return;const t=e.slug!==this.lastSavedElement.element.slug;let n=this.currentlyEditingElement.directoryPath;t&&this.currentlyEditingElement.directoryPath&&(n=(0,up.Lg)({directoryPath:(0,up.HT)(this.currentlyEditingElement.directoryPath),elementName:this.currentlyEditingElement.element.name})),this.currentlyEditingElement={directoryPath:n,element:e,onlyForAdvancedUsers:this.currentlyEditingElement.onlyForAdvancedUsers},this.throttledUpdateElement(e)}deleteElementFromStore(e){const t=this.value.elements.findIndex((t=>t.slug===e));c.PK.deleteElement(e),-1!==t&&this.value.elements.splice(t,1)}deleteElement(){this.currentlyEditingElement&&this.deleteElementFromServer(this.currentlyEditingElement,(()=>{this.currentlyEditingElement=!1}))}async deleteElementFromServer(e,t=(()=>{})){e.element&&(0,W.pipe)(await(0,D.D)({action:"breakdance_delete_element",dataToPost:{directoryPath:e.directoryPath},decoder:Z.i0("success"),resultKey:"data"}),(0,V.fold)((()=>{fe.Z.log.message("Failed to delete element")}),(()=>{e.element?(this.deleteElementFromStore(e.element.slug),t()):fe.Z.log.message("Failed to delete element")})))}discardChanges(){this.lastSavedElement&&this.lastSavedElement.element&&this.updateElement(this.lastSavedElement.element),this.resetCurrentlyEditingElement()}resetCurrentlyEditingElement(){this.currentlyEditingElement=!1,this.lastSavedElement=!1,this.$emit("active",null)}switchMode(){switch(this.mode){case"split-vertical":this.mode="split-horizontal",this.$emit("width",750);break;case"split-horizontal":this.$emit("width",600),this.mode="normal";break;case"normal":this.$emit("width",600),this.mode="split-vertical";break}(0,ol.r)("element-studio-mode",this.mode)}openElement(e){const t=(0,Me.Z)(c.PK.element(e)),n=this.value.elements.find((t=>t.slug===e));if(!n)return;const s=this.value.saveLocations.find((e=>n.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingElement({element:t,directoryPath:n.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","element")}saveAs(e){if(!this.currentlyEditingElement)return;const{namespace:t,directoryPath:n,onlyForAdvancedUsers:s}=e;let a=(0,Me.Z)(this.currentlyEditingElement.element);this.currentlyEditingElement.directoryPath!==n&&(a.slug=""),this.saveToServer(a,(0,up.Lg)({directoryPath:n,elementName:this.currentlyEditingElement.element.name}),t,!1,s)}saveNewItem(e){const t=(0,Kl.kK)(e.namespace,e.name);if(this.value.elements.find((e=>e.slug===t)))return void(0,Kl.O6)(this.value.saveLocations,e,"element");const n={...(0,Me.Z)(Em),slug:t,name:e.name};this.saveToServer(n,(0,up.Lg)({directoryPath:e.directoryPath,elementName:e.name}),e.namespace,!1,e.onlyForAdvancedUsers),this.$emit("active","element")}saveOverride(e){this.currentlyEditingElement&&this.currentlyEditingElement.directoryPath&&this.saveToServer(this.currentlyEditingElement.element,this.currentlyEditingElement.directoryPath,(0,Kl.$_)(this.currentlyEditingElement.element.slug),e,this.currentlyEditingElement.onlyForAdvancedUsers)}async saveToServer(e,t,n,s=!1,a){this.saveInProgress=!0;const i=n||(0,Kl.$_)(e.slug),o=eh(e),r=e.slug||(0,Kl.kK)(i,e.name);(0,W.pipe)(await(0,D.D)({action:"breakdance_save_element",dataToPost:{...(0,up.x)(o,i),directoryPath:t,bypassPsalm:s?"yes":"no"},decoder:Z._4}),(0,V.fold)((e=>{console.error(e),fe.Z.log.message("Failed to save element, check console")}),(()=>{const n={element:{...(0,Me.Z)(e),slug:r,name:e.name.split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ")},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingElement(n),this.updateAvailableElementsAndStore(n),(0,De.Cf)(n.element)}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],Dm.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Dm.prototype,"width",void 0),Dm=(0,r.gn)([(0,l.wA)({components:{ElementStudioTabsAndPanels:Im,ElementStudioWidthAdjustmentBar:Ll,ElementStudioTopbar:sc}})],Dm);const Zm=Dm,Tm=Zm;var Am=(0,q.Z)(Tm,Wl,Vl,!1,null,null,null);const Bm=Am.exports,Om=Z.dt({slug:Z.Z_,directoryPath:Z.Z_}),Rm=Z.G0([Z.i0("element"),Z.i0("macro"),Z.i0("preset")]),Mm=Z.dt({directoryPath:Z.Z_,namespace:Z.Z_,type:Rm,label:Z.Z_,onlyForAdvancedUsers:Z.O7}),Fm=Z.dt({slug:Z.Z_,section:hc.ur}),Nm=Z.dt({elements:Z.IX(Om),macros:Z.IX(Om),presets:Z.IX(Om),saveLocations:Z.IX(Mm),presetSections:Z.IX(Fm)});var $m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingMacro,"element-studio__hide-the-close-button":!e.currentlyEditingMacro,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.macrosSlug,value:e.currentlyEditingMacro,itemType:"macro","item-name":e.currentMacroName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openMacro,delete:e.deleteMacro,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingMacro}}),e.currentlyEditingMacro?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(oo.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(io.Z,{attrs:{href:"#macro",title:"Macro"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("CodeInput",{directives:[{name:"show",rawName:"v-show",value:"macro"===e.activeTab,expression:"activeTab === 'macro'"}],attrs:{value:e.currentlyEditingMacro.macroData.macro,language:"twig"},on:{input:e.updateMacroValue}}),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(ja.Z,{attrs:{value:e.currentMacroName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updateMacroName}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},Lm=[];let Wm=class extends s.ZP{constructor(){super(...arguments),this.lastSavedMacro=!1,this.currentlyEditingMacro=!1,this.saveInProgress=!1,this.autoRefresh=!0,this.activeTab="macro",this.throttledUpdateElement=P()(this.updateMacroAndRecompileTwigTemplates,1e3)}get macrosSlug(){return this.value.macros.map((e=>e.slug))}isValidItemName(e){return(0,Kl.nQ)(e)}updateCurrentlyEditingMacro(e){this.currentlyEditingMacro=(0,Me.Z)(e),!1===this.lastSavedMacro&&(this.lastSavedMacro=(0,Me.Z)(e))}updateTab(e){this.activeTab=e}updateMacroName(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.slug=gp((0,Kl.$_)(this.currentlyEditingMacro.macroData.slug),e))}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingMacro&&this.updateMacroAndRecompileTwigTemplates(this.currentlyEditingMacro.macroData)}updateMacroAndRecompileTwigTemplates(e){const t=(0,Me.Z)(c.PK.twigMacros),n=t.findIndex((t=>t.slug===e.slug));if(-1===n){t.push(e);const n=(0,Me.Z)(this.value);n.macros.push(e),this.$emit("input",n)}else t[n].macro=e.macro;this.lastSavedMacro&&this.lastSavedMacro.directoryPath&&e.slug!==this.lastSavedMacro.macroData.slug&&e.directoryPath===this.lastSavedMacro.directoryPath&&this.deleteMacroFromServer(this.lastSavedMacro),this.autoRefresh&&Pm(t)}deleteMacroAndRecompileTwigTemplates(e){const t=(0,Me.Z)(c.PK.twigMacros),n=t.findIndex((t=>t.slug===e)),s=this.value.macros.findIndex((t=>t.slug===e));if(-1!==n&&t.splice(n,1),-1!==s){const e=(0,Me.Z)(this.value);e.macros.splice(s,1),this.$emit("input",e)}Pm(t)}get currentMacroName(){return this.currentlyEditingMacro?(0,Kl.iC)(this.currentlyEditingMacro.macroData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingMacro||!this.lastSavedMacro)&&!ho()(this.lastSavedMacro.macroData,this.currentlyEditingMacro.macroData)}updateMacroValue(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.macro=e,this.throttledUpdateElement(this.currentlyEditingMacro.macroData))}deleteMacro(){this.currentlyEditingMacro&&this.deleteMacroFromServer(this.currentlyEditingMacro,(()=>{this.currentlyEditingMacro=!1}))}async deleteMacroFromServer(e,t=(()=>{})){(0,W.pipe)(await(0,D.D)({action:"breakdance_delete_macro",dataToPost:{directoryPath:e.directoryPath,filename:(0,Kl.iC)(e.macroData.slug)},decoder:Z.i0("success"),resultKey:"data"}),(0,V.fold)((()=>{fe.Z.log.message("Failed to delete element")}),(()=>{t(),this.deleteMacroAndRecompileTwigTemplates(e.macroData.slug)})))}discardChanges(){this.lastSavedMacro&&this.lastSavedMacro.macroData&&this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData),this.resetCurrentlyEditingMacro()}resetCurrentlyEditingMacro(){this.currentlyEditingMacro=!1,this.lastSavedMacro=!1,this.$emit("active",null)}openMacro(e){const t=(0,Me.Z)(this.value.macros.find((t=>t.slug===e)));if(!t)return;const n=c.PK.twigMacros.find((t=>t.slug===e))?.macro;if(!n)return;const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingMacro({macroData:{...t,macro:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","macro")}saveAs(e){if(!this.currentlyEditingMacro)return;const t=(0,Kl.iC)(this.currentlyEditingMacro.macroData.slug);this.saveToServer(this.currentlyEditingMacro.macroData.macro,e.directoryPath,t,gp(e.namespace,t),e.onlyForAdvancedUsers)}saveNewItem(e){const t=(0,up.dZ)(e.namespace,e.name),n=hp()(e.name),s=gp(e.namespace,e.name);this.value.macros.find((e=>e.slug===s))?(0,Kl.O6)(this.value.saveLocations,e,"macro"):(this.saveToServer(`{% macro ${t}() %}\n  {# Your code here #} \n{% endmacro %}`,e.directoryPath,n,s,e.onlyForAdvancedUsers),this.$emit("active","macro"))}saveOverride(){this.currentlyEditingMacro&&this.currentlyEditingMacro.directoryPath&&this.saveToServer(this.currentlyEditingMacro.macroData.macro,this.currentlyEditingMacro.directoryPath,(0,Kl.iC)(this.currentlyEditingMacro.macroData.slug),this.currentlyEditingMacro.macroData.slug,this.currentlyEditingMacro.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,a){this.saveInProgress=!0,(0,W.pipe)(await(0,D.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:t,filename:n,macro:e},decoder:Z._4}),(0,V.fold)((e=>{console.error(e),fe.Z.log.message("Failed to save element, check console")}),(()=>{const n={macroData:{macro:e,slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingMacro(n),this.updateMacroAndRecompileTwigTemplates(n.macroData),this.lastSavedMacro=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],Wm.prototype,"value",void 0),Wm=(0,r.gn)([(0,l.wA)({components:{ToggleInput:al.Z,TextInput:vo.Z,Icon:G.Z,CodeInput:Rp.Z,ElementStudioTabsAndPanels:Im,ElementStudioWidthAdjustmentBar:Ll,ElementStudioTopbar:sc}})],Wm);const Vm=Wm,Hm=Vm;var Um=(0,q.Z)(Hm,$m,Lm,!1,null,null,null);const zm=Um.exports;var Gm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingPreset,"element-studio__hide-the-close-button":!e.currentlyEditingPreset,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.presetsSlug,value:e.currentlyEditingPreset,itemType:"preset","item-name":e.currentPresetName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openPreset,delete:e.deletePreset,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingPreset}}),e.currentlyEditingPreset?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(oo.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(io.Z,{attrs:{href:"#preset",title:"Preset"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#code-help",title:"Code Help"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#prop-paths",title:"Property Paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(io.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("ControlSectionOrControl",{directives:[{name:"show",rawName:"v-show",value:"preset"===e.activeTab,expression:"activeTab === 'preset'"}],attrs:{value:e.currentPresetWithoutPresetSlug?e.currentPresetWithoutPresetSlug.presetData.preset.section:[],index:0,path:"control",parentPath:"presetSection",twigParentPath:""}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"code-help"===e.activeTab,expression:"activeTab === 'code-help'"}]},[e._m(0),t("CodeInput",{attrs:{language:"twig",value:e.codeHelpValue,placeholder:e.codeHelpPlaceholder},on:{input:e.updateCodeHelp}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.activeTab,expression:"activeTab === 'prop-paths'"}]},[t("Accordion",{attrs:{expanded:"relativePropertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativePropertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Relative Property Paths To Whitetlist In Flatprops ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.presetRelativePropertyPathsToWhitelistInFlatProps,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativePropertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}],null,!1,3695337097)}),t("Accordion",{attrs:{expanded:"relativeDynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativeDynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Relative Dynamic Property Paths ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioDynPropPaths",{attrs:{value:e.relativeDynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativeDynamicPropertyPaths")}}})]},proxy:!0}],null,!1,63984396)})],1),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(ja.Z,{attrs:{value:e.currentPresetName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updatePresetSlug}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},Km=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio__presets-code-help"},[t("div",[t("b",[e._v("Code Help")])]),t("pre",[e._v("%%TWIG_PATH%%")]),e._v(" will be replaced with the correct path in the element. ")])}];let jm=class extends s.ZP{constructor(){super(...arguments),this.lastSavedPreset=!1,this.currentlyEditingPreset=!1,this.saveInProgress=!1,this.activeTab="preset",this.accordionState="",this.autoRefresh=!0,this.elementStudioContext=this.reactiveContext()}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}reactiveContext(){return{replaceControls:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Me.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e);ne()(n.presetData.preset,s,t),this.updateCurrentlyEditingPreset(n)},pasteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Me.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=b()(n.presetData.preset,s);a.push(t),ne()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n)},addControl:e=>{if(!this.currentlyEditingPreset)return;const t=(0,Me.Z)(this.currentlyEditingPreset),n=this.getCorrectPathForPresetFromContextPath(e),s=this.getParentControlOrControls(n);s&&(Array.isArray(s)?s.push((0,Kc._n)()):s.children.push((0,Kc._n)()),ne()(t.presetData.preset,n,s),this.updateCurrentlyEditingPreset(t))},addPreset:e=>{if(!this.currentlyEditingPreset)return;const t=(0,Me.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!t)return;t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"};const n=(0,Me.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=this.getParentControlOrControls(s);a&&(Array.isArray(a)?a.push(t.section):a.children.push(t.section),ne()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n))},deleteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Me.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=this.getParentControlOrControls(s);a&&(Array.isArray(a)?a.splice(t,1):a.children.splice(t,1),ne()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n))},updateControl:(e,t,n)=>{if(!this.currentlyEditingPreset)return;const s=(0,Me.Z)(this.currentlyEditingPreset);if("presetSection"===e)s.presetData.preset.section=n;else{const a=this.getCorrectPathForPresetFromContextPath(e),i=this.getParentControlOrControls(a);if(!i)return;Array.isArray(i)?i.splice(t,1,n):i.children.splice(t,1,n),ne()(s.presetData.preset,a,i)}this.updateCurrentlyEditingPreset(s)},getPresetSection:e=>this.value.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.value.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{if(this.currentlyEditingPreset)return(0,Kl.eH)(this.currentlyEditingPreset.presetData.preset.section.children,e,t,"")},element:De.BQ,updateDependency:()=>{},updateActions:()=>{},updateElementValue:()=>{},getElementStudioData:()=>this.value,updateElementStudioData:e=>{this.$emit("input",e)}}}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingPreset&&this.updateCurrentlyEditingPreset(this.currentlyEditingPreset)}getCorrectPathForPresetFromContextPath(e){return e.replace("control","section")}getParentControlOrControls(e){if(this.currentlyEditingPreset)return(0,Me.Z)(b()(this.currentlyEditingPreset.presetData.preset,e))}get codeHelpValue(){return this.currentlyEditingPreset&&this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.codeHelp||""}get codeHelpPlaceholder(){if(!this.currentlyEditingPreset)return"";const e=(0,up.dZ)((0,Kl.$_)(this.currentlyEditingPreset.presetData.slug),this.currentPresetName);return`{{ macros.${e}(%%TWIG_PATH%%) }}`}updateCodeHelp(e){if(!this.currentlyEditingPreset)return;const t=(0,Me.Z)(this.currentlyEditingPreset);ne()(t,"presetData.preset.section.options.sectionOptions.preset.codeHelp",e),this.updateCurrentlyEditingPreset(t)}get presetsSlug(){return this.value.presets.map((e=>e.slug))}get allPaths(){return this.reactiveContext().getPathsToAllControls([],[])}get presetRelativePropertyPathsToWhitelistInFlatProps(){return this.currentlyEditingPreset?this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps:[]}get relativeDynamicPropertyPaths(){return this.currentlyEditingPreset?this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.relativeDynamicPropertyPaths:[]}updateElementValuePropPath(e,t){if(!this.currentlyEditingPreset)return;const n=(0,Me.Z)(this.currentlyEditingPreset);ne()(n,`presetData.preset.section.options.sectionOptions.preset[${t}]`,e),this.currentlyEditingPreset=n}isValidItemName(e){return(0,Kl.nQ)(e)}updateCurrentlyEditingPreset(e){if(e.presetData.preset=this.getPresetWithRestoredSectionSlug(e.presetData.preset),this.currentlyEditingPreset=(0,Me.Z)(e),!1===this.lastSavedPreset&&(this.lastSavedPreset=(0,Me.Z)(e)),!this.autoRefresh)return;const t=Object.values(vt.PK.elements).map((e=>e?(e.controls.designSections=e.controls.designSections.map(this.updateSectionWithCurrentPresetSection),e.controls.contentSections=e.controls.contentSections.map(this.updateSectionWithCurrentPresetSection),e.controls.settingsSections=e.controls.settingsSections.map(this.updateSectionWithCurrentPresetSection),e):e)).filter((e=>void 0!==e));vt.PK.addElements(t)}get currentPresetWithoutPresetSlug(){if(!this.currentlyEditingPreset)return!1;const e=(0,Me.Z)(this.currentlyEditingPreset);return e.presetData.preset.section.options.sectionOptions?.preset?.slug&&(e.presetData.preset.section.options.sectionOptions.preset.slug=void 0),e}updateSectionWithCurrentPresetSection(e){if(e.options.sectionOptions?.preset?.slug&&this.currentlyEditingPreset&&e.options.sectionOptions.preset.slug===this.currentlyEditingPreset.presetData.slug)return(0,Me.Z)(this.currentlyEditingPreset.presetData.preset.section);if(e.children.length){const t=(0,Me.Z)(e);return t.children=t.children.map(this.updateSectionWithCurrentPresetSection),t}return e}filterOutCurrentSection(e,t){if(!e.options.sectionOptions?.preset?.slug||e.options.sectionOptions.preset.slug!==t){if(e.children.length){const n=(0,Me.Z)(e);return n.children=n.children.map((e=>this.filterOutCurrentSection(e,t))).filter((e=>!!e)),n}return e}}getPresetWithRestoredSectionSlug(e){return this.currentlyEditingPreset?(ne()(e,"section.options.sectionOptions.preset.slug",this.currentlyEditingPreset.presetData.slug),e):e}updateTab(e){this.activeTab=e}updatePresetSlug(e){if(!this.currentlyEditingPreset)return;const t=(0,Me.Z)(this.currentlyEditingPreset);t.presetData.slug=gp((0,Kl.$_)(this.currentlyEditingPreset.presetData.slug),e),this.updateCurrentlyEditingPreset(t)}updatePreset(e){const t=(0,Me.Z)(e),n=this.value.presets.findIndex((e=>e.slug===t.slug)),s=this.value.presetSections.findIndex((e=>e.slug===t.preset.slug)),a=(0,Me.Z)(this.value);-1===n&&-1===s?(a.presets.push(t),a.presetSections.push(t.preset)):(a.presets[n]=t,a.presetSections[s].section=t.preset.section),this.$emit("input",a),this.lastSavedPreset&&this.lastSavedPreset.directoryPath&&t.slug!==this.lastSavedPreset.presetData.slug&&t.directoryPath===this.lastSavedPreset.directoryPath&&this.deletePresetFromServer(this.lastSavedPreset)}deletePresetAndRecompileTwigTemplates(e){const t=(0,Kl.iC)(e),n=(0,Me.Z)(this.value.presetSections),s=n.findIndex((e=>e.slug===t)),a=this.value.presets.findIndex((t=>t.slug===e));if(-1!==s&&n.splice(s,1),-1!==a){const e=(0,Me.Z)(this.value);e.presets.splice(a,1),this.$emit("input",e)}if(!this.autoRefresh)return;const i=Object.values(vt.PK.elements).map((t=>t?(t.controls.designSections=t.controls.designSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.contentSections=t.controls.contentSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.settingsSections=t.controls.settingsSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t):t)).filter((e=>void 0!==e));vt.PK.addElements(i)}get currentPresetName(){return this.currentlyEditingPreset?(0,Kl.iC)(this.currentlyEditingPreset.presetData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingPreset||!this.lastSavedPreset)&&!ho()(this.lastSavedPreset.presetData,this.currentlyEditingPreset.presetData)}deletePreset(){this.currentlyEditingPreset&&this.deletePresetFromServer(this.currentlyEditingPreset,(()=>{this.currentlyEditingPreset=!1}))}async deletePresetFromServer(e,t=(()=>{})){(0,W.pipe)(await(0,D.D)({action:"breakdance_delete_preset",dataToPost:{directoryPath:e.directoryPath,filename:(0,Kl.iC)(e.presetData.slug)},decoder:Z.i0("success"),resultKey:"data"}),(0,V.fold)((()=>{fe.Z.log.message("Failed to delete element")}),(()=>{t(),this.deletePresetAndRecompileTwigTemplates(e.presetData.slug)})))}discardChanges(){this.lastSavedPreset&&this.lastSavedPreset.presetData&&(this.updateCurrentlyEditingPreset(this.lastSavedPreset),this.updatePreset(this.lastSavedPreset.presetData)),this.resetCurrentlyEditingPreset()}resetCurrentlyEditingPreset(){this.currentlyEditingPreset=!1,this.lastSavedPreset=!1,this.$emit("active",null)}openPreset(e){const t=(0,Me.Z)(this.value.presets.find((t=>t.slug===e)));if(!t)return;const n=this.value.presetSections.find((t=>t.slug===e));if(!n)return void fe.Z.log.message(`${e} couldn't be found`);const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingPreset({presetData:{...t,preset:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","preset")}saveAs(e){this.currentlyEditingPreset&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,e.directoryPath,this.currentPresetName,gp(e.namespace,this.currentPresetName),e.onlyForAdvancedUsers)}saveNewItem(e){const t=hp()(e.name),n=gp(e.namespace,e.name);this.value.presets.find((e=>e.slug===n))?(0,Kl.O6)(this.value.saveLocations,e,"preset"):(this.saveToServer({slug:n,section:(0,Kc.tr)()},e.directoryPath,t,n,e.onlyForAdvancedUsers),this.$emit("active","preset"))}saveOverride(){this.currentlyEditingPreset&&this.currentlyEditingPreset.directoryPath&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,this.currentlyEditingPreset.directoryPath,this.currentPresetName,this.currentlyEditingPreset.presetData.slug,this.currentlyEditingPreset.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,a){this.saveInProgress=!0,(0,W.pipe)(await mp(e,t,n,s),(0,V.fold)((e=>{console.error(e),fe.Z.log.message("Failed to save element, check console")}),(()=>{const n={presetData:{preset:(0,Me.Z)(e),slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingPreset(n),this.updatePreset(n.presetData),this.lastSavedPreset=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],jm.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],jm.prototype,"elementStudioContext",void 0),jm=(0,r.gn)([(0,l.wA)({components:{ToggleInput:al.Z,ElementStudioDynPropPaths:Yh,ElementStudioPropertyPaths:Vh,Accordion:vc.Z,ControlSectionOrControl:Dp,TextInput:vo.Z,Icon:G.Z,CodeInput:Rp.Z,ElementStudioTabsAndPanels:Im,ElementStudioWidthAdjustmentBar:Ll,ElementStudioTopbar:sc}})],jm);const Xm=jm,qm=Xm;var Ym=(0,q.Z)(qm,Gm,Km,!1,null,null,null);const Qm=Ym.exports;let Jm=class extends s.ZP{constructor(){super(...arguments),this.data={elements:[],macros:[],presets:[],saveLocations:[],presetSections:[]},this.width=600,this.activeItemType=null}async mounted(){(0,vp.zG)(await(0,D.D)({action:"breakdance_load_element_studio",decoder:Nm}),(0,fp.g_)((e=>e.forEach((e=>fe.Z.log.message(e.msg)))),(e=>{this.data=e})))}updateData(e){this.data=(0,Me.Z)(e)}updateActiveItemType(e){this.activeItemType=e}updateWidth(e){this.width=e}adjustWidth(e){this.width+=e}get styles(){return{width:`${this.width}px`}}get isProdEnv(){return!(0,rl.y)()}};Jm=(0,r.gn)([(0,l.wA)({components:{ElementStudioPresets:Qm,ElementStudioMacros:zm,ElementStudioElements:Bm,ElementStudioWidthAdjustmentBar:Ll}})],Jm);const eg=Jm,tg=eg;var ng=(0,q.Z)(tg,xl,kl,!1,null,null,null);const sg=ng.exports;var ag=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},[t("Add",{directives:[{name:"show",rawName:"v-show",value:"add"===e.panelState,expression:"panelState === 'add'"}]}),"selectors"===e.panelState?t("SelectorsPanel"):"structure"===e.panelState?t("StructurePanel"):e._e(),"elementproperties"===e.panelState?t("ElementPropertiesPanel",{key:e.activeElementId}):"history"===e.panelState?t("HistoryAndRevisionsPanel"):"globalSettings"===e.panelState?t("GlobalSettingsPanel"):e._e()],1)},ig=[],og=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-properties-panel vscroll-wrap vscroll-scroll",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[t("Titlebar"),t("TabsAndControls")]:[t("BlankSidebarContent")]],2)},rg=[],lg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-titlebar"},[t("div",{staticClass:"properties-panel-titlebar-title truncate"},[e._v(" "+e._s(e.elementTitle)+" ")]),e._l(e.elementBadges,(function(e,n){return t("ElementBadge",{key:n,staticClass:"ml-1",attrs:{value:e}})})),t(ra.Z),t("IconButton",{staticClass:"properties-panel-duplicate-button",attrs:{icon:"DuplicateIcon",size:"16",small:!0},on:{click:e.duplicateElement}}),t("IconButton",{staticClass:"properties-panel-delete-button",attrs:{icon:"TrashIcon",size:"16",small:!0},on:{click:e.remove}})],2)},cg=[],dg=n(27517),ug=n(13960);let pg=class extends s.ZP{get elementTitle(){return c.kD.activeElement?c.PK.element(c.kD.activeElement.data.type).name:"No Active Element"}get elementBadges(){if(!c.kD.activeElement)return[];const e=c.PK.element(c.kD.activeElement.data.type),t=e.badge?[e.badge]:[];return e.settings&&e.settings.proOnly&&"free"===c.PK.subscriptionMode&&t.push((0,ug.ur)()),t}duplicateElement(){c.kD.activeElementId&&c.Hb.duplicateElementAndActivateIt(c.kD.activeElementId)}remove(){null!==c.kD.activeElementId&&c.Hb.deleteElement({nodeId:c.kD.activeElementId})}};pg=(0,r.gn)([(0,l.wA)({components:{Dropdown:Ia.Z,IconButton:ka.Z,ElementBadge:dg.Z}})],pg);const hg=pg,mg=hg;var gg=(0,q.Z)(mg,lg,cg,!1,null,null,null);const vg=gg.exports;var fg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"pa-7 d-flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e._m(0),t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},yg=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"blank-sidebar-text"},[t("p",[e._v(" Add an element to your page or click an existing element to edit it. ")])])}];let bg=class extends s.ZP{toggleAdd(){(0,z._y)("add")}};bg=(0,r.gn)([(0,l.wA)({components:{StandardButton:Rs}})],bg);const Sg=bg,Pg=Sg;var _g=(0,q.Z)(Pg,fg,yg,!1,null,null,null);const Cg=_g.exports;var wg=n(99868),xg=n(96878),kg=n(47233),Ig=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.hasSearchParameters?e._e():t("DesignContentSettingsTabs",{attrs:{value:e.tab,controls:e.controls},on:{input:e.updateTab}}),t("div",{staticClass:"vscroll-scroll"},[e.hasSearchParameters&&!e.noSearchResults?t(wg.Z,[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.contentSections,path:"content",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.designSections,path:"design",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.settingsSections,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(wg.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"controls"},on:{input:e.clearQuery}})],1):t(kg.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasContentControls?t(xg.Z,{attrs:{value:"content",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}})],1):e._e(),e.hasDesignControls?t(xg.Z,{attrs:{value:"design",transition:!1,"reverse-transition":!1}},[t("DesignTabContent",{attrs:{controls:e.designSections,path:"design"}})],1):e._e(),e.hasSettingsControls?t(xg.Z,{attrs:{value:"settings",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.settingsSections,path:"settings"}})],1):e._e()],1)],1),t("SearchBox",{attrs:{value:e.searchBoxState,location:"element","include-settings-toggle":!0},on:{input:e.updateSearchBoxState}})],1)},Eg=[],Dg=n(14095),Zg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-box-wrap"},[t("div",{staticClass:"properties-panel-search-box-inner-wrap"},[t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),t("TextInput",{staticClass:"properties-panel-search-text-input",attrs:{value:e.value.query,placeholder:e.placeholder,"data-test-id":"elements-panel-search"},on:{input:e.editQuery}}),t("div",{staticClass:"properties-panel-search-actions"},[e.value.query?t("div",{staticClass:"properties-panel-search-modified",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e(),t("SearchFilter",{attrs:{value:e.value.modifiedOnly},on:{input:e.editModified}},[e._v("modified")]),e.includeSettingsToggle?t("SearchFilter",{attrs:{value:e.value.includeSettings},on:{input:e.editSettings}},[t("Icon",{attrs:{icon:"GearIcon",size:"12"}})],1):e._e()],1)],1)])},Tg=[],Ag=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"properties-panel-search-modified":!0,"properties-panel-search-modified-on":this.value},on:{click:e.toggle}},[e._t("default")],2)},Bg=[];let Og=class extends s.ZP{toggle(){this.$emit("input",!this.value)}};(0,r.gn)([(0,l.fI)()],Og.prototype,"value",void 0),Og=(0,r.gn)([l.wA],Og);const Rg=Og,Mg=Rg;var Fg=(0,q.Z)(Mg,Ag,Bg,!1,null,null,null);const Ng=Fg.exports;let $g=class extends s.ZP{emit(e){this.$emit("input",e)}editQuery(e){"string"===typeof e?this.emit({...this.value,query:e.trim().toLowerCase()}):this.emit({...this.value,query:""})}clearQuery(){this.emit({...this.value,query:"",modifiedOnly:!1})}editModified(e){this.emit({...this.value,modifiedOnly:e})}editSettings(e){this.emit({...this.value,includeSettings:e})}get placeholder(){return"Search"}};(0,r.gn)([(0,l.fI)()],$g.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],$g.prototype,"includeSettingsToggle",void 0),(0,r.gn)([(0,l.fI)()],$g.prototype,"location",void 0),$g=(0,r.gn)([(0,l.wA)({components:{SearchFilter:Ng,TextInput:vo.Z,Icon:G.Z}})],$g);const Lg=$g,Wg=Lg;var Vg=(0,q.Z)(Wg,Zg,Tg,!1,null,null,null);const Hg=Vg.exports;var Ug=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TabsRow",[e.hasContentControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"content","data-test-id":"element-properties-tab-content"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PenIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("content")}}},[t(Ca.V9,[e._v("Reset Content")])],1)],1)]},proxy:!0}],null,!1,855652120)}):e._e(),e.hasDesignControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"design","data-test-id":"element-properties-tab-design"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PaletteIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("design")}}},[t(Ca.V9,[e._v("Reset Design")])],1)],1)]},proxy:!0}],null,!1,1825965438)}):e._e(),e.hasSettingsControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"settings","data-test-id":"element-properties-tab-settings"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"GearIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("settings")}}},[t(Ca.V9,[e._v("Reset Settings")])],1)],1)]},proxy:!0}],null,!1,325617522)}):e._e(),t("SavePreset",{attrs:{open:e.savePresetDialogOpen},on:{"update:dialog":function(t){e.savePresetDialogOpen=t}}})],1)},zg=[],Gg=n(48403),Kg=n.n(Gg),jg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList,on:{click:function(t){return e.$emit("input",e.id)},contextmenu:e.openContextMenu}},[e.hasIconSlot?t("div",{staticClass:"breakdance-tab__icon"},[e._t("icon")],2):e._e(),e.hasIconSlot?e._e():t("div",{staticClass:"breakdance-tab__label"},[e._t("default")],2),e.hasContextMenuSlot?t("div",{staticClass:"breakdance-tab__context-menu"},[t("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[e._t("contextmenu")],2)],1):e._e()])},Xg=[];let qg=class extends s.ZP{constructor(){super(...arguments),this.contextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get classList(){return{"breakdance-tab":!0,[`breakdance-tab--id-${this.id}`]:!0,"breakdance-tab--active":this.value===this.id}}get hasContextMenuSlot(){return!!this.$slots.contextmenu}get hasIconSlot(){return!!this.$slots.icon}openContextMenu(e){this.hasContextMenuSlot&&(e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((()=>{this.contextMenu=!0})))}};(0,r.gn)([(0,l.fI)()],qg.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],qg.prototype,"id",void 0),qg=(0,r.gn)([(0,l.wA)({components:{Dropdown:Ia.Z}})],qg);const Yg=qg,Qg=Yg;var Jg=(0,q.Z)(Qg,jg,Xg,!1,null,null,null);const ev=Jg.exports;var tv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-tabs-row"},[e._t("default")],2)},nv=[];let sv=class extends s.ZP{};sv=(0,r.gn)([(0,l.wA)({})],sv);const av=sv,iv=av;var ov=(0,q.Z)(iv,tv,nv,!1,null,null,null);const rv=ov.exports;var lv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.open},on:{input:function(t){return e.$emit("update:dialog",!1)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save Design Settings As Preset ")]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{attrs:{size:"md",placeholder:"Present name"},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}}),t("WPMediaInput",{staticClass:"mt-6",model:{value:e.newPresetScreenshot,callback:function(t){e.newPresetScreenshot=t},expression:"newPresetScreenshot"}})]},proxy:!0},{key:"actions",fn:function(){return[t(Es.Z,{staticStyle:{"margin-right":"auto"},attrs:{text:""},on:{click:function(t){e.open=!1}}},[e._v("Cancel")]),t(Es.Z,{attrs:{outlined:""},on:{click:e.exportPreset}},[e._v("Export To JSON")]),t(Es.Z,{attrs:{dark:"",color:"blue",loading:e.saveInProgress},on:{click:e.savePreset}},[e._v("Save")])]},proxy:!0}])})},cv=[],dv=n(97420);function uv(e,t,n="text/plain"){const s=new Blob([e],{type:n}),a=document.createElement("a");a.download=t,a.href=(window.webkitURL||window.URL).createObjectURL(s),a.dataset.downloadurl=[n,a.download,a.href].join(":"),a.click()}let pv=class extends s.ZP{constructor(){super(...arguments),this.newPresetName="",this.newPresetScreenshot=null,this.saveInProgress=!1}async saveToLibrary(e){this.saveInProgress=!0;const t=(0,Me.Z)(c.PK.presetsForElements);t.push(e),(0,W.pipe)(await pa.HR("presets_for_elements",t),(0,V.fold)((e=>{e.forEach((e=>fe.Z.log.message(e.msg)))}),(()=>{c.PK.setPresetsForElements(t)}))),this.saveInProgress=!1}makePreset(){const e=c.kD.activeElement;if(!e)return!1;if(!this.newPresetName||!this.newPresetScreenshot)return fe.Z.log.message("Presets must have a name and a screenshot."),!1;const t=(0,Me.Z)(this.context.getControlValue("design"));if(!t)return fe.Z.log.message("Unable to save blank design settings as preset."),!1;const n={availableForType:e.data.type,designPropertiesData:t,label:this.newPresetName,screenshotUrl:this.newPresetScreenshot};return n}savePreset(){const e=this.makePreset();e&&(this.saveToLibrary(e),this.clearAndClose())}exportPreset(){const e=this.makePreset();e&&(uv((0,il.g)(e)||"","preset.json"),this.clearAndClose())}clearAndClose(){this.newPresetName="",this.newPresetScreenshot=null,this.$emit("update:dialog",!1)}};(0,r.gn)([(0,l.fI)()],pv.prototype,"open",void 0),(0,r.gn)([(0,l.tB)("context")],pv.prototype,"context",void 0),pv=(0,r.gn)([(0,l.wA)({components:{WPMediaInput:dv.Z,TextInput:vo.Z,Dialog:qn.Z}})],pv);const hv=pv,mv=hv;var gv=(0,q.Z)(mv,lv,cv,!1,null,null,null);const vv=gv.exports;var fv=n(47256);let yv=class extends s.ZP{constructor(){super(...arguments),this.savePresetDialogOpen=!1}setTab(e){this.$emit("input",e)}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}resetToDefault(e){!1!==c.kD.activeElement&&Sv(c.kD.activeElement.id,e)}};(0,r.gn)([(0,l.fI)({default:"content"})],yv.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],yv.prototype,"controls",void 0),(0,r.gn)([(0,l.tB)("context")],yv.prototype,"context",void 0),yv=(0,r.gn)([(0,l.wA)({components:{TabsRow:rv,Tab:ev,Icon:G.Z,SavePreset:vv}})],yv);const bv=yv;function Sv(e,t){const n=(0,Ie.DY)(c.Hb.document.tree,e);if(!n)return;const s=c.PK.element(n.data.type).defaultProperties,a=b()(s,t,fv.Bz);c.Hb.throttledPropertyChanged({elementId:n.id,path:t,value:(0,Me.Z)(a),meta:{snapshotLabel:`Reset ${(0,Ae.JC)(n.data.type)} ${Kg()(t)}`}})}const Pv=bv;var _v=(0,q.Z)(Pv,Ug,zg,!1,null,null,null);const Cv=_v.exports;var wv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["custom"===e.mode?[t("ControlsTree",{attrs:{controls:e.controls,path:e.path}}),e.presets.length>0?t("div",{staticClass:"design-tab-design-settings-go-back-to-presets-link",on:{click:function(t){return e.changeMode("presets")}}},[e._v(" presets » ")]):e._e()]:[t("div",{staticClass:"design-tab-presets-browser-content"},[t("div",{staticClass:"design-tab-design-settings-customize-link",attrs:{"data-test-id":"element-design-customize"},on:{click:function(t){return e.changeMode("custom")}}},[e._v(" customize » ")])])]],2)},xv=[],kv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.presets,(function(n,s){return t("div",{key:s,staticClass:"breakdance-presets-in-design-tab-preset",on:{click:function(t){return e.applyPreset(n)}}},[e._v(" "+e._s(n.label)+" "),t("img",{attrs:{src:n.screenshotUrl.url}})])})),0)},Iv=[];function Ev(e){c.kD.activeElement&&c.kD.activeElement.data.type===e.availableForType||c.Hb.addElement({elementSlug:e.availableForType}),c.kD.activeElement&&c.kD.activeElement.data.type===e.availableForType&&c.Hb.throttledPropertyChanged({elementId:c.kD.activeElement.id,path:"design",value:(0,Me.Z)(e.designPropertiesData),meta:{snapshotLabel:`Apply preset "${e.label}" to ${(0,Ae.JC)(c.kD.activeElement.data.type)}`}})}let Dv=class extends s.ZP{applyPreset(e){Ev(e),this.$emit("presetApplied")}};(0,r.gn)([(0,l.fI)({default:[]})],Dv.prototype,"presets",void 0),Dv=(0,r.gn)([l.wA],Dv);const Zv=Dv,Tv=Zv;var Av=(0,q.Z)(Tv,kv,Iv,!1,null,null,null);const Bv=Av.exports;let Ov=class extends s.ZP{constructor(){super(...arguments),this.mode="custom"}changeMode(e){this.mode=e}get presets(){return c.kD.activeElement?c.PK.presetsForElements.filter((e=>e.availableForType===c.kD.activeElement.data.type)):[]}};(0,r.gn)([(0,l.fI)()],Ov.prototype,"controls",void 0),(0,r.gn)([(0,l.fI)()],Ov.prototype,"path",void 0),Ov=(0,r.gn)([(0,l.wA)({components:{ControlsTree:Dg["default"],PresetsInDesignTab:Bv}})],Ov);const Rv=Ov,Mv=Rv;var Fv=(0,q.Z)(Mv,wv,xv,!1,null,null,null);const Nv=Fv.exports;var $v=n(78574);function Lv(e,t,n,s){const a=new RegExp(n.trim().replace(" ","|"),"si"),i=(e,n)=>!(a&&!`${e.label}`.match(a)&&!`${e.slug}`.match(a)&&!`${e.keywords}`.match(a))&&!(t&&!(0,fv.Ed)(n,e,s));return{contentSections:Vv(e.contentSections,i,"content",t),designSections:Vv(e.designSections,i,"design",t),settingsSections:Vv(e.settingsSections,i,"settings",t)}}function Wv(e,t,n,s,a){const i=new RegExp(n.trim().replace(" ","|"),"si"),o=(e,n)=>!(i&&!`${e.label}`.match(i)&&!`${e.slug}`.match(i)&&!`${e.keywords}`.match(i))&&!(t&&!(0,fv.Ed)(n,e,s));return Vv(e,o,a,t)}function Vv(e,t,n,s){const a=(0,Me.Z)(e);return a.filter((e=>{const a=t(e,`${n}.${e.slug}`);return"section"===e.options.type?!(!a||s)||(e.children=Vv(e.children,t,`${n}.${e.slug}`,s),e.children.length>0):a}))}const Hv=(e,t)=>(e.forEach((e=>{t=Hv(e.children,t+("section"===e.options.type?0:1))})),t);var Uv=n(18759),zv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-empty-state"},[t("svg",{staticClass:"properties-panel-search-empty-state-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75","stroke-width":"6.250005"}})])]),t("h5",[e._v("No "+e._s(e.label)+" found.")]),t(Es.Z,{staticClass:"mt-4",attrs:{text:"",outlined:"",small:""},on:{click:e.clearSearch}},[e._v("Clear Search")])],1)},Gv=[];let Kv=class extends s.ZP{clearSearch(){this.$emit("input")}};(0,r.gn)([(0,l.fI)({default:"element"})],Kv.prototype,"label",void 0),Kv=(0,r.gn)([(0,l.wA)({components:{Dropdown:Ia.Z,IconButton:ka.Z}})],Kv);const jv=Kv,Xv=jv;var qv=(0,q.Z)(Xv,zv,Gv,!1,null,null,null);const Yv=qv.exports;let Qv=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,includeSettings:!1,query:""},this.editingElementControlsTreeContext=ef,this.searchString=""}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:"",includeSettings:!1})}updateSearchBoxState(e){this.searchBoxState=e}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get noSearchResults(){return Hv(this.controlsFilteredBySearchParams.contentSections,0)+Hv(this.controlsFilteredBySearchParams.designSections,0)+Hv(this.controlsFilteredBySearchParams.settingsSections,0)===0}get controlsFilteredBySearchParams(){const e=this.searchBoxState.includeSettings?{designSections:[],contentSections:[],settingsSections:this.controls.settingsSections}:{...this.controls,settingsSections:[]};return Lv(this.searchBoxState.modifiedOnly?this.controls:e,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingElementControlsTreeContext)}get controls(){const e=this.element.data.type,t=c.PK.element(e).controls;return(0,$v.Z)(t,c.PK.permission)}get contentSections(){return this.controls.contentSections}get designSections(){return this.controls.designSections}get settingsSections(){return this.controls.settingsSections}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}get tab(){return this.elementId&&c.kD.panelState.elementPropertiesPanelActiveTab[this.elementId]?c.kD.panelState.elementPropertiesPanelActiveTab[this.elementId]:this.hasContentControls?"content":this.hasDesignControls?"design":this.hasSettingsControls?"settings":""}updateTab(e){this.elementId&&c.kD.setPanelState({...c.kD.panelState,elementPropertiesPanelActiveTab:{...c.kD.panelState.elementPropertiesPanelActiveTab,[this.elementId]:e}})}};(0,r.gn)([(0,l.fI)()],Qv.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],Qv.prototype,"editingElementControlsTreeContext",void 0),Qv=(0,r.gn)([(0,l.wA)({components:{ControlsTree:Dg["default"],SearchBox:Hg,DesignContentSettingsTabs:Cv,DesignTabContent:Nv,Icon:G.Z,SearchBoxEmptyState:Yv}})],Qv);const Jv=Qv,ef={dynamicProperty:e=>{if(!c.kD.activeElement)return!1;const t=c.PK.element(c.kD.activeElement.data.type).dynamicPropertyPaths;if(!t)return!1;const n=(0,ge.rg)(e).replace(`.${c.kD.currentBreakpoint.id}`,""),s=t.find((e=>(0,ge.rg)(e.path)===n));return!!s?.accepts&&s},getControlValue:e=>b()(c.kD.activeElement,`data.properties.${e}`),setControlValue(e,t,n,s){c.kD.activeElementId&&c.Hb.throttledPropertyChanged((0,Kc.TV)({elementId:c.kD.activeElementId,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},getControls:e=>{if(!c.kD.activeElement)return;const t=(0,De.zE)(e);return t?(0,De.nx)(c.PK.element(c.kD.activeElement.data.type),t.prefix):void 0},setAccordionState:(e,t)=>{c.kD.activeElementId&&(0,Uv.rg)(c.kD.activeElementId,e,t)},getAccordionState:e=>!!c.kD.activeElementId&&(0,Uv.co)(c.kD.activeElementId,e)},tf=Jv;var nf=(0,q.Z)(tf,Ig,Eg,!1,null,null,null);const sf=nf.exports;let af=class extends s.ZP{get elementIsActive(){return!!c.kD.activeElement}};af=(0,r.gn)([(0,l.wA)({components:{Titlebar:vg,TabsAndControls:sf,BlankSidebarContent:Cg}})],af);const of=af,rf=of;var lf=(0,q.Z)(rf,og,rg,!1,null,null,null);const cf=lf.exports;var df=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel"},[t("PanelHeader",{on:{close:e.close}},[e._v(" Add ")]),"success"===e.state?[t("div",{staticClass:"breakdance-add-panel__selection-wrapper"},[t("button",{staticClass:"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active"},[e._v(" Elements ")]),t("button",{staticClass:"breakdance-add-panel__panel-selection",on:{click:e.openDesignLibrary}},[e._v(" Library ")])]),t("ElementsList")]:"loading"===e.state?[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"100%"}},[t(ao.Z,{attrs:{indeterminate:"",size:100,color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"d-flex justify-center align-center pa-4",staticStyle:{height:"100%","font-size":"var(--text-md)","font-weight":"500",color:"var(--gray700)"}},[e._v(" error: failed to load elements ")])]],2)},uf=[],pf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel__element-list"},[t("div",{staticClass:"breakdance-add-panel-search d-flex"},[e.isAddPanelOpen?t("SearchInput",{attrs:{tabindex:"0",placeholder:e.isElementStudioOpen?`Search ${e.elementsCount} elements`:"Search elements",value:e.searchString,autofocus:!0,"data-test-id":"breakdance-add-panel-search"},on:{input:e.handleSearch,keydown:[e.resetSelectedSearchItemIndex,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelectedSearchItem.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.nextOrPreviousSelectedSearchElement.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.goToSelectedSearchElement("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.goToSelectedSearchElement("next"))}]}}):e._e(),e.advancedSearchAvailable?[t(Es.Z,{staticClass:"ml-2",attrs:{"x-small":"",text:"",outlined:e.hasSearchParams},on:{click:function(t){e.advancedSearchDialogOpen=!0}}},[e._v("advanced")]),t(Ui.Z,{attrs:{width:"220"},model:{value:e.advancedSearchDialogOpen,callback:function(t){e.advancedSearchDialogOpen=t},expression:"advancedSearchDialogOpen"}},[t(Ka.Z,[t(_o.ZB,[t("br"),t("h4",[e._v("Internal Element Project Management Tool")]),t(Es.Z,{attrs:{small:""},on:{click:e.dumpSearchResults}},[e._v("dump search results")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[e._v(" Has Dynamic Stuff "),t(el.Z,{model:{value:e.advancedSearchHasDynamicStuff,callback:function(t){e.advancedSearchHasDynamicStuff=t},expression:"advancedSearchHasDynamicStuff"}})],1),e._v(" Looks Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchLooksGood,callback:function(t){e.advancedSearchLooksGood=t},expression:"advancedSearchLooksGood"}}),t("br"),e._v(" Options Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsGood,callback:function(t){e.advancedSearchOptionsGood=t},expression:"advancedSearchOptionsGood"}}),t("br"),e._v(" Options Work: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsWork,callback:function(t){e.advancedSearchOptionsWork=t},expression:"advancedSearchOptionsWork"}}),t("br"),e._v(" Dynamic Behavior Works: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchDynamicBehaviorWorks,callback:function(t){e.advancedSearchDynamicBehaviorWorks=t},expression:"advancedSearchDynamicBehaviorWorks"}}),t("br")],1)],1)],1)]:e._e()],2),t("div",{staticClass:"breakdance-add-panel__item-wrapper"},[e.hasSearchParams?e._e():e._l(e.elementCategories,(function(n,s){return t("div",{key:s},[e.elementsInActiveCategory(n.slug).length?t("Accordion",{attrs:{expanded:e.openCategoriesIndex.includes(s)},on:{toggle:function(t){return e.chooseCategory(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-title",attrs:{tabindex:"0","data-test-id":`elements-category-${n.label.replace(/ /g,"-").toLowerCase()}`},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chooseCategory(s)}}},[e._v(" "+e._s(n.label)+" ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-element-wrapper"},e._l(e.elementsInActiveCategory(n.slug),(function(e,n){return t("AddElement",{key:n,attrs:{element:e}})})),1)]},proxy:!0}],null,!0)}):e._e()],1)})),e.hasSearchParams?t("div",{staticClass:"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search"},[e.searchResultsCount?e._e():t("div",{staticClass:"breakdance-add-panel__no-results-for-search"},[e._v(" no results ")]),e._l(e.elementsForSearch,(function(n,s){return t("AddElement",{key:n.slug,attrs:{element:n,isSelected:e.selectedSearchElementIndex===s}})}))],2):e._e()],2)])},hf=[],mf=n(59826),gf=n(61033),vf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Es.Z,{on:{click:function(t){e.isOpen=!0}}},[e._v("Open Website Dialog")]),t(Ui.Z,{model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(Ka.Z,[t("h1",[e._v(" use the below HTML code on breakdance.com to display a list of elements. ")]),t("p",[e._v(" this is currently used at https://breakdance.com/features/elements ")]),t("div",{staticClass:"all-elements"},e._l(e.elementCategories,(function(n){return t("div",{key:n.categoryLabel,staticClass:"element-category-wrapper"},[t("div",{staticClass:"element-category"},[t("h3",{staticClass:"element-category-label"},[e._v(" "+e._s(n.categoryLabel)+" ")])]),t("div",{staticClass:"elements"},e._l(n.elements,(function(n){return t("div",{key:n.element,staticClass:"element"},[t("div",{staticClass:"element-title"},[e._v(" "+e._s(n.element)+" ")]),n.icon&&e.elementIconIsLocal(n.icon)?t("div",{staticClass:"element-icon"},[t("RawIcon",{attrs:{icon:n.icon}})],1):t("div",{staticClass:"element-icon",domProps:{innerHTML:e._s(n.icon)}})])})),0)])})),0)])],1)],1)},ff=[],yf=n(24192);let bf=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}elementIconIsLocal(e){return Rd.iconNames.find((t=>t===e))}get elementCategories(){const e=Object.values(c.PK.elements);return c.PK.builderElementCategories.map((t=>({categoryLabel:t.label,elements:e.filter((e=>!0!==e.experimental)).filter((e=>!e.addPanelRules||!e.addPanelRules.alwaysHide)).filter((e=>e.category===t.slug)).map((e=>({element:e.name,icon:e.uiIcon}))).sort(((e,t)=>e.element.localeCompare(t.element)))}))).filter((e=>0!==e.elements.length))}};bf=(0,r.gn)([(0,l.wA)({components:{RawIcon:yf.Z}})],bf);const Sf=bf,Pf=Sf;var _f=(0,q.Z)(Pf,vf,ff,!1,null,null,null);const Cf=_f.exports;let wf=class extends s.ZP{constructor(){super(...arguments),this.openCategoriesIndex=[0,1],this.searchString="",this.selectedSearchElementIndex=0,this.advancedSearchAvailable=!1,this.advancedSearchDialogOpen=!1,this.advancedSearchHasDynamicStuff=!1,this.advancedSearchLooksGood=!1,this.advancedSearchOptionsGood=!1,this.advancedSearchOptionsWork=!1,this.advancedSearchDynamicBehaviorWorks=!1}addSelectedSearchItem(){const e=this.elementsForSearch[this.selectedSearchElementIndex]?.slug;e&&(0,De.Sl)(this.elementsForSearch[this.selectedSearchElementIndex])&&c.Hb.addElement({elementSlug:e})}get searchResultsCount(){return Object.keys(this.elementsForSearch).length}goToSelectedSearchElement(e="next"){let t="next"===e?this.selectedSearchElementIndex+1:this.selectedSearchElementIndex-1;t===this.searchResultsCount?t=0:-1===t&&(t=this.searchResultsCount-1),this.selectedSearchElementIndex=t,this.scrollToActive()}nextOrPreviousSelectedSearchElement(e){""!==this.searchString&&e.preventDefault(),this.goToSelectedSearchElement(e.shiftKey?"prev":"next")}handleSearch(e){this.searchString!==e&&document.querySelector(".breakdance-add-panel")?.scrollTo({top:0}),this.searchString=e}get isAddPanelOpen(){return"add"===this.panelContext?.state}resetSearchWhenPanelOpens(){this.isAddPanelOpen&&this.handleSearch("")}resetSelectedSearchItemIndex(e){const t=["Enter","Tab","ShiftLeft","ShiftRight","ArrowUp","ArrowDown"];t.includes(e.code)||(this.selectedSearchElementIndex=0)}get elementsCount(){return this.elements.length}chooseCategory(e){this.searchString="";const t=this.openCategoriesIndex.findIndex((t=>t===e));-1===t?this.openCategoriesIndex=[...this.openCategoriesIndex,e]:this.openCategoriesIndex.splice(t,1)}elementsInActiveCategory(e){return this.elements.filter((t=>t.category===e))}get elementCategories(){return c.PK.builderElementCategories}get elements(){return Object.values(c.PK.elements).filter((e=>!!c.kD.settings.showExperimentalElements||!0!==e.experimental)).filter((e=>!(0,De.GF)(e.addPanelRules,e.settings))).filter((e=>(0,De.Sl)(e))).sort(((e,t)=>e.order<t.order?-1:e.order>t.order?1:0))}get elementsForSearch(){const e=(0,De.tM)(this.elements,this.searchString),t=e.filter((e=>{const t=e.projectManagement?e.projectManagement:void 0;return!Object.values({looksGood:this.advancedSearchLooksGood?t?.looksGood==this.advancedSearchLooksGood:void 0,optionsGood:this.advancedSearchOptionsGood?t?.optionsGood==this.advancedSearchOptionsGood:void 0,optionsWork:this.advancedSearchOptionsWork?t?.optionsWork==this.advancedSearchOptionsWork:void 0,dynamicBehaviorWorks:this.advancedSearchDynamicBehaviorWorks?t?.dynamicBehaviorWorks==this.advancedSearchDynamicBehaviorWorks:void 0,hasDynamicStuff:this.advancedSearchHasDynamicStuff?e.dependencies||e.actions:void 0}).includes(!1)}));return t}scrollToActive(){(0,Je.n)((()=>{document.querySelector(".breakdance-add-panel__element--selected")?.scrollIntoView({block:"center"})}))}dumpSearchResults(){console.log(this.elementsForSearch.map((e=>e.name)).join("\n"))}get advancedSearchDropdownItems(){return["yes","no","unknown","sort of"]}mounted(){$e.uq.register("a d v",(()=>this.advancedSearchAvailable=!0))}beforeDestroy(){$e.uq.unbind("a d v")}get hasSearchParams(){return!!(this.searchString||this.advancedSearchLooksGood||this.advancedSearchOptionsGood||this.advancedSearchOptionsWork||this.advancedSearchDynamicBehaviorWorks||this.advancedSearchHasDynamicStuff)}updateAdvancedSearchValue(e,t){this[e]=t}get isElementStudioOpen(){return c.kD.panelState.elementStudioOpen}};(0,r.gn)([(0,l.tB)({from:"panelContext",default:{}})],wf.prototype,"panelContext",void 0),(0,r.gn)([(0,l.RL)("isAddPanelOpen")],wf.prototype,"resetSearchWhenPanelOpens",null),wf=(0,r.gn)([(0,l.wA)({components:{SearchInput:gf.Z,TextInput:vo.Z,Accordion:vc.Z,AddElement:mf.Z,DropdownInput:Po.Z,WebsiteDialog:Cf}})],wf);const xf=wf,kf=xf;var If=(0,q.Z)(kf,pf,hf,!1,null,null,null);const Ef=If.exports;var Df,Zf=n(18236),Tf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Ui.Z,{attrs:{fullscreen:e.fullscreen,width:e.fullscreen?null:1140,"content-class":"design-library-dialog"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t("header",{staticClass:"design-library-header"},[t("TopBarSection",[t("IconButton",{attrs:{icon:"HouseIcon",size:"18",title:"Go home"},on:{click:e.goHome}})],1),t("TopBarSection",{attrs:{"border-left":!0,"border-right":!0}},[t("DesignProviderDropdown",{attrs:{providers:e.providers},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1),t("TopBarSection",{staticClass:"design-library-breakpoint-chooser ml-auto mr-auto",attrs:{"border-left":!0,"border-right":!0}},[t("BreakpointsSelection",{model:{value:e.breakpoint,callback:function(t){e.breakpoint=t},expression:"breakpoint"}})],1),t("TopBarSection",{staticClass:"ml-auto pr-2",attrs:{"border-right":!0}},[t("NiceButton",{attrs:{disabled:!e.canImportAll,"left-icon":"ArrowDownToLine",loading:e.importingPage},on:{click:e.importAll}},[e._v(" Import Page ")])],1),t("TopBarSection",[t("IconButton",{attrs:{icon:e.fullscreen?"DownLeftAndUpRightToCenter":"UpRightAndDownLeftFromCenter",size:"18",title:"Make modal full screen"},on:{click:e.toggleFullscreen}}),e.selectedUrl?t("a",{attrs:{href:e.selectedUrl,target:"_blank"}},[t("IconButton",{attrs:{icon:"ShareFromSquareIcon",size:"18",title:"Visit site"}})],1):e._e()],1),t("TopBarSection",{attrs:{"border-left":!0}},[t("IconButton",{attrs:{icon:"CloseIcon",size:"18",title:"Close modal"},on:{click:e.close}})],1)],1),t("div",{staticClass:"design-library-contents"},[t("DesignLibrarySidebar",{attrs:{items:e.sidebarItems},on:{select:e.onPostSelected}}),t("div",{ref:"iframeWrapper",staticClass:"design-library-iframe-wrapper"},[e.reliesOnGlobalSettings&&e.previewLoaded?[t("div",{staticClass:"design-library-global-settings-warning"},[t("div",[t("div",{staticClass:"design-library-global-settings-warning-text"},[e.globalSettingsLastImportedFromUrl===e.selectedProvider?.url?[t("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported the global settings from this site. ")]:e.globalSettingsLastImportedFromUrl?[t("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),t("span",[e._v(" This design relies on global settings. It won't look the same unless you import them. ")])]:[t("div",[e._v(" This design relies on global settings. It won't look the same unless you import them. ")])]],2)]),t("NiceButton",{on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Import Global Settings ")])],1),e.importGlobalSettingsScreen?t("div",{staticClass:"design-library-import-global-settings-panel"},[e.loadingExternalGlobalSettings?t("div",[t("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[t("span",[e._v(" Your existing global settings will be overwritten with the global settings from this library website. ")]),t("div",[t(Es.Z,{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Cancel ")]),t(Es.Z,{attrs:{dark:"",color:"blue"},on:{click:e.importGlobalSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()]:e._e(),t("ProOnlyAlertBox",{attrs:{options:{feature:"design-library",content:"Soon, the Design Library will only be available in Breakdance Pro. For now, enjoy your free preview!"}}}),e.requiresPassword&&!e.passwordValid?t("div",{staticClass:"design-library-password"},[t("p",{staticClass:"design-library-password__message"},[e._v(" This Design Set is password protected by the author. Please enter the password below to view it. ")]),t("div",{staticClass:"design-library-password-inner"},[t("form",{staticClass:"design-library-password-form",on:{submit:function(t){return t.preventDefault(),e.setPassword.apply(null,arguments)}}},[t("TextInput",{attrs:{placeholder:"Enter Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("NiceButton",{attrs:{loading:e.checkingPassword}},[e._v("Submit")])],1),!e.passwordValid&&e.checkedPassword?t("p",{staticClass:"design-library-password__invalid-message"},[e._v(" Invalid password. Please try again. ")]):e._e()]),t(Es.Z,{attrs:{color:"primary",href:e.selectedProvider?.url,target:"_blank",depressed:"",outlined:""}},[e._v(" View Design Set ")])],1):t("div",{staticClass:"design-library-iframe-inner-wrapper",style:e.iframeWrapperStyles},[e.selectedProvider&&e.iframeUrl?t("iframe",{ref:"iframe",staticClass:"design-library-iframe",style:e.iframeStyles,attrs:{src:e.iframeUrl},on:{load:e.onProviderLoaded}}):e._e()]),e.previewLoaded?t(Zf.Z,{attrs:{value:e.loading,absolute:""}},[t(ao.Z,{attrs:{indeterminate:"",size:"64"}})],1):e._e(),!e.previewLoaded&&e.selectedProvider?t("DesignLibrarySkeleton"):e._e()],2)],1)])},Af=[],Bf=n(65118),Of=n(75031),Rf=function(){var e=this;e._self._c;return e._m(0)},Mf=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-library-skeleton-loader"},[t("span",{staticClass:"design-library-skeleton-header"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("span",{staticClass:"design-library-skeleton-hero"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("div",{staticClass:"design-library-skeleton-button"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})])])}];let Ff=(0,l.wA)(Df=class extends s.ZP{})||Df;const Nf=Ff;var $f=(0,q.Z)(Nf,Rf,Mf,!1,null,null,null);const Lf=$f.exports,Wf=e=>{const t=(0,Fe.Z)(),n=`Library:${t}`;ie.n.transaction((()=>{e.forEach((e=>{const t=(0,Ze.Z)(vt.Hb.document.tree,null,(0,Ze.kE)(e));(0,vp.zG)(t,(0,fp.g_)((()=>{}),(t=>{if("TOP_LEVEL"===t)return;const s={nodeId:void 0};vt.Hb.pasteCopiedElementMutation({element:e,placeToAddId:t.place.id,placeToAddIndex:t.index||t.place.children.length,pointer:s}),s.nodeId&&me.w.run.onCreatedElement({elementId:s.nodeId,transactionKey:n})})))}))}),"Import from design library",n)};function Vf(){const e=(0,ol.z)("breakdance_last_used_design_provider");return"string"===typeof e&&e}function Hf(e){(0,ol.r)("breakdance_last_used_design_provider",e)}var Uf=n(33356),zf=n(12817),Gf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("aside",{staticClass:"design-library-sidebar"},[t("header",{staticClass:"design-library-sidebar-header"},[t("SearchInput",{attrs:{placeholder:"Search Pages",autofocus:!0},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),t(zf.Z,{attrs:{hoverable:"",activatable:"","open-on-click":"",items:e.treeItems,"open-all":!!e.searchQuery},on:{"update:active":function(t){return e.$emit("select",t)}},scopedSlots:e._u([{key:"prepend",fn:function({item:n,open:s}){return[n.children?t("Icon",{attrs:{icon:s?"FolderOpenIcon":"FolderIcon"}}):e._e()]}}])})],1)},Kf=[],jf=n(74221);let Xf=class extends s.ZP{constructor(){super(...arguments),this.searchQuery=""}get filteredItems(){const e=this.searchQuery;if(!e)return this.items;const t=new jf.Z(this.items,{keys:["name"],threshold:.2});return t.search(e.trim()).map((e=>e.item))}get treeItems(){const e=[],t=this.filteredItems.reduce(((t,n)=>(n.tags.length?n.tags.forEach((e=>{t[e]=t[e]||[],t[e].push(n)})):e.push(n),t)),Object.create(null)),n=Object.keys(t).map((e=>({id:e,name:e,children:t[e]})));return[...e,...n]}};(0,r.gn)([(0,l.fI)({default(){return[]}})],Xf.prototype,"items",void 0),Xf=(0,r.gn)([(0,l.wA)({components:{AlertBox:Kr.Z,SearchInput:gf.Z,Icon:G.Z}})],Xf);const qf=Xf,Yf=qf;var Qf=(0,q.Z)(Yf,Gf,Kf,!1,null,null,null);const Jf=Qf.exports;var ey=n(92260),ty=n(58720),ny=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},[t("h2",[e._v("Design Set")]),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.value&&e.value.name)+" ")])]),t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(Ka.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"300",height:"350"}},[t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(ja.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(Pa.Z,{ref:"scrollable",staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.filteredProviders,(function(n,s){return[t(_a.Z,{key:s,class:{"document-chooser-item-selected":e.value&&n.url===e.value.url},attrs:{link:""},on:{click:function(t){return e.chooseProvider(n)}}},[t(Ca.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(n.name)+" ")]),n.type?t("div",{staticClass:"previewable-item-type"},[e._v(" "+e._s(n.type)+" ")]):e._e()])],1)]}))],2)],1)],1)},sy=[];let ay=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search=""}onSearchChange(){const e=this.$refs.scrollable;this.$nextTick((()=>{e.$el.scrollTop=0}))}get filteredProviders(){return this.providers.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase())))}chooseProvider(e){this.$emit("input",e),this.open=!1}};(0,r.gn)([(0,l.fI)()],ay.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],ay.prototype,"providers",void 0),(0,r.gn)([(0,l.RL)("search")],ay.prototype,"onSearchChange",null),ay=(0,r.gn)([(0,l.wA)({components:{Icon:G.Z,Dropdown:Ia.Z,TopBarSection:Wa}})],ay);const iy=ay,oy=iy;var ry=(0,q.Z)(oy,ny,sy,!1,null,null,null);const ly=ry.exports;let cy=class extends s.ZP{constructor(){super(...arguments),this.selectedProvider=null,this.selectedPostId=null,this.providerElements=[],this.reliesOnGlobalSettings=!1,this.providerPosts=[],this.importingPage=!1,this.password="",this.requiresPassword=!1,this.passwordValid=!0,this.checkedPassword=!1,this.checkingPassword=!1,this.breakpoint={id:Ft.Wp,label:"",minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:Ft.kS},this.canvasSize={width:0,height:0},this.loading=!1,this.previewLoaded=!1,this.fullscreen=!1,this.loadingDesignSetData=!1,this.loadingExternalGlobalSettings=!1,this.importGlobalSettingsScreen=!1}mounted(){vt.kD.hasFullAccess&&($e.uq.register(ma.r.CMD_B,this.open),this.setSelectedProviderToLastUsedProvider())}beforeDestroy(){$e.uq.unbind(ma.r.CMD_B),this.unbindListeners()}get providers(){return vt.PK.designLibrary.designProviders}setSelectedProviderToLastUsedProvider(){const e=Vf(),t=this.providers.find((t=>t.url===e));if(t)this.selectedProvider=t;else{const e=this.providers.find((e=>"This Website"===e.name));e&&(this.selectedProvider=e)}}get sidebarItems(){return this.providerPosts}get isOpen(){return vt.kD.panelState.designLibraryModalOpen}set isOpen(e){vt.kD.setDesignLibraryModalState(e)}get selectedPost(){return this.providerPosts.find((e=>e.id===this.selectedPostId))}get selectedUrl(){return this.selectedPost?.url||this.selectedProvider?.url}get iframeUrl(){if(!this.selectedUrl)return null;const e=new URL(this.selectedUrl);return e.searchParams.append("breakdance","design-library"),this.currentProviderPassword&&e.searchParams.set("password",this.currentProviderPassword),e.toString()}get previewWidth(){return this.breakpoint.id===Ft.Wp?"100%":this.breakpoint.defaultPreviewWidth}get minWidth(){return(0,Ft.GV)(vt.cr)}get iframeWrapperStyles(){return{width:"100%"===this.previewWidth?"100%":`${this.previewWidth}px`}}get iframeStyles(){const e=e=>{const t=Math.min(1,this.canvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.canvasSize.height*(1/t)+"px"}};return"100%"===this.previewWidth?this.canvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.previewWidth)}get canImportAll(){return this.providerElements.length}get globalSettingsLastImportedFromUrl(){return vt.PK.designLibrary.globalSettingsLastImportedFromUrl}get currentProviderPassword(){const e=new URL(this.selectedProvider?.url||"");return e.searchParams.get("password")}onDialogOpen(){this.isOpen?this.modalOpened():this.unbindListeners()}onProviderChange(e,t){this.providerElements=[],this.selectedPostId=null,this.providerPosts=[],this.reliesOnGlobalSettings=!1,this.requiresPassword=!1,this.checkedPassword=!1,this.password="",this.getDesignSetData(),e.url!==t?.url&&(this.previewLoaded=!1)}modalOpened(){this.selectedProvider||(this.selectedProvider=this.providers[1]),this.calculateSizeAfterTransition(),window.addEventListener("message",this.handleIframeMessage,!1),window.addEventListener("resize",this.setCanvasSize)}toggleImportGlobalSettingsScreen(){this.importGlobalSettingsScreen=!this.importGlobalSettingsScreen}unbindListeners(){window.removeEventListener("message",this.handleIframeMessage,!1),window.removeEventListener("resize",this.setCanvasSize)}calculateSizeAfterTransition(){const e=400;setTimeout((()=>this.setCanvasSize()),e)}setCanvasSize(){const e=this.$refs.iframeWrapper;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();this.canvasSize={width:t,height:n}}reloadIframe(){const e=this.$refs.iframe;e?(e.src+="",this.loading=!0):this.selectedProvider=this.providers[0]}goHome(){this.selectedPostId=null,this.reloadIframe()}toggleFullscreen(){this.fullscreen=!this.fullscreen,this.calculateSizeAfterTransition()}handleIframeMessage(e){if("string"!==typeof e.data)return;const[t,n]=e.data.split(/,(.*)/s);"breakdanceGetElements"===t&&this.getElements(n),"breakdanceImportElement"===t&&this.importElement(n),"breakdanceBeforeLeave"===t&&this.navigatedAway()}onPostSelected(e){const[t]=e;this.loading=!0,this.selectedPostId=t||null,this.reloadIframe()}onProviderLoaded(){this.previewLoaded=!0,this.loading=!1,this.setCanvasSize()}getElements(e){this.loading=!1;const t=(0,Bf.Z)(e,Z.IX(Of.NM));this.providerElements=(0,vp.zG)(t,(0,fp.g_)((()=>[]),(e=>e)))}navigatedAway(){this.loading=!0}importElement(e){const t=(0,Bf.Z)(e,Of.NM),n=(0,vp.zG)(t,(0,fp.g_)((()=>null),(e=>e)));n&&(this.insertElements([n]),this.close(),this.$nextTick((()=>{(0,Uf.zE)()})))}insertElements(e){Wf(e),this.selectedProvider&&Hf(this.selectedProvider.url)}importAll(){this.importingPage=!0,this.insertElements(this.providerElements),this.close(),this.importingPage=!1,this.$nextTick((()=>{(0,Uf.zE)()}))}close(){vt.kD.setDesignLibraryModalState(!1)}open(){vt.kD.setDesignLibraryModalState(!0)}async getDesignSetData(){const e=this.selectedProvider?.url;this.loadingDesignSetData=!0,(0,vp.zG)(await(0,D.D)({action:this.selectedProvider?.isLocal?"breakdance_get_local_design_set":"breakdance_get_external_design_set",decoder:ey.i2,friendlyName:"Design Set Data",dataToPost:{url:e}}),(0,fp.g_)((()=>{this.providerPosts=[]}),(e=>{this.providerPosts=e.posts,this.requiresPassword=e.requiresPassword||!1,this.passwordValid=!!e.passwordValid,this.reliesOnGlobalSettings=!this.selectedProvider?.isLocal&&e.reliesOnGlobalSettings}))),this.loadingDesignSetData=!1}async importGlobalSettings(){if(this.selectedProvider?.isLocal)return;this.loadingExternalGlobalSettings=!0;const e=this.selectedProvider?.url,t=(0,vp.zG)(await(0,D.D)({action:"breakdance_get_external_global_settings",decoder:Of.az,friendlyName:`Global Settings for "${e}"`,dataToPost:{url:e}}),(0,fp.g_)((()=>!1),(t=>(e&&vt.PK.setDesignLibrary({...vt.PK.designLibrary,globalSettingsLastImportedFromUrl:e}),t&&t.globalSettings))));this.loadingExternalGlobalSettings=!1,this.importGlobalSettingsScreen=!1,!1!==t?(vt.cr.setGlobalSettings(t),vt.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!1),fe.Z.log.message(`Imported Global Settings from "${this.selectedProvider?.name||this.selectedProvider?.url}"`)):fe.Z.log.errorMessage(`Error importing Global Settings for "${this.selectedProvider?.name||this.selectedProvider?.url}"`)}async setPassword(){if(this.checkingPassword)return;this.checkingPassword=!0,this.checkedPassword=!1;const e=(0,vp.zG)(await(0,D.D)({action:"breakdance_set_design_set_password",decoder:Z.dt({validated:Z.O7,message:Z.Z_}),friendlyName:`Set Password For "${this.selectedProvider?.name}"`,dataToPost:{url:this.selectedProvider?.url,password:this.password},suppressErrorLogging:!0}),(0,fp.g_)((()=>!1),(({validated:e})=>e)));e?setTimeout((async()=>{await this.getAllProvidersAndReloadSelected(),this.password="",this.checkingPassword=!1,this.passwordValid=!0,this.checkedPassword=!0}),150):(this.checkingPassword=!1,this.passwordValid=!1,this.checkedPassword=!0)}async getAllProvidersAndReloadSelected(){await this.getUpdatedDesignProviders();const e=this.providers.find((e=>e.name===this.selectedProvider?.name));this.selectedProvider=e||this.providers[0]}async getUpdatedDesignProviders(){(0,vp.zG)(await(0,D.D)({action:"breakdance_get_design_library_data",decoder:ey.Jd}),(0,fp.g_)((()=>{}),(e=>{vt.PK.setDesignLibrary(e)})))}};(0,r.gn)([(0,l.RL)("isOpen")],cy.prototype,"onDialogOpen",null),(0,r.gn)([(0,l.RL)("selectedProvider")],cy.prototype,"onProviderChange",null),cy=(0,r.gn)([(0,l.wA)({components:{LoadingSpinner:ty.Z,ProOnlyAlertBox:jr.Z,Icon:G.Z,IconButton:ka.Z,NiceButton:Ki.Z,DesignLibrarySidebar:Jf,DesignLibrarySkeleton:Lf,TopBarSection:Wa,TextInput:vo.Z,DropdownInput:Po.Z,BreakpointsSelection:Aa,DesignProviderDropdown:ly}})],cy);const dy=cy,uy=dy;var py=(0,q.Z)(uy,Tf,Af,!1,null,null,null);const hy=py.exports;var my=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(wg.Z,{staticClass:"breakdance-panel-header d-flex align-center",attrs:{tile:""}},[t("div",{staticClass:"breakdance-panel-header-title"},[e._t("default")],2),t(ra.Z),e._t("right"),e.backInsteadOfClose?t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"ChevronDownIcon",rotate:"90",size:"12",small:""},on:{click:e.close}}):t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"CloseIcon",size:"16",small:""},on:{click:e.close}})],2)},gy=[];let vy=class extends l.w3{close(){this.$emit("close")}};(0,r.gn)([(0,l.fI)({default:!1})],vy.prototype,"backInsteadOfClose",void 0),vy=(0,r.gn)([(0,l.wA)({components:{IconButton:ka.Z}})],vy);const fy=vy,yy=fy;var by=(0,q.Z)(yy,my,gy,!1,null,null,null);const Sy=by.exports;let Py=class extends s.ZP{close(){(0,z.TO)("add")}openDesignLibrary(){vt.kD.setDesignLibraryModalState(!0)}get state(){return vt.PK.elementsLoadingState}};Py=(0,r.gn)([(0,l.wA)({components:{DesignLibraryModal:hy,PanelHeader:Sy,ElementsList:Ef}})],Py);const _y=Py,Cy=_y;var wy=(0,q.Z)(Cy,df,uf,!1,null,null,null);const xy=wy.exports;var ky=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll global-settings-panel"},[t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:e.close}},[e._v(" Global Settings "),t("BrowseModeToggle",{attrs:{"panel-to-open":"globalSettings"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?t("GlobalSettingsPanelControlsViewMode",{attrs:{"is-loading":e.isLoading}}):"history"===e.viewMode?t("GlobalSettingsPanelHistoryViewMode"):e._e()],1)])},Iy=[],Ey=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PanelHeaderButton",{attrs:{enabled:e.isBrowseModeEnabled},on:{click:e.toggleBrowseMode}},[e._v("browse")])},Dy=[],Zy=n(89381),Ty=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-panel-header-button":!0,"breakdance-panel-header-button--enabled":e.enabled},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},Ay=[];let By=class extends l.w3{};(0,r.gn)([(0,l.fI)({default:!0})],By.prototype,"enabled",void 0),By=(0,r.gn)([(0,l.wA)({components:{}})],By);const Oy=By,Ry=Oy;var My=(0,q.Z)(Ry,Ty,Ay,!1,null,null,null);const Fy=My.exports;let Ny=class extends s.ZP{get isBrowseModeEnabled(){return"browse"===vt.kD.mode}toggleBrowseMode(){(0,Zy.lD)(this.panelToOpen)}};(0,r.gn)([(0,l.fI)({default:"globalSettings"})],Ny.prototype,"panelToOpen",void 0),Ny=(0,r.gn)([(0,l.wA)({components:{PanelHeaderButton:Fy}})],Ny);const $y=Ny,Ly=$y;var Wy=(0,q.Z)(Ly,Ey,Dy,!1,null,null,null);const Vy=Wy.exports;var Hy=n(38433),Uy=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.isLoading?t(Hy.Z,{attrs:{"justify-center":"","align-center":""}},[t(ao.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):[e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"settings"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(wg.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"settings"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"settings"},on:{input:e.updateSearchBoxState}})]],2)},zy=[];let Gy=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.editingGlobalSettingsControlsTreeContext=jy}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get controls(){return vt.PK.globalSettingsControlsAndTemplate.controls}get controlsFilteredBySearchParams(){return Wv(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingGlobalSettingsControlsTreeContext,"settings")}get noSearchResults(){return 0===Hv(this.controlsFilteredBySearchParams,0)}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}};(0,r.gn)([(0,l.fI)({default:!1})],Gy.prototype,"isLoading",void 0),(0,r.gn)([(0,l.DF)("context")],Gy.prototype,"editingGlobalSettingsControlsTreeContext",void 0),Gy=(0,r.gn)([(0,l.wA)({components:{ControlsTree:Dg["default"],SearchBox:Hg,Icon:G.Z,SearchBoxEmptyState:Yv}})],Gy);const Ky=Gy,jy={dynamicProperty:()=>!1,getControlValue:e=>b()(vt.cr.globalSettings,e),setControlValue(e,t,n,s){vt.cr.throttledGlobalSettingsPropertyChange((0,Kc.YO)({path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},getControls:()=>vt.PK.globalSettingsControlsAndTemplate.controls,setAccordionState:(e,t)=>{(0,Uv.v)(e,t)},getAccordionState:e=>(0,Uv.uz)(e)},Xy=Ky;var qy=(0,q.Z)(Xy,Uy,zy,!1,null,null,null);const Yy=qy.exports;var Qy=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},Jy=[],eb=n(21516);const tb=Z.dt({id:Z.G0([Z.pk,Z.Z_]),date:Z.Z_,author:Z.G0([Z.Z_,Z.i0(!1)])}),nb=Z.jV([tb,Z.dt({globalSettings:Of.az})]),sb=Z.IX(nb),ab=Z.jV([tb,Z.dt({selectors:eb.Ng})]),ib=Z.IX(ab),ob=Z.jV([tb,Z.dt({tree:Z.Z_})]),rb=Z.jV([tb,Z.dt({tree:Of.f2})]),lb=(Z.dt({revisions:Z.IX(rb)}),Z.G0([Z.dt({revisions:Z.IX(ob)}),Z.dt({unsupported:Z.Z_})]));async function cb(){return(0,vp.zG)(await(0,D.D)({action:"breakdance_retrieve_global_settings_revisions",decoder:sb}),(0,V.mapLeft)((()=>null)),fp.i$)}var db=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-revisions-list vscroll-wrap vscroll-scroll"},[e.isLoading?t(Hy.Z,{attrs:{"justify-center":"","align-center":""}},[t(ao.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.revisionsNotSupportedMessage?t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("p",[e._v(e._s(e.revisionsNotSupportedMessage))])]):e.revisions.length?t("div",{staticClass:"breakdance-revisions-list__items"},e._l(e.revisions,(function(n,s){return t("RevisionItem",{key:n.revisionData.id,attrs:{revision:n.revisionData,selected:n.isSelected},on:{click:function(t){return e.onRevisionSelected(n,s)}}})})),1):t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("h2",[e._v("No revisions found")]),t("p",[e._v("Save any changes to create a new revision")])])],1)},ub=[],pb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-item",class:{"revisions-item--selected":e.selected},on:{click:function(t){return e.$emit("click",e.revision)}}},[t("span",{staticClass:"revisions-item__date"},[e._v(e._s(e.revision.date))]),e.revision.author?[t("span",[e._v(e._s(e.revision.author))])]:e._e()],2)},hb=[];let mb=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default(){return{}}})],mb.prototype,"revision",void 0),(0,r.gn)([(0,l.fI)({default:!1})],mb.prototype,"selected",void 0),mb=(0,r.gn)([(0,l.wA)({})],mb);const gb=mb,vb=gb;var fb=(0,q.Z)(vb,pb,hb,!1,null,null,null);const yb=fb.exports;let bb=class extends s.ZP{onRevisionSelected(e,t){this.$emit("revisionSelected",e,t)}};(0,r.gn)([(0,l.fI)({default:!1})],bb.prototype,"isLoading",void 0),(0,r.gn)([(0,l.fI)({default:[]})],bb.prototype,"revisions",void 0),(0,r.gn)([(0,l.fI)({default:null})],bb.prototype,"revisionsNotSupportedMessage",void 0),bb=(0,r.gn)([(0,l.wA)({components:{RevisionItem:yb}})],bb);const Sb=bb,Pb=Sb;var _b=(0,q.Z)(Pb,db,ub,!1,null,null,null);const Cb=_b.exports;var wb=n(25886);let xb=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async beforeMount(){await this.loadRemoteRevisions(),vt.cr.settingsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wb.q$)(e);"global"===t&&"global/restoreGlobalSettingsRevision"!==e.type&&"global/setSelectors"!==e.type&&("global/setGlobalSettings"===e.type?this.currentUnsavedRevision=null:this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await cb(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}findSelectedIndexBasedOnStoreDataMatch(){const e=(0,Me.Z)(vt.cr.globalSettings);return this.revisions.findIndex((t=>ho()(t.globalSettings,e)))}setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData(){if(null===this.remoteRevisions||0===this.remoteRevisions.length)return!1;const[e]=this.remoteRevisions,t=(0,Me.Z)(vt.cr.globalSettings);return ho()(e.globalSettings,t)}setCurrentUnsavedRevisionFromCurrentStoreData(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",globalSettings:(0,Me.Z)(vt.cr.globalSettings)}}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}onRevisionSelected(e,t){this.selectedIndex=t,ie.n.transaction((()=>vt.cr.restoreGlobalSettingsRevision(e.revisionData)),"Restore Global Settings From Revision")}get unsavedChangesPresent(){return vt.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){vt.kD.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],xb.prototype,"updateRevisionsAfterSaving",null),xb=(0,r.gn)([(0,l.wA)({components:{RevisionsList:Cb}})],xb);const kb=xb,Ib=kb;var Eb=(0,q.Z)(Ib,Qy,Jy,!1,null,null,null);const Db=Eb.exports;var Zb=n(1073);let Tb=class extends s.ZP{constructor(){super(...arguments),this.storedData=null,this.isStoringData=!1,this.isLoadingData=!1}get viewMode(){return vt.kD.panelState.globalSettingsPanelActiveViewMode}toggleViewMode(){vt.kD.setPanelState({...vt.kD.panelState,globalSettingsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get isLoading(){return this.isStoringData||this.isLoadingData}async beforeMount(){vt.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings?(vt.kD.setPanelState({...vt.kD.panelState,globalSettingsPanelActiveViewMode:"controls"}),await this.loadSettings()):vt.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!0)}async storeSettings(){this.isStoringData=!0;const e=await(0,Zb.T)();return this.storedData=(0,Me.Z)(vt.cr.globalSettings),this.isStoringData=!1,e}async loadSettings(){this.isLoadingData=!0;const e=await(0,Zb._)();return this.storedData=(0,Me.Z)(vt.cr.globalSettings),this.isLoadingData=!1,e}get unsavedChangesPresent(){return vt.cr.settingsHasUnsavedChangesPresent}requestPanelClosingConfirmation(){vt.kD.requestClosingConfirmation({subject:"globalSettings",confirmationDefinition:{title:"You have unsaved changes to your Global Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():vt.kD.noClosingConfirmationIsNeededFor("globalSettings")}get confirmationChosenOption(){return vt.kD.closingConfirmations.globalSettings?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(vt.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.loadSettings()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(vt.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.storeSettings()?this.close():this.requestPanelClosingConfirmation())}close(){(0,z.TO)("globalSettings")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],Tb.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],Tb.prototype,"handleConfirmationChosenOptionChange",null),Tb=(0,r.gn)([(0,l.wA)({components:{GlobalSettingsPanelHistoryViewMode:Db,GlobalSettingsPanelControlsViewMode:Yy,PanelHeaderButton:Fy,BrowseModeToggle:Vy,PanelHeader:Sy}})],Tb);const Ab=Tb,Bb=Ab;var Ob=(0,q.Z)(Bb,ky,Iy,!1,null,null,null);const Rb=Ob.exports;var Mb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll selectors-panel"},[e.isLoadingData?t(Hy.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(ao.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e._e(),e.activeSelector?t("EditSelector",{on:{close:e.close}}):e._e(),e.activeSelector||e.isLoadingData?e._e():t("ManageSelectors",{on:{close:e.close}})],1)},Fb=[],Nb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v("Selectors "),t("BrowseModeToggle",{attrs:{"panel-to-open":"selectors"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[t("AddSelector"),t("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-selectors"},[t("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{input:e.updateSelectors}})],1)]:"history"===e.viewMode?[t("SelectorsPanelHistoryViewMode")]:e._e()],2)},$b=[],Lb=n(99346),Wb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex flex-row add-selector"},[t("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),t("NiceButton",{staticClass:"ml-1",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},Vb=[],Hb=n(37982);let Ub=class extends s.ZP{constructor(){super(...arguments),this.newSelectorName=""}addSelector(){this.newSelectorName&&((0,W.pipe)((0,Hb.DQ)(this.newSelectorName),(0,V.fold)((e=>e.forEach(fe.Z.log.message)),(e=>(0,Hb.Fr)(e)))),this.newSelectorName="")}};Ub=(0,r.gn)([(0,l.wA)({components:{NiceButton:Ki.Z,TextInput:vo.Z}})],Ub);const zb=Ub,Gb=zb;var Kb=(0,q.Z)(Gb,Wb,Vb,!1,null,null,null);const jb=Kb.exports;var Xb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},qb=[];async function Yb(){return(0,vp.zG)(await(0,D.D)({action:"breakdance_retrieve_selectors_revisions",decoder:ib}),(0,V.mapLeft)((()=>null)),fp.i$)}let Qb=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async beforeMount(){await this.loadRemoteRevisions(),vt.cr.selectorsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wb.q$)(e);"global"===t&&"global/restoreSelectorsRevision"!==e.type&&"global/setGlobalSettings"!==e.type&&("global/setSelectors"===e.type?this.currentUnsavedRevision=null:this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await Yb(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}findSelectedIndexBasedOnStoreDataMatch(){const e=(0,Me.Z)(vt.cr.cssSelectors);return this.revisions.findIndex((t=>ho()(t.selectors,e)))}setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData(){if(null===this.remoteRevisions)return!1;const[e]=this.remoteRevisions,t=(0,Me.Z)(vt.cr.cssSelectors);return ho()(e.selectors,t)}setCurrentUnsavedRevisionFromCurrentStoreData(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",selectors:(0,Me.Z)(vt.cr.cssSelectors)}}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}onRevisionSelected(e,t){this.selectedIndex=t,ie.n.transaction((()=>vt.cr.restoreSelectorsRevision(e.revisionData)),"Restore Selectors From Revision")}get unsavedChangesPresent(){return vt.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){vt.kD.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],Qb.prototype,"updateRevisionsAfterSaving",null),Qb=(0,r.gn)([(0,l.wA)({components:{RevisionsList:Cb}})],Qb);const Jb=Qb,eS=Jb;var tS=(0,q.Z)(eS,Xb,qb,!1,null,null,null);const nS=tS.exports;var sS=n(21122);let aS=class extends s.ZP{get viewMode(){return c.kD.panelState.selectorsPanelPanelActiveViewMode}toggleViewMode(){c.kD.setPanelState({...c.kD.panelState,selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get selectors(){return c.cr.cssSelectors}updateSelectors(e){c.cr.setSelectors((0,Me.Z)(e))}};aS=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:sS.Z,AlertBox:Kr.Z,SelectorsPanelHistoryViewMode:nS,PanelHeaderButton:Fy,BrowseModeToggle:Vy,draggable:gc(),SelectorsList:Lb.Z,AddSelector:jb,PanelHeader:Sy}})],aS);const iS=aS,oS=iS;var rS=(0,q.Z)(oS,Nb,$b,!1,null,null,null);const lS=rS.exports;var cS=n(43432),dS=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.activeSelector?t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Selector ")]),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),t("div",{staticClass:"breakdance-selector-titlebar"},[t("div",{staticClass:"flex-grow-1 mr-2"},[e.editingClassOrClassHover?[t("div",{staticClass:"d-flex flex-row align-center flex-wrap mr-2"},[t("transition",{attrs:{name:"blink-on-change"}},[t("div",{key:e.activeSelector.name,staticClass:"selector-titlebar-classname mr-1 ml-n1"},[e._v(" "+e._s(e.activeSelector.name.replace(":hover",""))+" ")])]),t(Es.Z,{class:["editing-class-hover-hover-button-always",e.editingClassHover?"editing-class-hover-hover-button-active":"editing-class-hover-hover-button"],attrs:{"x-small":"",depressed:""},on:{click:e.toggleHover}},[e._v(" :hover ")])],1)]:[t("div",{staticClass:"d-flex flex-column"},[t("TextInput",{attrs:{value:e.activeSelector.name},on:{input:e.tryToRenameActiveSelector}})],1)]],2),e.selectorIsHighlightable?t(cS.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"SearchFileIcon",size:"16",active:e.highlight},on:{click:e.toggleHighlight}},n))]}}],null,!1,3251607670)},[t("span",[e._v(e._s(e.howManyOnPage)+" on page")])]):e._e(),t("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deleteSelector}})],1),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"control-tree-search-term control-tree-search-term-selector"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),e.editingClassOrClassHover||!e.attemptingToRename||e.isAttemptedRenameValid?e._e():t("div",{staticClass:"edit-selector-invalid-name-error"},[e._v(" invalid selector name ")]),t("div",{staticClass:"edit-selector-border"}),e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"properties"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"properties",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(wg.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"selectors"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"selector"},on:{input:e.updateSearchBoxState}})],1):e._e()},uS=[],pS=n(5598);let hS=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.highlight=!1,this.attemptingToRename=!1,this.editingClassControlsTreeContext=vS}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get controlsFilteredBySearchParams(){return Wv(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingClassControlsTreeContext,"properties")}get noSearchResults(){return 0===Hv(this.controlsFilteredBySearchParams,0)}get howManyOnPage(){if(!c.kD.activeSelector)return 0;const e=this.editingClassHover?c.kD.activeSelector.name.replace(":hover",""):c.kD.activeSelector.name,t=window.Breakdance.canvas.document.querySelectorAll(e);return t.length}get editingClass(){return!!this.activeSelector&&"class"===this.activeSelector.type}get editingClassHover(){return!!this.activeSelector&&(!!this.activeSelector.name.endsWith(":hover")&&!!gS(this.activeSelector.name.replace(":hover","")))}get editingClassOrClassHover(){return this.editingClass||this.editingClassHover}get selectorIsHighlightable(){return!!c.kD.activeSelectorName&&!(c.kD.activeSelectorName.includes(":")&&!this.editingClassHover)}get controls(){return c.PK.selectorControls}get activeSelector(){return c.kD.activeSelector}toggleHighlight(){this.highlight?this.clearHighlight():this.setHighlight()}beforeDestroy(){this.clearHighlight()}setHighlight(){if(this.highlight=!0,!c.kD.activeSelector)return;const e=this.editingClassHover?c.kD.activeSelector.name.replace(":hover",""):c.kD.activeSelector.name;(0,pS.BL)((0,Ee.RY)(),"breakdance-selector-highlight",`${e} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `)}clearHighlight(){this.highlight=!1,(0,pS.BL)((0,Ee.RY)(),"breakdance-selector-highlight","")}deleteSelector(){if(!this.activeSelector)return;const e=this.activeSelector,t=c.cr.cssSelectors.findIndex((t=>t.name===e.name));if(-1!==t){const e=(0,Me.Z)(c.cr.cssSelectors);e.splice(t,1),c.cr.setSelectors(e)}}close(){this.backToAllSelectors()}get activeElementTitle(){return!!c.kD.activeElement&&c.PK.element(c.kD.activeElement.data.type).name}openElementProperties(){(0,z.oM)("elementproperties")}backToAllSelectors(){c.kD.setActiveSelectorName(null)}get isAttemptedRenameValid(){return!this.attemptingToRename||(0,Hb._S)(this.attemptingToRename)}tryToRenameActiveSelector(e){if(!e)return;if(this.attemptingToRename=e,this.clearHighlight(),!(0,Hb._S)(e))return;const t=c.cr.cssSelectors.findIndex((e=>e===this.activeSelector)),n=(0,Me.Z)(c.cr.cssSelectors);n[t]&&(n[t].name=e,c.cr.setSelectors(n),c.kD.setActiveSelectorName(e),this.attemptingToRename=!1)}toggleHover(){if(c.kD.activeSelector)if(this.editingClass){const e=c.kD.activeSelectorName+":hover",t=()=>c.cr.cssSelectors.find((t=>t.name===e));let n=t();if(n||((0,Hb.Fr)({name:e,type:"custom",properties:{}}),n=t()),!n)return void fe.Z.log.message(`Unable to create or find a :hover selector for ${c.kD.activeSelectorName}`);c.kD.setActiveSelectorName(n.name),(0,z.oM)("selectors")}else if(this.editingClassHover&&this.activeSelector){const e=gS(this.activeSelector.name.replace(":hover",""));e&&(c.kD.setActiveSelectorName(e.name),(0,z.oM)("selectors"))}}};(0,r.gn)([(0,l.DF)("context")],hS.prototype,"editingClassControlsTreeContext",void 0),hS=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:sS.Z,AlertBox:Kr.Z,ControlsTree:Dg["default"],SearchBox:Hg,IconButton:ka.Z,PanelHeader:Sy,TextInput:vo.Z,SearchBoxEmptyState:Yv,Icon:G.Z}})],hS);const mS=hS,gS=e=>c.cr.cssSelectors.find((t=>t.name===e)),vS={dynamicProperty:()=>!1,getControls:()=>c.PK.selectorControls,getControlValue:e=>b()(c.kD.activeSelector,`${e}`,void 0),setControlValue(e,t,n,s){c.kD.activeSelector&&c.cr.throttledSelectorPropertyChange((0,Kc.V5)({selector:c.kD.activeSelector,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},setAccordionState:(e,t)=>{const n=c.kD.activeSelector&&c.kD.activeSelector.name;n&&(0,Uv.MK)(n,e,t)},getAccordionState:e=>{const t=c.kD.activeSelector&&c.kD.activeSelector.name;return!!t&&(0,Uv.jv)(t,e)}},fS=mS;var yS=(0,q.Z)(fS,dS,uS,!1,null,null,null);const bS=yS.exports;let SS=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get activeSelector(){return c.kD.activeSelector}async beforeMount(){c.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors?(c.kD.setPanelState({...c.kD.panelState,selectorsPanelPanelActiveViewMode:"controls"}),await this.load()):c.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("selectors",!0)}async load(){this.isLoadingData=!0;const e=await(0,Hb.c3)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,Hb.zF)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"selectors",confirmationDefinition:{title:"You have unsaved changes to your Selectors.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.cr.selectorsHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.kD.noClosingConfirmationIsNeededFor("selectors")}get confirmationChosenOption(){return c.kD.closingConfirmations.selectors?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,z.TO)("selectors")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],SS.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],SS.prototype,"handleConfirmationChosenOptionChange",null),SS=(0,r.gn)([(0,l.wA)({components:{EditSelector:bS,ManageSelectors:lS}})],SS);const PS=SS,_S=PS;var CS=(0,q.Z)(_S,Mb,Fb,!1,null,null,null);const wS=CS.exports;var xS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-structure-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[e.rootElement.children.length?t("button",{staticClass:"breakdance-structure-panel__toggle-button mr-2",on:{click:e.toggleNodes}},[1===e.toggleStage?[e._v("Expand")]:e._e(),[0,2].includes(e.toggleStage)?[e._v("Collapse")]:e._e()],2):e._e()]},proxy:!0}])},[e._v(" Structure ")]),t("div",{class:e.classList,on:{contextmenu:e.onContextMenu}},[t("div",{staticClass:"structure-node root-node",attrs:{"data-element-id":e.ROOT_ELEMENT_ID},on:{mousedown:e.dragStart}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",staticStyle:{"margin-left":"-16px",display:"none"}},[e._v(" Root Node ")]),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}})]),e.rootElement.children.length>0?t("ChildStructureNodes",{attrs:{nodes:e.rootElement.children,depth:0}}):t("div",{staticClass:"structure-panel-empty-state"},[t("h5",[e._v("No Elements")]),t("p",[e._v("Add an element to your page and it will show up here.")]),t("StandardButton",{staticClass:"open-elements-toolbar-button ml-auto mr-auto",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)],1)]),t("StructureContextMenu")],1)},kS=[];function IS(){return{overTopHalf:!1,overBottomHalf:!1,overIndex:!1,overNodeId:!1,overNodeParentId:!1,overSelf:!1,overNestDeeper:!1,overNestShallower:!1}}function ES(e,t){const n=document.elementsFromPoint(e,t).filter(DS("structure-node")).sort(ZS).reverse().pop();if(n){const e=n.dataset.elementId;if(e)return parseInt(e)}return!1}const DS=e=>t=>!!t.classList.contains(e),ZS=(e,t)=>parseInt(e.dataset.depth)>parseInt(t.dataset.depth)?-1:parseInt(t.dataset.depth)>parseInt(e.dataset.depth)?1:0,TS=(e,t)=>{const n=e.filter(DS(t));return n.length>0&&parseInt(n[0].dataset.elementId)},AS=(e,t,n)=>{const s=document.elementsFromPoint(e,t),a=IS();if(a.overNestDeeper=TS(s,"nest-deeper"),a.overNestShallower=TS(s,"nest-shallower"),a.overTopHalf=TS(s,"top-half"),a.overBottomHalf=TS(s,"bottom-half"),a.overSelf=!1!==TS(s,"breakdance--currently-dragging"),a.overBottomHalf?a.overNodeId=a.overBottomHalf:a.overTopHalf&&(a.overNodeId=a.overTopHalf),a.overNodeId){const e=(0,Ie.Lf)(n,a.overNodeId),t=(0,Ie.E)(n,a.overNodeId);!1!==t&&!1!==e&&(a.overIndex=t,a.overNodeParentId=e.id)}return a};var BS=n(98992);function OS(e,t,n){let s=!1;const a=(0,Ie.DY)(t,n);if(!a)return!1;if(e.overSelf){if(e.overSelf){if(HS(n,t)&&e.overNestShallower===n){let e=!1;s=$S(n,t),s&&(e=s.parentId);while(e){if((0,Ze.xJ)(t,a,e))break;if(!s||(0,Ze.xJ)(t,a,s.parentId)||!HS(e,t))break;{const n=(0,Ie.Lf)(t,e);e=!!n&&n.id,e&&(s=NS(e,t))}}}US(n,t)&&e.overNestDeeper===n&&(s=LS(n,t))}}else if(e.overTopHalf){s=RS(e.overTopHalf,t),n===WS(e.overTopHalf,t)&&(s=!1);const i=WS(e.overTopHalf,t);s&&i&&(0,Ze.xJ)(t,a,i)&&(s=NS(i,t))}else if(e.overBottomHalf&&(0===VS(e.overBottomHalf,t)||(0,BS.nx)(e.overBottomHalf))){if(s=MS(e.overBottomHalf,t),s&&(0,Ze.xJ)(t,a,s.parentId)){const n=(0,Ie.E)(t,a.id),i=(0,Ie.Lf)(t,a.id);!1!==n&&!1!==i&&s&&e.overIndex&&s.parentId===i.id&&n<e.overIndex&&(s.index=s.index-1)}else s&&!(0,Ze.xJ)(t,a,s.parentId)&&(s=FS(e.overBottomHalf));if(s&&!(0,Ze.xJ)(t,a,s.parentId)&&HS(e.overBottomHalf,t)){let n=!1;if(e.overBottomHalf){const s=(0,Ie.Lf)(t,e.overBottomHalf);n=!!s&&s.id}while(n){s=MS(n,t);const e=(0,Ie.Lf)(t,a.id);if(s&&e&&s.parentId===e.id){const e=(0,Ie.E)(t,a.id),i=(0,Ie.E)(t,n);e<i&&(s.index=s.index-1)}if(s)if(!(0,Ze.xJ)(t,a,s.parentId)&&HS(n,t)){const e=(0,Ie.Lf)(t,n);n=!!e&&e.id}else n=!1;else n=!1}}}else e.overBottomHalf&&VS(e.overBottomHalf,t)>0&&(s=FS(e.overBottomHalf));if(!s)return!1;const i=(0,Ze.xJ)(t,a,s.parentId);return!!i&&s}function RS(e,t){const n=(0,Ie.E)(t,e),s=(0,Ie.Lf)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n}}function MS(e,t){const n=(0,Ie.E)(t,e),s=(0,Ie.Lf)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n+1}}function FS(e){return{parentId:e,index:0}}function NS(e,t){const n=VS(e,t);return!1!==n&&{parentId:e,index:n}}function $S(e,t){const n=(0,Ie.Lf)(t,e);return!!n&&MS(n.id,t)}function LS(e,t){const n=WS(e,t);return!!n&&NS(n,t)}function WS(e,t){const n=(0,Ie.E)(t,e),s=(0,Ie.Lf)(t,e);return!1!==n&&!1!==s&&(!(n<1)&&s.children[n-1].id)}function VS(e,t){const n=(0,Ie.DY)(t,e);return!!n&&n.children.length}function HS(e,t){const n=(0,Ie.E)(t,e),s=(0,Ie.Lf)(t,e);if(!1===n||!1===s)return;const a=VS(s.id,t);return a?1===a||n===a-1:void 0}function US(e,t){const n=(0,Ie.E)(t,e);if(!1!==n)return n>0}var zS=n(52960);let GS=class extends l.w3{constructor(){super(...arguments),this.mouseDragStatus={...IS()},this.forceGrabbingCursor=!1,this.firstDragMovement=!0,this.draggedNodeId=!1,this.lastSubmittedDrag=!1,this.didMoveElement=!1,this.unsubscribeFromActivateElementMutation=null,this.easyEvent=new Pe.hF,this.delayedExpandNodeTimeout=null,this.toggleStage=2}close(){(0,z.TO)("structure")}get classList(){return{"structure-panel-content-wrapper":!0,"is-draggable":this.hasPermission,"drag-in-progress":c.kD.isCanvasElementBeingDragged,"force-grabbing-cursor":this.forceGrabbingCursor}}beforeCreate(){this.$options.components.ChildStructureNodes=n(86184).Z}get activeElementId(){return c.kD.activeElementId}mounted(){this.expandToShowActiveElementWatch(),this.unsubscribeFromActivateElementMutation=this.$store.subscribe((({type:e})=>{"ui/activateElementMutation"===e&&this.expandToShowActiveElementWatch()}))}expandToShowActiveElementWatch(){if(this.activeElementId){const e=(0,BS.FM)(c.Hb.document.tree,this.activeElementId);e&&c.kD.setStructurePanelNodesExpandedState({...c.kD.structurePanelNodesExpandedState,...e}),this.$nextTick((()=>{if(!this.$el||!this.panelHeader)return;const e=this.$el.querySelector(`[data-element-id="${this.activeElementId}"] .structure-node-title-wrapper`);e&&(0,z.aQ)(this.$el,this.panelHeader.$el,e)}))}}get rootElement(){return c.Hb.document.tree.root}get hasPermission(){return c.kD.hasFullAccess}onContextMenu(e){if(!this.hasPermission)return;e.preventDefault(),e.stopPropagation();const t=ES(e.clientX,e.clientY)||void 0;t&&c.kD.activateElement(t),c.kD.setOnStructurePanelRightClickMenuState({elementId:t,position:{x:e.clientX,y:e.clientY}})}dragStart(e){if(0!==e.button)return;if(!this.hasPermission)return;const t=ES(e.clientX,e.clientY);t&&(c.kD.activateElement(t),this.draggedNodeId=t,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.forceGrabbingCursor=!0,this.didMoveElement=!1,ie.n.startTransaction())}async dragging(e){if((0,Pe.Pm)(e))return;if(e.preventDefault(),e.stopPropagation(),!this.draggedNodeId)return;let t=null;if(this.firstDragMovement){const e=(0,Ie.E)(c.Hb.document.tree,this.draggedNodeId),n=(0,Ie.Lf)(c.Hb.document.tree,this.draggedNodeId);if(!1===e||!1===n)return;c.kD.setCanvasElementDraggedId(this.draggedNodeId),t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.id,index:e},this.firstDragMovement=!1}else{this.mouseDragStatus=AS(e.clientX,e.clientY,c.Hb.document.tree),this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);const n=OS(this.mouseDragStatus,c.Hb.document.tree,this.draggedNodeId);n&&(t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.parentId,index:n.index})}if(t){const e=(0,Ie.DY)(c.Hb.document.tree,t.droppedOnElementId),n=(0,BS.sF)(t.droppedOnElementId)||0===e?.children.length;if(n){const e=await c.Hb.moveElement({...t,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e,c.kD.setStructurePanelNodesExpandedState({...c.kD.structurePanelNodesExpandedState,[t.droppedOnElementId.toString()]:!0}),this.lastSubmittedDrag=t}}}async dragEnd(e){if(e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag){const e=await c.Hb.moveElement({...this.lastSubmittedDrag,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e}if(!1!==this.draggedNodeId&&this.didMoveElement){const e=(0,Ie.DY)(c.Hb.document.tree,this.draggedNodeId);ie.n.endTransaction(`Move ${(0,Ae.JC)(e?.data.type)}`)}else ie.n.cancelTransactionIfItIsStillInProgress();c.kD.endCanvasElementDrag(),this.lastSubmittedDrag=!1,this.mouseDragStatus={...IS()},this.firstDragMovement=!0,this.draggedNodeId=!1,this.forceGrabbingCursor=!1,this.didMoveElement=!1}ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e){this.mouseDragStatus.overNodeId&&this.delayedExpandNode(this.mouseDragStatus.overNodeId,e)}delayedExpandNode(e,t){this.delayedExpandNodeTimeout&&clearTimeout(this.delayedExpandNodeTimeout),this.delayedExpandNodeTimeout=setTimeout((()=>{if(this.delayedExpandNodeTimeout=null,e===this.mouseDragStatus.overNodeId){const n=(0,Me.Z)(c.kD.structurePanelNodesExpandedState);n[e]=!0,c.kD.setStructurePanelNodesExpandedState(n),this.dragging(t)}}),500)}get ROOT_ELEMENT_ID(){return Ie.uB}collapseAllNodes(){c.kD.setStructurePanelNodesExpandedState((0,BS.u3)(c.Hb.document.tree,!1))}expandAllNodes(){c.kD.setStructurePanelNodesExpandedState((0,BS.u3)(c.Hb.document.tree,!0))}collapseAllNodesExcept(e){const t=(0,BS.u3)(c.Hb.document.tree,!1),n=(0,BS.FM)(c.Hb.document.tree,e);c.kD.setStructurePanelNodesExpandedState({...t,...n})}toggleNodes(){if(0===this.toggleStage)this.toggleStage=1,this.collapseAllNodes();else if(1===this.toggleStage)this.expandAllNodes(),this.toggleStage=2;else if(c.kD.activeElementId){const e=(0,Ie.Lf)(c.Hb.document.tree,c.kD.activeElementId);if(e&&e?.id===Ie.uB)return this.collapseAllNodes(),void(this.toggleStage=1);this.collapseAllNodesExcept(c.kD.activeElementId),this.toggleStage=0}else this.collapseAllNodes(),this.toggleStage=1}beforeDestroy(){this.unsubscribeFromActivateElementMutation&&this.unsubscribeFromActivateElementMutation()}toggleAdd(){(0,z._y)("add")}};(0,r.gn)([(0,l.Rl)()],GS.prototype,"panelHeader",void 0),GS=(0,r.gn)([(0,l.wA)({components:{StructureContextMenu:zS.Z,PanelHeader:Sy,StandardButton:Rs}})],GS);const KS=GS,jS=KS;var XS=(0,q.Z)(jS,xS,kS,!1,null,null,null);const qS=XS.exports;var YS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",staticClass:"breakdance-history-and-revisions-panel__header",on:{close:e.close}},[e._v(" History ")]),e.disableRevisions?e._e():t("TabsRow",[t("Tab",{attrs:{value:e.tab,id:"history"},on:{input:function(t){e.tab=t}}},[e._v(" History ")]),t("Tab",{attrs:{value:e.tab,id:"revisions"},on:{input:function(t){e.tab=t}}},[e._v(" Revisions ")])],1),"history"===e.tab?t("History",{on:{scrollToActiveEl:e.scrollToActiveElement}}):"revisions"===e.tab?t("Revisions"):e._e()],1)},QS=[],JS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-list"},e._l(e.snapshots,(function(n,s){return t("SnapshotItem",{key:e.snapshots.length-1-s,attrs:{"data-snapshot-index":e.snapshots.length-1-s,snapshot:n,selected:e.currentIndex===e.snapshots.length-1-s},on:{click:function(t){return e.onSnapshotSelected(e.snapshots.length-1-s)}}})})),1)},eP=[],tP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-item",class:{"snapshots-item--selected":e.selected},attrs:{"data-test-id":"snapshots-item"},on:{click:function(t){return e.$emit("click",e.snapshot)}}},[t("span",{staticClass:"snapshots-item__title"},[e._v(e._s(e.snapshot.title))])])},nP=[];let sP=class extends l.w3{};(0,r.gn)([(0,l.fI)({default(){return{}}})],sP.prototype,"snapshot",void 0),(0,r.gn)([(0,l.fI)({default:!1})],sP.prototype,"selected",void 0),sP=(0,r.gn)([(0,l.wA)({})],sP);const aP=sP,iP=aP;var oP=(0,q.Z)(iP,tP,nP,!1,null,null,null);const rP=oP.exports;let lP=class extends l.w3{onSnapshotSelected(e){vt.GD.setCurrentSnapshotIndex(e),ie.n.setStoreFromCurrentSnapshot()}close(){(0,z.TO)("history")}get snapshots(){return[...vt.GD.snapshots].reverse()}get currentIndex(){return vt.GD.index}handleCurrentIndexChange(){this.scrollToActiveSnapshotElement()}scrollToActiveSnapshotElement(){l.w3.nextTick((()=>{const e=this.$el.querySelector(`[data-snapshot-index="${this.currentIndex}"]`);e&&this.$emit("scrollToActiveEl",e)}))}};(0,r.gn)([(0,l.RL)("currentIndex",{immediate:!0})],lP.prototype,"handleCurrentIndexChange",null),lP=(0,r.gn)([(0,l.wA)({components:{PanelHeader:Sy,SnapshotItem:rP}})],lP);const cP=lP,dP=cP;var uP=(0,q.Z)(dP,JS,eP,!1,null,null,null);const pP=uP.exports;var hP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-panel"},[t("RevisionsList",{attrs:{"is-loading":e.loading,revisions:e.revisionUiItems,"revisions-not-supported-message":e.revisionsNotSupportedMessage},on:{revisionSelected:e.onRevisionSelected}})],1)},mP=[];let gP=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.selectedRevisionIndex=0,this.unsubscribeFromStore=()=>{},this.revisionsNotSupportedMessage=null}get revisionUiItems(){return this.revisions.map(((e,t)=>({revisionData:e,isSelected:this.selectedRevisionIndex===t})))}async mounted(){this.loading=!0;const e=await this.fetchRemoteRevisions();this.loading=!1,e&&(vt.kD.setRevisionsData({revisions:e,currentUnsavedRevision:this.getCurrentUnsavedRevision(e)}),this.setActiveRevision(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wb.q$)(e);"document"===t&&"document/loadRevision"!==e.type&&(vt.kD.setRevisionsData({revisions:vt.kD.revisionsData.revisions,currentUnsavedRevision:this.getCurrentUnsavedRevision(vt.kD.revisionsData.revisions)}),this.setActiveRevision())})))}destroyed(){this.unsubscribeFromStore()}get revisions(){return vt.kD.revisionsData.currentUnsavedRevision?[vt.kD.revisionsData.currentUnsavedRevision,...vt.kD.revisionsData.revisions]:vt.kD.revisionsData.revisions}get currentTree(){return(0,Ie.n$)(vt.Hb.document.tree)}get unsavedChangesPresent(){return vt.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){if(!vt.kD.unsavedChangesPresent){const e=await this.fetchRemoteRevisions();e&&vt.kD.setRevisionsData({revisions:e,currentUnsavedRevision:null}),this.setActiveRevision()}}setActiveRevision(){const e=this.getActiveRevisionIndex(vt.kD.revisionsData.revisions);-1!==e?(this.selectedRevisionIndex=vt.kD.revisionsData.currentUnsavedRevision?e+1:e,this.scrollToActiveRevision("smooth")):(this.selectedRevisionIndex=0,this.scrollToActiveRevision("auto"))}getActiveRevisionIndex(e){return e.findIndex((e=>(0,Ie.sm)(e.tree,this.currentTree)))}getCurrentUnsavedRevision(e){const t=this.getActiveRevisionIndex(e);if(-1===t)return{id:-1,author:!1,date:"Current",tree:this.currentTree};const n=0===t&&vt.kD.revisionsData.currentUnsavedRevision&&(0,Ie.sm)(e[t].tree,vt.kD.revisionsData.currentUnsavedRevision?.tree);return n?null:vt.kD.revisionsData.currentUnsavedRevision}async fetchRemoteRevisions(){return(0,W.pipe)(await(0,D.D)({action:"breakdance_retrieve_revisions",decoder:lb,dataToPost:{id:vt.Hb.document.documentMeta.id}}),(0,V.fold)((e=>((0,pa.UE)(e),null)),(e=>"unsupported"in e?(this.revisionsNotSupportedMessage=e.unsupported,null):e.revisions.map((e=>{const t=(0,Bf.Z)(e.tree,Of.f2),n=(0,W.pipe)(t,(0,V.fold)((()=>null),(e=>e)));return{...e,tree:n}})).filter((e=>null!==e.tree)))))}onRevisionSelected(e,t){const n=this.revisions.find((t=>t.id===e.revisionData.id));n&&(this.selectedRevisionIndex=t,vt.kD.activateElement(null),vt.kD.setInterfaceState("loading"),vt.Hb.loadRevision(n),vt.kD.setInterfaceState("normal"))}scrollToActiveRevision(e){(0,Je.n)((()=>document.querySelector(".revisions-panel .revisions-item--selected")?.scrollIntoView({behavior:e,block:"center"})))}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],gP.prototype,"updateRevisionsAfterSaving",null),gP=(0,r.gn)([(0,l.wA)({components:{RevisionsList:Cb,RevisionItem:yb,PanelHeader:Sy}})],gP);const vP=gP,fP=vP;var yP=(0,q.Z)(fP,hP,mP,!1,null,null,null);const bP=yP.exports;let SP=class extends s.ZP{constructor(){super(...arguments),this.tab="history"}close(){(0,z.TO)("history")}scrollToActiveElement(e){(0,z.aQ)(this.$el,this.panelHeader.$el,e)}};(0,r.gn)([(0,l.fI)({default:!1})],SP.prototype,"disableRevisions",void 0),(0,r.gn)([(0,l.Rl)()],SP.prototype,"panelHeader",void 0),SP=(0,r.gn)([(0,l.wA)({components:{Revisions:bP,History:pP,PanelHeader:Sy,TabsRow:rv,Tab:ev}})],SP);const PP=SP,_P=PP;var CP=(0,q.Z)(_P,YS,QS,!1,null,null,null);const wP=CP.exports;var xP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},kP=[];let IP=class extends s.ZP{get classList(){return"closed"===this.panelState?{}:{width288:!0,"vscroll-wrap":!0,borderOnLeft:"right"===this.position,borderOnRight:"left"===this.position,"breakdance-app-left-area":"left"===this.position,"breakdance-app-right-area":"right"===this.position}}};(0,r.gn)([(0,l.fI)()],IP.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],IP.prototype,"panelState",void 0),IP=(0,r.gn)([l.wA],IP);const EP=IP,DP=EP;var ZP=(0,q.Z)(DP,xP,kP,!1,null,null,null);const TP=ZP.exports;let AP=class extends s.ZP{constructor(){super(...arguments),this.reactivePanelContext={state:this.panelState,position:this.position},this.panelContext=this.reactivePanelContext}get activeElementId(){return c.kD.activeElementId}updatePanelContext(){this.reactivePanelContext.state=this.panelState}};(0,r.gn)([(0,l.fI)()],AP.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],AP.prototype,"panelState",void 0),(0,r.gn)([(0,l.RL)("panelState")],AP.prototype,"updatePanelContext",null),(0,r.gn)([(0,l.DF)("panelContext")],AP.prototype,"panelContext",void 0),AP=(0,r.gn)([(0,l.wA)({components:{AppLayoutBodyPanelArea:TP,HistoryAndRevisionsPanel:wP,StructurePanel:qS,ElementPropertiesPanel:cf,Add:xy,GlobalSettingsPanel:Rb,SelectorsPanel:wS}})],AP);const BP=AP,OP=BP;var RP=(0,q.Z)(OP,ag,ig,!1,null,null,null);const MP=RP.exports;var FP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-app-wrapper"},[t("div",{staticClass:"breakdance-top-bar-wrapper"},[e._t("topbar")],2),t("div",{staticClass:"breakdance-app-body-wrapper"},[e._t("body")],2)])},NP=[];let $P=class extends s.ZP{};$P=(0,r.gn)([l.wA],$P);const LP=$P,WP=LP;var VP=(0,q.Z)(WP,FP,NP,!1,null,null,null);const HP=VP.exports;var UP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.closingConfirmations,(function(n,s){return t("ConfirmDialog",{key:s,attrs:{type:n.type,"save-is-enabled":!n.chosenOption,"save-is-in-progress":n.isSaving,"discard-is-enabled":!n.chosenOption,"discard-is-in-progress":n.isDiscarding,"has-cancel":n.hasCancel,"has-discard":n.hasDiscard,"action-text":n.actionText,show:n.show},on:{discard:function(t){return e.markClosingConfirmationAs(s,"discard")},save:function(t){return e.markClosingConfirmationAs(s,"save")},cancel:function(t){return e.hideClosingConfirmation(s)},"click:outside":function(t){return e.hideClosingConfirmation(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(n.title)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(n.text))]},proxy:!0}],null,!0)})})),1)},zP=[];let GP=class extends l.w3{get closingConfirmations(){return Object.fromEntries(Object.entries(vt.kD.closingConfirmations).filter((([,e])=>e&&e.show)))}markClosingConfirmationAs(e,t){vt.kD.chooseOptionForClosingConfirmation({subject:e,chosenOption:t})}hideClosingConfirmation(e){vt.kD.hideClosingConfirmation(e)}};GP=(0,r.gn)([(0,l.wA)({components:{ConfirmDialog:Do}})],GP);const KP=GP,jP=KP;var XP=(0,q.Z)(jP,UP,zP,!1,null,null,null);const qP=XP.exports;var YP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" This post can't be edited directly. ")]},proxy:!0},{key:"text",fn:function(){return[e.templateName?[t("p",[e._v(" This post is rendered with "+e._s(e.templateIsFallback?"Breakdance's internal":"the")+' "'),t("em",[e._v(e._s(e.decodedTemplateName))]),e._v('" template. ')])]:[t("p",[e._v(" This post is rendered with a "+e._s(e.templateIsFallback?"Breakdance's internal":"")+" template. ")])],e.templateIsFallback?t("p",[e._v(" Please create your own template. ")]):t("p",[e._v(" The template does not contain a "),t("em",[e._v("Template Content Area")]),e._v(" element. Therefore, the posts it applies to are not editable in Breakdance. ")])]},proxy:!0},{key:"actions",fn:function(){return[e.templateIsFallback&&e.templatesPageUrl?t(Es.Z,{attrs:{text:"",href:e.templatesPageUrl}},[e._v("Templates page")]):e.templateIsFallback?e._e():t(Es.Z,{attrs:{text:"",href:e.templateUrl}},[e._v("Edit Template")]),t(Es.Z,{attrs:{dark:"",color:"blue",href:e.backToAdmin}},[e._v(" Go back ")])]},proxy:!0}])})},QP=[];let JP=class extends s.ZP{get decodedTemplateName(){const e=document.createElement("textarea");return e.innerHTML=this.templateName,e.value}get templateUrl(){return(0,Ja.UH)(this.templateId)}get backToAdmin(){return vt.PK.documentSpecificNeededUrls?vt.PK.documentSpecificNeededUrls.backToWordPressUrl??"":""}};(0,r.gn)([(0,l.fI)()],JP.prototype,"templateName",void 0),(0,r.gn)([(0,l.fI)()],JP.prototype,"templateId",void 0),(0,r.gn)([(0,l.fI)()],JP.prototype,"templateIsFallback",void 0),(0,r.gn)([(0,l.fI)()],JP.prototype,"templatesPageUrl",void 0),JP=(0,r.gn)([(0,l.wA)({components:{Dialog:qn.Z}})],JP);const e_=JP,t_=e_;var n_=(0,q.Z)(t_,YP,QP,!1,null,null,null);const s_=n_.exports;var a_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Invalid post ")]},proxy:!0},{key:"text",fn:function(){return["post_does_not_exist"===e.invalidPostData.errorType?t("div",[e._v(" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. ")]):e._e(),"post_is_in_trash"===e.invalidPostData.errorType?t("div",[e._v(" You can't edit this item because it is in the Trash. Please restore it and try again. ")]):e._e(),"post_type_is_banned"===e.invalidPostData.errorType?t("div",[e.invalidPostData.postType?[e._v(" Posts with post type "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" can't be edited with Breakdance directly. Please use a "),t("b",[e._v("Breakdance Template")]),e._v(" instead. ")]:[e._v(" The requested post can't be edited with Breakdance. ")]],2):e._e(),"post_type_is_restricted"===e.invalidPostData.errorType?t("div",[e._v(" You don't have enough permissions to edit "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" post type. ")]):e._e()]},proxy:!0},{key:"actions",fn:function(){return[t(Es.Z,{attrs:{dark:"",color:"blue",href:e.invalidPostData.backToAdminUrl}},[e._v(" Back to WordPress admin ")])]},proxy:!0}])})},i_=[];let o_=class extends s.ZP{get invalidPostData(){return vt.PK.invalidPostData}};o_=(0,r.gn)([(0,l.wA)({components:{Dialog:qn.Z}})],o_);const r_=o_,l_=r_;var c_=(0,q.Z)(l_,a_,i_,!1,null,null,null);const d_=c_.exports;var u_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.showDialog,width:500,closeable:!1},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"subtitle-top",fn:function(){return[e._v("Welcome to Breakdance")]},proxy:!0},{key:"title",fn:function(){return[e._v("👋 Do you want to start with a template?")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" Templates save you hours of work. Each template is crafted by a pro and is fully customizable. ")])]},proxy:!0},{key:"actions",fn:function(){return[t(Es.Z,{staticStyle:{"margin-right":"auto"},attrs:{color:"blue"},on:{click:e.openDesignLibrary}},[e._v(" Open Design Library ")]),t(Es.Z,{attrs:{outlined:"",text:""},on:{click:e.closeForever}},[e._v("No, thanks")])]},proxy:!0}])})},p_=[];let h_=class extends s.ZP{constructor(){super(...arguments),this.isOpen=vt.PK.neededData?.isBuilderFirstTimeVisit??!0}get showDialog(){return this.isTreeEmpty&&this.isOpen}get isTreeEmpty(){return 0===vt.Hb.document.tree.root.children.length}closeForever(){this.isOpen=!1,(0,D.D)({action:"breakdance_save_arbitrary",dataToPost:{key:"onboarding_builder_fist_time_visit",data:"true"},decoder:Z._4})}openDesignLibrary(){(0,$e.of)("CMD_B"),this.closeForever()}};h_=(0,r.gn)([(0,l.wA)({components:{Dialog:qn.Z}})],h_);const m_=h_,g_=m_;var v_=(0,q.Z)(g_,u_,p_,!1,null,null,null);const f_=v_.exports;let y_=class extends s.ZP{constructor(){super(...arguments),this.showTemplateDialog=!1}mounted(){c.kD.hasFullAccess&&(0,ma.c)().register()}beforeDestroy(){(0,ma.c)().unbind(),(0,Nn.uV)().unbind()}get classList(){return[`has-permission:${this.permission}`]}get preferencesModalOpen(){return c.kD.panelState.preferencesModalOpen}get elementStudioOpen(){return c.kD.panelState.elementStudioOpen}updatePreferencesModal(e){c.kD.setPreferencesModalOpen(e)}get keyboardShortcutsHelpModalOpen(){return c.kD.panelState.keyboardShortcutsHelpModalOpen}updateKeyboardShortcutsHelpModal(e){c.kD.setKeyboardShortcutHelpModalOpen(e)}get activeElementId(){return c.kD.activeElementId}get leftSidebarPanelState(){return c.kD.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.kD.panelState.rightSidebarPanel}get permission(){return c.PK.permission?.slug}onIframeLoaded(){requestIdleCallback((()=>{(0,Ja.gn)()})),this.isRenderedWithTemplate&&!this.containsTemplateContentArea&&(this.showTemplateDialog=!0),(0,Nn.uV)().register()}get showInvalidPostDialog(){return!!c.PK.invalidPostData}get isRenderedWithTemplate(){return null!==window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]")}getTemplateAttribute(e){if(!this.isRenderedWithTemplate)return null;const t=window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]");return t?.getAttribute(e)}get templateName(){return this.getTemplateAttribute("data-template-name")??""}get templateId(){const e=this.getTemplateAttribute("data-template-id");return e?parseInt(e):null}get isTemplateFallback(){return"true"===this.getTemplateAttribute("data-template-is-fallback")}get templatesPageUrl(){return this.getTemplateAttribute("data-template-page-url")}get containsTemplateContentArea(){return null!==window.Breakdance?.canvas?.document?.querySelector(".bde-themeless-template-content-area")}};y_=(0,r.gn)([(0,l.wA)({components:{FirstTimeVisit:f_,DesignLibraryModal:hy,InvalidPostDialog:d_,TemplateDialog:s_,ClosingConfirmations:qP,IframeCanvas:oa,BuilderTopBar:so,PreferencesModal:fl,ElementStudio:sg,KeyboardShortcutsHelpModal:wl,SidebarPanels:MP,ConfirmDialog:Do,AppLayout:HP}})],y_);const b_=y_,S_=b_;var P_=(0,q.Z)(S_,h,m,!1,null,null,null);const __=P_.exports;var C_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h1",[e._v("Unrecoverable Errors")]),e._l(e.errors,(function(n,s){return t("div",{key:s,staticClass:"unrecoverable-errors"},[e._v(" "+e._s(n)+" ")])}))],2)},w_=[];let x_=class extends s.ZP{get errors(){return c.kD.unrecoverableErrorMessages}};x_=(0,r.gn)([l.wA],x_);const k_=x_,I_=k_;var E_=(0,q.Z)(I_,C_,w_,!1,null,null,null);const D_=E_.exports;var Z_=n(90878);let T_=class extends s.ZP{constructor(){super(...arguments),this.broadcastChannel=null}async beforeMount(){if("builder"===window.Breakdance.initialMode){const e=await(0,Ja.Dl)(window.Breakdance.initialDocumentToLoadId);(0,Ja.PX)(e)}this.broadcastChannel=(0,Z_.a)()}beforeDestroy(){this.broadcastChannel&&this.broadcastChannel.close()}get interfaceState(){return c.kD.interfaceState}get errorsPresent(){return c.kD.unrecoverableErrorMessages.length}get currentDocumentMetaId(){return c.Hb.document.documentMeta.id}handleCurrentDocumentChange(e){const t=["Breakdance"];e!==wb.VY&&t.push(c.Hb.document.documentMeta.titleLabel),window.document.title=t.join(" | ")}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestClosingConfirmation():this.removeClosingConfirmation()}requestClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"builder",confirmationDefinition:{title:"You must save your changes first",actionText:"Save and continue",type:"warning",hasCancel:!0,hasDiscard:!1}})}removeClosingConfirmation(){c.kD.noClosingConfirmationIsNeededFor("builder")}get confirmationChosenOption(){return c.kD.closingConfirmations.builder?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(this.removeClosingConfirmation(),(0,Zy.w7)()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"builder",isSaving:!0}),(0,W.pipe)(await ha(),(0,V.fold)((()=>{c.kD.setClosingConfirmationIsSaving({subject:"builder",isSaving:!1})}),(()=>{this.removeClosingConfirmation(),(0,Zy.w7)()}))))}};(0,r.gn)([(0,l.RL)("currentDocumentMetaId",{immediate:!0})],T_.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],T_.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],T_.prototype,"handleConfirmationChosenOptionChange",null),T_=(0,r.gn)([(0,l.wA)({components:{BuilderLayout:__,Loading:Ks.Z,UnrecoverableErrors:D_}})],T_);const A_=T_,B_=A_;var O_=(0,q.Z)(B_,u,p,!1,null,null,null);const R_=O_.exports;var M_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["normal"===e.interfaceState?t("AppLayout",{scopedSlots:e._u([{key:"topbar",fn:function(){return[t("TopBar",[t("TopBarSection",[t("div",{staticClass:"browse-mode-address-bar"},[t("h2",[e._v("Viewing Page")]),t("a",{staticClass:"ellipsis-text breakdance-browse-mode__url-to-display",attrs:{title:e.iframeUrlToDisplay,href:e.iframeUrlToDisplay,target:"_blank"}},[e._v(" "+e._s(e.iframeUrlToDisplay)+" ")])])]),t(ra.Z),t("TopBarSection",{attrs:{"border-left":"true","border-right":"true"}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t(ra.Z),t("UndoRedo"),t("TopBarSection",{attrs:{"border-left":"true"}},[t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.isAnyBrowseModeSupportedPanelOpen,size:"18",icon:"EllipsisStrokeIcon"}},n))]}}],null,!1,2694485179)},[t(Pa.Z,[t(_a.Z,{attrs:{dense:""},on:{click:e.toggleGlobalSettingsPanel}},[t(Ca.V9,[e._v(" Global Settings ")])],1),t(_a.Z,{attrs:{dense:""},on:{click:e.toggleSelectorsPanel}},[t(Ca.V9,[e._v(" Selectors ")])],1),t(_a.Z,{attrs:{dense:""},on:{click:e.toggleHistoryAndRevisionsPanel}},[t(Ca.V9,[e._v(" History ")])],1)],1)],1)],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("BrowseModeSave")],1),t("TopBarSection",{attrs:{"border-left":"true"}},[t("IconButton",{attrs:{icon:"ArrowLeftIcon",size:"18"},on:{click:e.exitBrowseMode}})],1)],1)]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.leftSidebarPanelState,position:"left"}}),t("IframeWrapper",{attrs:{"iframe-state":e.iframeState,"iframe-url":e.iframeUrl,"iframe-preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,"iframe-exited":!1,"iframe-id":e.iframeID,"min-width":e.iframeMinWidth},on:{iframeLoaded:e.handleIframeLoaded,previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,resetPreviewWidth:e.handleResetPreviewWidth}}),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.rightSidebarPanelState,position:"right"}})]},proxy:!0}],null,!1,1648310707)}):"loading"===e.interfaceState?t("Loading"):e._e()],1)},F_=[],N_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},["globalSettings"===e.panelState?t("GlobalSettingsPanel"):e._e(),"selectors"===e.panelState?t("SelectorsPanel"):e._e(),"history"===e.panelState?t("HistoryAndRevisionsPanel",{attrs:{"disable-revisions":!0}}):e._e()],1)},$_=[];let L_=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],L_.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],L_.prototype,"panelState",void 0),L_=(0,r.gn)([(0,l.wA)({components:{HistoryAndRevisionsPanel:wP,AppLayoutBodyPanelArea:TP,GlobalSettingsPanel:Rb,SelectorsPanel:wS}})],L_);const W_=L_,V_=W_;var H_=(0,q.Z)(V_,N_,$_,!1,null,null,null);const U_=H_.exports;var z_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80"},on:{click:e.save}},[e._v(" Save ")])},G_=[];let K_=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}async save(){this.saveInProgress=!0,await(0,Zb.T)(),await(0,Hb.zF)(),this.saveInProgress=!1}mounted(){$e.uq.register(ma.r.CMD_S,this.save)}beforeDestroy(){$e.uq.unbind(ma.r.CMD_S)}};K_=(0,r.gn)([(0,l.wA)({components:{StandardButton:Rs}})],K_);const j_=K_,X_=j_;var q_=(0,q.Z)(X_,z_,G_,!1,null,null,null);const Y_=q_.exports;let Q_=class extends s.ZP{constructor(){super(...arguments),this.iframeID="breakdance-browser-iframe",this.iframeDocument=null,this.broadcastChannel=null}async beforeMount(){if("browse"===window.Breakdance.initialMode){const e=await(0,Ja.x2)();(0,Ja.Oc)(e,{returnUrl:window.Breakdance.returnUrl,browseModeOpenUrl:window.Breakdance.browseModeOpenUrl})}this.broadcastChannel=(0,Z_.a)()}get interfaceState(){return c.kD.interfaceState}mounted(){this.warnIfUnsavedFunction=(0,ga.$)((()=>c.cr.settingsHasUnsavedChangesPresent||c.cr.selectorsHasUnsavedChangesPresent))}beforeDestroy(){(0,ga.e)(this.warnIfUnsavedFunction),this.broadcastChannel&&this.broadcastChannel.close()}handleIframeLoaded(e){if(!e)throw this.iframeDocument=null,"Unable to proceed – iframe element is missing";this.iframeDocument=(0,Zy.RL)(e)}handlePreviewWidthChange(e){c.kD.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.kD.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.kD.selectBaseBreakpoint()}get iframeUrl(){return c.Sr.iframeUrl}get iframeState(){return c.Sr.iframeState}get iframeDocumentTitleToDisplay(){return c.Sr.iframeDocumentTitleToDisplay}get iframeUrlToDisplay(){return c.Sr.iframeUrlToDisplay}get iframePreviewWidth(){return c.kD.canvasPreviewWidth}get iframeMinWidth(){return(0,Ft.GV)(c.cr)}get leftSidebarPanelState(){return c.kD.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.kD.panelState.rightSidebarPanel}get globalSettings(){return c.cr.globalSettings}get selectors(){return c.cr.cssSelectors}get isAnyBrowseModeSupportedPanelOpen(){return(0,z.O_)("globalSettings")||(0,z.O_)("selectors")||(0,z.O_)("history")}get currentBreakpoint(){return c.kD.currentBreakpoint}set currentBreakpoint(e){c.kD.changeBreakpoint(e)}exitBrowseMode(){(0,Zy.os)()}toggleGlobalSettingsPanel(){(0,z._y)("globalSettings")}toggleSelectorsPanel(){(0,z._y)("selectors")}toggleHistoryAndRevisionsPanel(){(0,z.oM)("history")}handleCurrentDocumentChange(){(0,Zy.r1)()}onGlobalSettingsChanged(){this.iframeDocument&&(0,hs.T)(this.iframeDocument)}onSelectorsChanged(){this.iframeDocument&&(0,hs.B)(this.iframeDocument)}};(0,r.gn)([(0,l.RL)("iframeDocumentTitleToDisplay",{immediate:!0})],Q_.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("globalSettings",{deep:!0,immediate:!0})],Q_.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],Q_.prototype,"onSelectorsChanged",null),Q_=(0,r.gn)([(0,l.wA)({components:{UndoRedo:Ga,BrowseModeSave:Y_,BrowseModeSidebarPanels:U_,BreakpointsSelection:Aa,Icon:G.Z,StandardButton:Rs,IframeWrapper:ta,TopBarSection:Wa,AppLayoutBodyPanelArea:TP,TopBar:Hi,AppLayout:HP,IconButton:ka.Z,ClosingConfirmations:qP,Dropdown:Ia.Z,Loading:Ks.Z}})],Q_);const J_=Q_,eC=J_;var tC=(0,q.Z)(eC,M_,F_,!1,null,null,null);const nC=tC.exports;let sC=class extends s.ZP{beforeMount(){c.kD.setMode(window.Breakdance.initialMode)}get isBrowseModeEnabled(){return"browse"===c.kD.mode}get useDarkMode(){return"dark"===c.kD.settings.theme}get classList(){return{"breakdance-dark-mode":this.useDarkMode}}darkModeWatcher(e){this.$vuetify.theme.dark=e}};(0,r.gn)([(0,l.RL)("useDarkMode",{immediate:!0})],sC.prototype,"darkModeWatcher",null),sC=(0,r.gn)([(0,l.wA)({components:{BrowseMode:nC,Builder:R_,Notifications:d.Z}})],sC);const aC=sC,iC=aC;var oC=(0,q.Z)(iC,i,o,!1,null,null,null);const rC=oC.exports;var lC=n(74604);s.ZP.config.productionTip=!1,s.ZP.config.ignoredElements=["lite-vimeo","lite-youtube"],s.ZP.directive("permission",lC.Z),new s.ZP({store:c.ZP,vuetify:Ms.Z,render:e=>e(rC)}).$mount("#app")},99697:(e,t,n)=>{n.d(t,{DD:()=>c,ZQ:()=>l,bn:()=>u});var s=n(32521),a=n(47902);const i=s.dt({text:s.Z_,value:s.Z_}),o=s.G0([s.i0("is"),s.i0("is not"),s.i0("is one of"),s.i0("is all of"),s.i0("is none of"),s.i0("is before"),s.i0("is after"),s.i0("is greater than"),s.i0("is less than"),s.i0("contains"),s.i0("does not contain"),s.i0("is empty"),s.i0("is not empty"),s.Z_]),r=s.r$({ruleSlug:s.Z_,ruleDynamic:s.G0([s.Z_,s.S1]),ruleDynamicMeta:s.G0([a.DU,s.S1]),operand:o,value:s.G0([s.Z_,s.pk,s.IX(s.Z_),s.IX(i)]),valueDynamicMeta:s.G0([a.DU,s.S1])}),l=s.IX(r),c=s.jV([s.dt({label:s.Z_,items:s.IX(i)}),s.r$({availableForType:s.G0([s.i0(!1),s.IX(s.Z_)])})]),d=s.iG(s.dt({slug:s.Z_,label:s.Z_,category:s.Z_,operands:s.IX(o),values:s.G0([s.IX(c),s.i0(!1)]),valueInputType:s.G0([s.S1,s.i0("dropdown"),s.i0("datepicker"),s.i0("number"),s.i0("timepicker")]),availableForType:s.IX(s.Z_),supports:s.IX(s.G0([s.i0("element_display"),s.i0("templating"),s.i0("query_builder")])),proOnly:s.G0([s.S1,s.O7])})),u=s.IX(d),p=s.r$({delay:s.pk,percent:s.pk,selector:s.Z_,scrollType:s.Z_,clickType:s.Z_,limit:s.pk}),h=s.r$({slug:s.Z_,options:p});s.IX(h)},88667:(e,t,n)=>{n.d(t,{lU:()=>l,vZ:()=>r,zM:()=>c});var s=n(32521),a=n(32874);const i=s.dt({fileName:s.Z_,fileUrl:s.Z_,format:s.G0([s.i0("woff"),s.i0("woff2")])}),o=s.dt({id:s.Z_,files:s.IX(i),weight:s.pk,style:s.G0([s.i0("normal"),s.i0("italic")])}),r=s.dt({id:s.Z_,family:s.Z_,cssUrl:s.Z_,hasExternalCssUrl:s.O7,cssName:s.Z_,fallbackString:s.G0([s.Z_,s.S1]),faces:s.IX(o)}),l=s.IX(s.dt({fontId:s.Z_,cssUrl:s.Z_,fontRegistrationData:a.d})),c=s.dt({fileUrl:s.Z_,fileName:s.Z_})},92260:(e,t,n)=>{n.d(t,{Jd:()=>o,Kn:()=>c,i2:()=>l});var s=n(32521);const a=s.dt({thumbnailUrl:s.G0([s.Z_,s.S1])}),i=s.dt({name:s.Z_,url:s.Z_,type:s.G0([s.i0("complete_site"),s.i0("sections"),s.i0("ui_kit"),s.S1]),isLocal:s.G0([s.O7,s.S1]),meta:s.G0([s.S1,a])}),o=s.dt({designProviders:s.IX(i),globalSettingsLastImportedFromUrl:s.G0([s.Z_,s.lB]),fullSiteLastImportedFromUrl:s.G0([s.Z_,s.lB])}),r=s.dt({id:s.pk,name:s.Z_,url:s.Z_,tags:s.IX(s.Z_)}),l=s.dt({enabled:s.O7,reliesOnGlobalSettings:s.G0([s.O7,s.S1]),name:s.Z_,requiresPassword:s.G0([s.O7,s.S1]),passwordValid:s.G0([s.O7,s.S1]),posts:s.IX(r)}),c=s.dt({url:s.Z_,id:s.pk})},47902:(e,t,n)=>{n.d(t,{DU:()=>l,UN:()=>c,Y_:()=>d});var s=n(32521),a=n(89754),i=n(78454);const o=s.jV([s.dt({category:s.Z_,slug:s.Z_,label:s.Z_,controls:s.IX(a.ur),returnTypes:s.IX(i._)}),s.r$({proOnly:s.O7,subcategory:s.Z_,defaultAttributes:s.G0([s.IM(s.Z_,s.Z_),s.IX(s.S1)])})]),r=(s.dt({fallback:s.Z_,beforeContent:s.Z_,afterContent:s.Z_}),s.IM(s.Z_,s.G0([s.Z_,s.pk,s.IM(s.Z_,s.Z_)]))),l=s.dt({shortcode:s.Z_,field:o,attributes:s.G0([r,s.IX(s.S1)])}),c=s.IX(o),d=s.r$({[typeof String]:s.Z_})},63842:(e,t,n)=>{n.d(t,{D:()=>v,My:()=>F,U$:()=>C,Ve:()=>R,_t:()=>B,g3:()=>_,iQ:()=>S,pG:()=>x,ws:()=>I,xY:()=>y,xd:()=>M});var s=n(32521),a=n(89754),i=n(78454);const o=s.iG(s.dt({contentSections:s.IX(a.ur),designSections:s.IX(a.ur),settingsSections:s.IX(a.ur)})),r=s.dt({name:s.Z_,template:s.Z_}),l=s.dt({name:s.Z_,propertyPath:s.Z_}),c=s.dt({name:s.Z_,rawValue:s.Z_}),d=s.G0([r,l,c]),u=s.IX(d),p=s.dt({name:s.Z_,template:s.Z_}),h=s.IX(p),m=s._4,g=s.jV([s.dt({script:s.Z_}),s.r$({dependencies:s.IX(s.Z_),runForAllChildren:s.O7})]),v=(s.dt({actionData:g,elements:s.IX(s.Z_)}),s.r$({title:s.Z_,scripts:s.IX(s.Z_),inlineScripts:s.IX(s.Z_),styles:s.IX(s.Z_),inlineStyles:s.IX(s.Z_),builderCondition:s.Z_,frontendCondition:s.Z_,googleFonts:s.IX(s.Z_)})),f=s.IX(s.dt({name:s.Z_,url:s.Z_})),y=s.dt({name:s.Z_,files:s.dt({js:f,css:f})}),b=s.r$({onPropertyChange:s.IX(g),onAfterDeletedElement:s.IX(g),onMovedElement:s.IX(g),onMountedElement:s.IX(g),onCreatedElement:s.IX(g),onBeforeDeletingElement:s.IX(g),onActivatedElement:s.IX(g)}),S=s.G0([s.i0("root"),s.i0("final"),s.i0("final-link"),s.i0("container"),s.i0("container-restricted"),s.i0("container-link"),s.i0("container-excluding-self"),s.i0("section"),s.i0("final-that-is-allowed-inside-root"),s.i0("popup")]),P=s.jV([s.dt({type:S}),s.r$({restrictedToBeADirectChildOf:s.IX(s.Z_),restrictedToBeADescendantOf:s.IX(s.Z_),notAllowedWhenNodeTypeIsPresentInTree:s.IX(s.Z_)})]),_=s.G0([s.i0("inside-top"),s.i0("inside-left"),s.i0("inside-right"),s.i0("inside-bottom"),s.i0("outside-top"),s.i0("outside-right"),s.i0("outside-left"),s.i0("outside-bottom")]),C=s.G0([s.i0("padding-top"),s.i0("padding-left"),s.i0("padding-right"),s.i0("padding-bottom"),s.i0("margin-top"),s.i0("margin-right"),s.i0("margin-left"),s.i0("margin-bottom")]),w=s.G0([s.i0(!1),s.IX(s.Z_)]),x=s.dt({location:_,cssProperty:C,affectedPropertyPath:s.Z_}),k=s.sH("ChildElement",(()=>s.jV([s.dt({slug:s.Z_}),s.r$({defaultProperties:m,children:s.IX(k)})]))),I=s.G0([s.i0("WooCommerce"),s.i0("ACF"),s.i0("MetaBox"),s.i0("ACF"),s.i0("FacetWP"),s.i0("WP Grid Builder")]),E=s.G0([s.r$({dependsOnGlobalScripts:s.O7,bypassPointerEvents:s.O7,sharePropsWithSSRChildren:s.O7,requiredPlugins:s.IX(I),proOnly:s.O7}),s.i0(!1)]),D=s.G0([s.i0(!1),s.r$({alwaysHide:s.O7,allowedPostTypes:s.IX(s.Z_)})]),Z=s.G0([s.i0("yes"),s.i0("no"),s.i0("unknown"),s.i0("sort of")]),T=s.r$({looksGood:Z,optionsGood:Z,optionsWork:Z,dynamicBehaviorWorks:Z,notes:s.Z_}),A=s.dt({backgroundColor:s.G0([s.Z_,s.lB]),textColor:s.G0([s.Z_,s.lB]),label:s.Z_}),B=s.iG(s.dt({name:s.Z_,className:s.G0([s.Z_,s.i0(!1)]),uiIcon:s.G0([s.Z_,s.i0(!1)]),slug:s.Z_,category:s.Z_,badge:s.G0([A,s.i0(!1)]),htmlTag:s.dt({default:s.Z_,options:s.IX(s.Z_),pathToControl:s.G0([s.i0(!1),s.Z_])}),template:s.Z_,additionalClasses:s.G0([h,s.i0(!1)]),attributes:s.G0([u,s.i0(!1)]),cssTemplate:s.Z_,defaultCss:s.Z_,defaultProperties:s.G0([m,s.i0(!1)]),defaultChildren:s.G0([s.IX(k),s.i0(!1)]),controls:o,dependencies:s.G0([s.IX(v),s.i0(!1)]),actions:s.G0([b,s.i0(!1)]),nestingRule:P,spacingBars:s.G0([s.i0(!1),s.IX(x)]),dynamicPropertyPaths:s.G0([s.i0(!1),s.IX(i.G)]),settings:E,addPanelRules:D,experimental:s.O7,order:s.pk,projectManagement:s.G0([s.i0(!1),T]),propertyPathsToWhitelistInFlatProps:w,propertyPathsToSsrElementWhenValueChanges:w})),O=(s.IX(B),s.dt({slug:s.Z_,label:s.Z_})),R=s.IX(O),M=s.r$({attributes:s.IX(d),dependencies:s.IX(v),actions:b}),F=s.IX(s.dt({macro:s.Z_,slug:s.Z_}))},47245:(e,t,n)=>{n.d(t,{Ux:()=>D,d0:()=>Z});var s=n(32521),a=n(47902),i=n(63842),o=n(75031),r=n(32874),l=n(9294),c=n(94328),d=n(23777),u=n(21516),p=n(83714),h=n(38537),m=n(99697),g=n(3749),v=n(14018),f=n(97313),y=n(14010),b=n(665),S=n(92260),P=n(85256);const _=s.G0([s.i0("post_does_not_exist"),s.i0("post_type_is_banned"),s.i0("post_type_is_restricted"),s.i0("post_is_in_trash")]),C=s.dt({errorType:_,postType:s.G0([s.S1,s.Z_]),backToAdminUrl:s.Z_}),w=["free","pro"],x=(0,P.$)(w),k=s.G0([s.i0("local"),s.i0("production")]),I=s.dt({environment:k,elementPresets:v.p,neededData:p.i,builderElements:s.IX(i._t),elementsExternalAttrsDepsAndActions:i.xd,builderElementCategories:i.Ve,preferences:g.p,dynamicFields:a.UN,conditions:m.bn,fonts:r.s,globalSettingsControlsAndTemplate:l.D,globalSettings:o.az,plugins:c.m,availableDocuments:h.gu,selectors:u.Ho,availableMediaSizes:s.IX(b.wP),availablePermissions:s.IX(y.E),availableWordpressPlugins:s.IX(i.ws),permission:y.E,builtinBreakpoints:s.IX(f.g),twigMacros:i.My,twigMacrosHash:s.Z_,designLibrary:S.Jd,subscriptionMode:x}),E=s.jV([s.dt({document:h.fA,documentSpecificNeededUrls:p.s,templatePreview:d.jz}),I]),D=s.G0([C,E]),Z=I},21516:(e,t,n)=>{n.d(t,{Ho:()=>c,Ng:()=>l});var s=n(75031),a=n(32521),i=n(89754);const o=a.Z_,r=a.dt({name:o,type:a.G0([a.i0("class"),a.i0("custom")]),properties:s.az}),l=a.IX(r),c=a.iG(a.dt({template:a.Z_,controls:a.IX(i.ur),selectors:l}))},23777:(e,t,n)=>{n.d(t,{NC:()=>o,jz:()=>r});var s=n(32521);const a=s.dt({field:s.Z_,index:s.pk}),i=s.dt({label:s.Z_,url:s.Z_,type:s.Z_,repeater:s.G0([a,s.lB,s.S1])}),o=s.IX(i),r=s.dt({previewableItems:s.G0([o,s.i0(!1)]),lastPreviewedItem:s.G0([i,s.i0(!1)])})},75031:(e,t,n)=>{n.d(t,{NM:()=>o,Oh:()=>c,az:()=>a,f2:()=>l});var s=n(32521);const a=s.Yj,i=s.dt({type:s.Z_,properties:a}),o=s.sH("TreeNode",(()=>s.jV([s.dt({id:s.pk,data:i,children:s.IX(o)}),s.r$({_parentId:s.pk})]))),r=s.dt({root:o,_nextNodeId:s.pk}),l=(s.jV([r,s.dt({status:s.i0("valid"),_lookupTable:s.IM(s.Z_,s.G0([s.S1,o]))})]),s.jV([r,s.dt({status:s.i0("exported")})])),c=s.G0([l,s.i0(!1)])},27519:(e,t,n)=>{n.d(t,{IG:()=>i,lv:()=>l,vd:()=>a});var s=n(32521);const a=s.G0([s.i0("100"),s.i0("200"),s.i0("300"),s.i0("400"),s.i0("500"),s.i0("600"),s.i0("700"),s.i0("800"),s.i0("900")]),i=s.dt({customTypography:s.mI}),o=s.Z_,r=s.dt({label:s.Z_,id:o}),l=s.jV([s.dt({preset:r}),s.r$({custom:i})]);s.G0([s.dt({preset:s.G0([s.S1,o]),previousCustom:s.G0([s.S1,i])}),s.dt({custom:i})])},65118:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(45974),a=n(88506),i=n(30902),o=n(16442);function r(e,t){return(0,i.pipe)(e,a.Z,(0,s.map)((0,i.flow)(t.decode,(0,s.mapLeft)(o.H))),s.flatten)}},56888:(e,t,n)=>{function s(e){try{return JSON.parse(e)}catch(t){return void console.error("Failed to decode JSON string",t)}}n.d(t,{B:()=>s})},43981:(e,t,n)=>{n.d(t,{Z:()=>s});const s="form.breakdance-unbrowsable,\nform.breakdance-unbrowsable input,\nform.breakdance-unbrowsable select,\nform.breakdance-unbrowsable button,\na.breakdance-unbrowsable,\narea.breakdance-unbrowsable {\n    cursor: not-allowed !important;\n}"}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,s,a,i)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,a,i]=e[d],r=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](s[l])))?s.splice(l--,1):(r=!1,i<o&&(o=i));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.j=143})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[o,r,l]=s,c=0;if(o.some((t=>0!==e[t]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var d=l(n)}for(t&&t(s);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},s=globalThis["webpackChunkbuilder"]=globalThis["webpackChunkbuilder"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[998,64],(()=>n(96316)));s=n.O(s)})();
//# sourceMappingURL=app.19c44199.js.map