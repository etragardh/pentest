<?php
/**
 * A PHP file for representing an SQL expression. This may
 * be value like '8' or it may be a complex expressions
 */

namespace NorthCommerce\Db\Sql;

abstract class Expression extends SqlConstruct {
	function joins() {
		return new Joins();
	}

	function subExpressions() {
		return [];
	}

	function reduce($callback, $init = false) {
		$carry = $callback($init, $this);
		foreach ( $this->subExpressions() as $expr ) {
			$carry = $expr->reduce( $callback, $carry );
		}
		return $carry;
	}
}
