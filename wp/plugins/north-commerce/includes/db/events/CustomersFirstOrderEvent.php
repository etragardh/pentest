<?php
namespace NorthCommerce\Db\Events;

/**
 * Customer's First Order event.
 *
 *
 * @package north-commerce/includes/db/events
 * @author  North Commerce <hello@northplugins.com>
 * @link    https://northcommerce.com/
 * @since   0.1.23
 */
class CustomersFirstOrderEvent extends PurchaseOrderEvent {

	public function name() {
		return 'Customer makes their first order';
	}

	public function key() {
		return 'order.customer.first';
	}

    public function description() {
        return 'Triggered when a customer makes their first order within North Commerce';
    }

	public function shouldTrigger( $table, $old, $new ) {
		if ( parent::shouldTrigger( $table, $old, $new ) ) {
			//$past_orders = ...;
			if ( empty( $past_orders ) ) {
				return true;
			}
		}

		return false;
	}

	public function process( $data ) {
		return $data;
	}
}
