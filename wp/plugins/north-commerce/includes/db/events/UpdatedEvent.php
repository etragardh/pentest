<?php
namespace NorthCommerce\Db\Events;

/**
 * Updated record event.
 *
 *
 * @package north-commerce/includes/db/events
 * @author  North Commerce <hello@northplugins.com>
 * @link    https://northcommerce.com/
 * @since   0.1.23
 */
class UpdatedEvent extends Event {

	public function name() {
		return 'Record updated';
	}

	public function key() {
		return 'database.updated';
	}

	public function description() {
		return 'Triggered when any record in the datatabse is updated';
	}

	public function applies( $table ) {
		// Webhook table up
		if ( 'webhooks' == $table ) {
			return false;
		}

		return true;
	}

	public function shouldTrigger( $table, $old, $new ) {
		return $old && $new;
	}

	public function process( $data ) {
		return $data;
	}

}
