<?php
/*
 * A PHP file for generating a corresponding unit test for each collection object
 * that's generated
 */
$values = $table_info['values'];

echo "<?php\n";
?>
/**
 * Autogenerated unit test for collections object. Do not edit.
 */

require_once __DIR__ . '/../North_Commerce_Db_Test_Case.php';

use NorthCommerce\Db\Collections\<?= $class_name?>;

class <?= $class_name ?>Test extends North_Commerce_Db_Test_Case {

<?php  foreach ( $values as $row ) { ?>
	public function <?= nc_camel_case( "test_{$row['slug']}" ) ?>() {
		$found = $this->ea->get('<?= $table_name ?>', [ 'slug' => '<?= $row['slug'] ?>' ]);
		$c = <?= $class_name?>::<?= nc_camel_case( $row['slug'] ) ?>();
		$this->assertEquals( $found['id'], $c->id );
		$this->assertEquals( $found['slug'], $c->slug );
	}

<?php } ?>

}
