<?php
/**
 * Template for a size based variant.
 *
 *
 * @package north-commerce/public/templates/product
 * @author  North Commerce <hello@northplugins.com>
 * @link    https://northcommerce.com
 * @since   0.1.3
 * @version 0.1.24
 */

$option_type_slug = $option_type_slug ?? 'size';
$has_stock = $has_stock ?? intval( $product['quantity'] );

?>
<div class="nc-size" data-type="product-options">
	<p class="size-variation-label variation-label">
		<?php echo esc_html( $option['name'] ); ?>
	</p>
    <?php

    foreach ( $option['product_option_values'] ?? [] as $value ) {
        if ( ! empty( $value['deleted'] ) ) {
            continue;
        }

        $value_attr_id = "product_{$product['id']}__option_value_{$value['id']}";

        ?>
        <input
            type="radio"
            class="size-radio"
            id="<?php echo esc_attr( $value_attr_id ); ?>"
            name="<?php echo esc_attr( $option_type_slug . '-' . $index ); ?>"
            value="<?php echo esc_attr( $value['id'] ); ?>"
        >
        <label
            for="<?php echo esc_attr( $value_attr_id ); ?>"
            data-id="<?php echo $value['id'] ?>"
            class="<?php echo $has_stock ? 'size-label' : 'nc-disabled' ?>"
        >
            <?php echo esc_html( wp_unslash( $value['display_value'] ) ); ?>
        </label>
        <?php
    }

    ?>
</div>
