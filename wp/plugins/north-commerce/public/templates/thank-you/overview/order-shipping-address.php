<div class="nc-section__content__column nc-section__content__column--half">
    <div class="nc-text-container">
    <h3 class="nc-heading-3">
        <?php esc_html_e( 'Contact information', 'north-commerce' ); ?>
    </h3>
    <p>
        <bdo dir="ltr">
            <?php echo esc_html( $customer_email ); ?>
        </bdo>
    </p>
    <?php

    if ( $shipping_address ) {
        ?>
        <h3 class="nc-heading-3">
            Shipping address
        </h3>
        <address class="nc-address">
            <?php echo $shipping_address['first_name'] . ' ' . $shipping_address['last_name'] ?>
            <br>
            <?php
            echo $shipping_address['addressline1'];
            echo $shipping_address['addressline2'] ? '<br>' . $shipping_address['addressline2'] : '';
            ?>
            <br>
            <?php echo $shipping_address['city'] . ', ' . $shipping_address['state'] . ' ' . $shipping_address['zipcode']; ?>
            <br>
            <?php echo $country_code; ?>
            <br>
            <?php echo $shipping_address['phone']; ?>
        </address>
        <?php
    }

    if ( $actual_shipping_details || $planned_shipping_details ) {
        ?>
        <h3 class="nc-heading-3">
            <?php esc_html_e( 'Shipping method', 'north-commerce' )?>
        </h3>
        <?php
    }

    ?>
    <p>
        <?php
        $carrier = $actual_shipping_details['carrier'] ?? $planned_shipping_details['carrier'] ?? '';
        $service = $actual_shipping_details['service'] ?? $planned_shipping_details['service'] ?? '';

        if ( $service ) {
            $insert_spaces_before_uppercase = function () use ( $service ): string {
                return preg_replace('/(?<!\s)([A-Z])/', ' $1', $service);
            };
            $service = $insert_spaces_before_uppercase();
        }

        echo esc_html( "{$carrier} - {$service}" );
        ?>
    </p>
    </div>
</div>
