<?php

$cm = new \NorthCommerce\Models\CountryModel();

?>
<div class="nc-popup-type-1 nc-account-shipping-address-edit">
	<script type="text/javascript">
      const ncCountries = <?php echo json_encode( $cm->list_all() ) . ";" ?>
      const ncCountriesSubUnits = <?php echo json_encode( nc_get_countries_subunits_map() ) . ";" ?>
	</script>

	<div class="nc-popup-type-1-outer">
		<div class="nc-popup-type-1-inner nc-account-shipping-address-edit-inner">

			<div class="nc-account-shipping-address-edit-title nc-font-h2">
				<?php esc_html_e( 'Shipping Address', 'north-commerce' ) ?>
			</div>
			<form
				action=""
				data-customer-id="<?php echo get_user_meta( get_current_user_id(), 'north_commerce_customer_id', true ) ?>"
            >
				<div class="nc-account-shipping-address-edit-content">
					<div class="nc-account-shipping-address-edit-field">
						<label for="nc-account-shipping-address-country"><?php esc_html_e( 'Country', 'north-commerce' ) ?></label>
						<select name="country_id" id="nc-account-shipping-address-country" class="nc-account-input"></select>
					</div>
					<div class="nc-account-shipping-address-edit-field">
						<label for="nc-account-shipping-address-address-line"><?php esc_html_e( 'Address Line', 'north-commerce' ) ?></label>
						<input type="text" name="addressline1" id="nc-account-shipping-address-address-line" class="nc-account-input">
					</div>
					<div class="nc-account-shipping-address-edit-field">
						<label for="nc-account-shipping-address-address-city"><?php esc_html_e( 'City', 'north-commerce' ) ?></label>
						<input name="city" id="nc-account-shipping-address-address-city" class="nc-account-input">
					</div>
					<div class="nc-account-shipping-address-edit-2-columns">
						<div class="nc-account-shipping-address-edit-field nc-account-shipping-address-state-container">
							<label for="nc-account-shipping-address-address-state"><?php esc_html_e( 'State', 'north-commerce' ) ?></label>
							<select name="state" id="nc-account-shipping-address-address-state" class="nc-account-input"></select>
						</div>
						<div class="nc-account-shipping-address-edit-field nc-account-shipping-address-zipcode-container">
							<label for="nc-account-shipping-address-address-zipcode"><?php esc_html_e( 'Postal Code', 'north-commerce' ) ?></label>
							<input name="zipcode" id="nc-account-shipping-address-address-zipcode" class="nc-account-input"></input>
						</div>
					</div>
				</div>
				<div class="nc-account-shipping-address-edit-actions">
					<button
						type="submit"
						class="nc-account-button nc-account-button--filled"
						data-text-initial="<?php esc_html_e( 'Save', 'north-commerce' ) ?>"
						data-text-saving="<?php esc_html_e( 'Saving...', 'north-commerce' ) ?>"
                    >
                        <?php esc_html_e( 'Save', 'north-commerce' ) ?>
                    </button>
					<div
						class="nc-account-button"
						data-close-modal
					>
						<?php esc_html_e( 'Cancel', 'north-commerce' ) ?>
					</div>
				</div>
			</form>
		</div>
	</div>

</div>
