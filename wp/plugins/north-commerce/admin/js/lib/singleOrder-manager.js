/*
 * A JS file for implementing a Easy Post Manager - that is an object
 * that helps the create shipping labels for orders
 */
(function() {
    if(!window.NorthCommerce) {
        window.NorthCommerce = {};
    }

    window.NorthCommerce.singleOrderManager = {
        updateOrderStatusUI: function(order_status_id) {
            const orderStatusButton = document.querySelector(`input[name="order_status"][value="${order_status_id}"]`);
            if(orderStatusButton) {
                orderStatusButton.checked = true;
                const selectorContainer = document.querySelector('.order__status.order__selector')

                selectorContainer.classList.value = `order__status order__selector order__status-fulfilled`

                const statusName = selectorContainer.querySelector('.current_status')
                statusName.textContent = 'Fulfilled'

                document.querySelector('.order-status .status__mark').classList.value = `status__mark status-fulfilled`
                document.querySelector('.order-status .status__name').textContent = 'Fulfilled'
            }
        },

        updateCarrierLineItem: function(carrier) {
            const carrierValue = document.querySelector('.shipping-carrier-line-item');
            carrierValue.innerText = carrier;
        },

        updateCarrierEstimatedDelivery: function(estimate) {
            const estimateValue = document.querySelector('.shipping-carrier-estimated-delivery');
            estimateValue.innerText = estimate;
        },

        updateCarrierTracking: function(url) {
            const trackingLink = document.querySelector('.shipping-carrier-tracking-number');
            trackingLink.href = url;
        },

        updateLabelBtnState: function(url) {
            const viewLabelBtn = document.querySelector('.order-view-shipping-label');
            const createLabelBtn = document.querySelector('.order-shipping-button');

            createLabelBtn.classList.remove('view_create_label');
            createLabelBtn.classList.add('hide_create_label');

            viewLabelBtn.classList.remove('hide_label');
            viewLabelBtn.classList.add('view_label');
            viewLabelBtn.href= url;
        }

    }

})();
