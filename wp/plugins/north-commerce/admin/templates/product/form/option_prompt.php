<?php

defined( 'ABSPATH' ) || exit;

/**
 * Option prompt template
 *
 * @author  North Commerce <hello@northplugins.com>
 * @package north-commerce/admin/templates
 * @since   0.1.12
 * @version 0.1.24
 */

?>
<div class="option-prompt">
	<?php
	foreach ( $product_option_types as $type ) {
		$prompt_extra_classes = 'color' === $option_type_slug ? ' prompt-color' : '';
		$prompt_extra_classes .= $type['slug'] === $option_type_slug ? ' active' : '';
		?>
		<ul
			class="prompt<?php echo esc_attr( $prompt_extra_classes ); ?>"
			data-prompt-type="<?php echo esc_attr( $type['slug'] ); ?>"
		>
			<?php

            //"prompt" to select image from wordpress media
            if($type['slug'] === 'image') {
                ?>
                <li class="prompt__item">
                    <input
                            type="hidden"
                            class="prompt-name"
                            value=""
                    >
                    <a href="" class="product-option-select-image">
                        <span>Select from Media</span>
                    </a>
                </li>
                <?php
            }

			foreach ( $product_model->list_option_values_by_type( $type['slug'] ) as $prompt_item ) {
				?>
				<li class="prompt__item">
					<input
						type="hidden"
						class="prompt-name"
						value="<?php echo esc_attr( wp_unslash( $prompt_item['display_value'] ) ); ?>"
					>

					<input
						type="hidden"
						class="prompt-color"
						value="<?php echo esc_attr( $prompt_item['value'] ?? '#000000' ) ?>"
					>

					<a href="javascript:void(0);">
						<?php
						if ( 'color' === $type['slug'] ) {
							?>
							<span class="color" style="background: <?php echo esc_attr( $prompt_item['value'] ?? '#000000' ); ?>"></span>
							<?php
						}
						?>
						<span>
							<?php echo esc_html( wp_unslash( $prompt_item['display_value'] ) ); ?>
						</span>
					</a>
				</li>
				<?php
			}

			?>
		</ul>
		<?php
	}
	?>
</div>
