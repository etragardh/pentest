<?php

defined( 'ABSPATH' ) || exit;

/**
 * @package north-commerce/admin/templates
 * @author  North Commerce <hello@northplugins.com>
 * @since   0.1.1
 * @version 0.1.13
 */

$product_id = $product['id'] ?? '';
$product_image = $product['product_images'][0] ?? '';

?>
<div
	class="product-item<?php echo ! $product_id ? ' template' : ''; ?>"
	data-id="<?php echo esc_attr( $product_id ); ?>"
	>

	<div class="product-item__img">
		<div
			class="product-item__img__background"
			<?php echo $product_image ? ' style="background-image: url(' . esc_url( $product_image ) . ');"' : '' ?>
			>
		</div>
	</div>

	<div class="product-item__info">

		<p class="product-item__title">
			<?php echo esc_html( $product['name'] ?? '' ); ?>
		</p>
		<?php

		$selected_variants_counter = count( $product['product_variants'] ?? [] );
		if (
			1 === $selected_variants_counter
			&& 'solo' === reset( $product['product_variants'] )['product_variant_type']['slug']
		) {
			$selected_variants_counter = 0;
		}

		?>
		<div class="product-item__variants">
			<?php
			printf(
				'<span class="%1$s">%2$s</span> of <span class="%3$s">%4$s</span> %5$s',
				'selected-variants',
				$selected_variants_counter,
				'total-product-variants',
				$product['total_variants_counter'] ?? 0,
				_n( 'variant', 'variants', $selected_variants_counter, 'north-commerce' )
			);
			?>
		</div>

	</div>

	<div class="product-item__actions">
		<div class="product-item__actions__remove"></div>
	</div>

</div>
