<?php

defined( 'ABSPATH' ) || exit;

use NorthCommerce\Models\CustomerModel;

/**
 * Draft Order template.
 *
 *
 * @package north-commerce/admin/templates/order
 * @author  North Commerce <hello@northplugins.com>
 * @link    https://northcommerce.com/
 * @since   0.1.24
 * @version 0.1.25
 */


$customer_model = new CustomerModel();
$customer = $customer_model->get_by_id( $order['customer_id'] );

$subtemplates_dir = 'order/draft';

?>
<div
    class="single-order order-draft"
    data-nc-order-status="draft"
    data-nc-customer-id="<?php echo esc_attr( $customer['id'] ); ?>"
>
    <div class="order__header">
        <div class="order__wrapper">
            <a
                href="<?php echo admin_url( 'admin.php?page=north-commerce-orders' ); ?>"
                class="btn btn-prev"
            ></a>
            <div class="order__short-info">
                <div class="order__data">
                    <h2>
                        <?php
                        esc_html_e( 'Draft Order ', 'north-commerce' );
                        echo esc_html( '#' . $order['order_number'] );
                        ?>
                    </h2>
                </div>
            </div>
        </div>
    </div>
    <div class="order__body">
        <div class="order__content">
            <?php
            $this->template( 'section-products-template', $subtemplates_dir, compact( 'order' ) );
            $this->template( 'section-payment-template', $subtemplates_dir, compact( 'order' ) );
            ?>
        </div>
        <div class="order__sidebar">
            <?php
            $this->template( 'sidebar-template', $subtemplates_dir, compact(
                'customer'
            ) );
            ?>
        </div>
    </div>
</div>
<?php

$this->template( 'boilerplate-product-item-template', $subtemplates_dir );
$this->template( 'popup-products-list-template', $subtemplates_dir );
$this->template( 'popup-shipping-settings-template', $subtemplates_dir, compact( 'customer' ) );
$this->template( 'popup-taxes-settings-template', $subtemplates_dir );
$this->template( 'popup-notice-order-paid-creation-template', $subtemplates_dir );
$this->template( 'popup-order-payment-template', $subtemplates_dir );