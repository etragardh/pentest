<?php

defined( 'ABSPATH' ) || exit;

/**
 * Sidebar template
 *
 *
 * @package north-commerce/admin/templates/order/draft
 * @author  North Commerce <hello@northplugins.com>
 * @link    https://northcommerce.com/
 * @since   0.1.24
 * @version 0.1.25
 */


?>
<div class="card">
    <div class="card__header">
        <h3>
            <?php esc_html_e( 'Customer', 'north-commerce' ); ?>
        </h3>
        <!-- <div class="card__action">
            <a class="btn-edit" data-form-type="customer" href="javascript:void(0);"></a>
        </div> -->
    </div>
    <div class="card__body">
        <div class="card__row">
            <p class="card__text card__text-icon card__text-icon-user card__text-customer-name">
                <?php
                $customer_name = $customer['first_name'] . ' ' ?? '';
                $customer_name .= $customer['last_name'] ?? '';
                echo esc_html( $customer_name );
                ?>
            </p>
        </div>
    </div>
</div>

<div class="card">
    <div class="card__header">
        <h3>
            <?php esc_html_e( 'Contact Information', 'north-commerce' ); ?>
        </h3>
    </div>
    <div class="card__body">
        <div class="card__row card__row-margin">
            <p class="card__text card__text-icon card__text-icon-email card__text-customer-email">
                <?php
                echo esc_html( $customer['email'] ?? '' );
                ?>
            </p>
        </div>
        <div class="card__row">
            <p class="card__text card__text-icon card__text-icon-phone card__text-customer-phone">
                <?php
                $customer_phone = $customer['country_code'] ?? '';
                $customer_phone .= $customer['phone'] ?? '';
                echo esc_html( $customer_phone );
                ?>
            </p>
        </div>
    </div>
</div>

<div class="card card-shipping">
    <div class="card__header">
        <h3>
            <?php esc_html_e( 'Shiping Address', 'north-commerce' ); ?>
        </h3>
    </div>
    <div class="card__body">
        <?php
        $address = $customer['addresses'][0] ?? null;
        if ( ! empty( $address['first_name'] ) ) {
            ?>
            <div class="card__row card__row-margin">
                <p class="card__text card__text-icon card__text-icon-address shipping-address-name">
                    <?php echo esc_html( $address['first_name'] . ' ' . $address['last_name'] ); ?>
                </p>
            </div>
            <?php
        }

        if ( ! empty( $address['addressline1'] ) ) {
            ?>
            <div class="card__row card__row-margin">
                <p class="card__text card__text-icon shipping-address-address">
                    <?php echo esc_html( $address['addressline1'] . ' ' . $address['addressline2'] ); ?>
                </p>
            </div>
            <?php
        }

        if (
            ! empty( $address['city'] )
            || ! empty( $address['state'] )
            || ! empty( $address['zipcode'] )
        ) {
            $text = $address['city']
                . '|' . $address['state']
                . '|' . $address['zipcode'];
            $text = implode( ', ', array_filter( explode( '|', $text ) ) );

            ?>
            <div class="card__row card__row-margin">
                <p class="card__text card__text-icon shipping-address-city-state-zipcode">
                    <?php echo esc_html( $text ); ?>
                </p>
            </div>
            <?php
        }

        if ( ! empty( $address['country'] ) ) {
            ?>
            <div class="card__row card__row-margin">
                <p class="card__text card__text-icon shipping-address-country">
                    <?php echo esc_html( $address['country']['name'] ); ?>
                </p>
            </div>
            <?php
        }
        ?>
    </div>
</div>

<div class="card card-billing">
    <div class="card__header">
        <h3>
            <?php esc_html_e( 'Billing Address', 'north-commerce' ); ?>
        </h3>
    </div>
    <div class="card__body">
        <div class="card__row">
            <p class="card__text">
                <?php
                esc_html_e( 'Same as Shipping Address', 'north-commerce' );
                ?>
            </p>
        </div>
    </div>
</div>

<div class="card card-notes">
    <div class="card__header">
        <h3>
            <?php esc_html_e( 'Notes', 'north-commerce' ); ?>
        </h3>
    </div>
    <div class="card__body">
        <textarea id="customer-notes" name="customer-notes"></textarea>
    </div>
</div>