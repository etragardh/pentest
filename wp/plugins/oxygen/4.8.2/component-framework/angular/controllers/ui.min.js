var CTFrontendBuilderUI=angular.module("CTFrontendBuilderUI",["ngAnimate","CTCommonDirectives"]).config(["$provide",function(e){e.decorator("$browser",["$delegate",function(e){return e.onUrlChange=function(){},e.url=function(){return""},e}])}]);CTFrontendBuilderUI.config(["$rootScopeProvider",function(e){e.digestTtl(16)}]),CTFrontendBuilderUI.controller("ControllerUI",["$controller","$anchorScroll","$location","$scope","$timeout","$interval","$window","$compile","ctScopeService",function(e,t,o,l,d,i,n,r,a){a.store("uiscope",l),(window.$scope=l).CtBuilderAjax=n.CtBuilderAjax,e("ControllerSlider",{$scope:l,$timeout:d,$interval:i}),l.ctBgLayerType="image",l.bgLayersSortableOptions={update:function(e,t){setTimeout(function(){var e=l.iframeScope.getOption("background-layers");l.iframeScope.setOptionModel("background-layers",e)},100)}},l.media_uploader={},l.oxygenUIElement=jQuery("#oxygen-ui"),l.toolbarElement=jQuery("#oxygen-topbar"),l.viewportContainer=jQuery("#ct-viewport-container"),l.artificialViewport=jQuery("#ct-artificial-viewport"),l.viewportRulerWrap=jQuery("#ct-viewport-ruller-wrap"),l.sidePanelElement=jQuery("#ct-sidepanel"),l.settingsPanelElement=jQuery("#oxygen-global-settings"),l.verticalSidebar=jQuery("#oxygen-sidebar"),l.artificialViewport.prop("src",function(){return angular.element(this).data("src")}),l.viewportScale=1,l.viewportScaleLocked=!1,(window.$scope=l).showEmptyMessage=!0,l.showAllStyles=!0,l.showClasses=!0,l.showLeftSidebar=!0,l.showButtonFlashing=!1,l.showComponentBar=!1,l.showDOMTreeNavigator=!1,l.dialogWindow=!1,l.viewportRullerShown=!1,l.showSidePanel=!1,l.showSettingsPanel=!1,l.styleTabAdvance=!1,l.activeForEditBgLayer=!1,l.statusBarActive=!1,l.showDataPanel=!1,l.showSidebarLoader=!1,l.copySelectorFromClass=!1,l.copySelectorFromID=!1,l.builtinContentEditing=!1,l.conditionsDialogOptions={selectedIndex:0,userCondition:""},l.currentBorder="all",l.actionTabs={componentBrowser:!1,advancedSettings:!1,contentEditing:!1,settings:!1,styleSheet:!1,codeEditor:!1},l.highlight=[],l.tabs=[],l.tabs.components=[],l.tabs.components.fundamentals=!0,l.tabs.advanced=[],l.tabs.advanced.Background=[],l.tabs.advanced.positionSize=[],l.tabs.settings=[],l.tabs.navMenu=[],l.tabs.slider=[],l.tabs.sidePanel=[],l.tabs.sidePanel.DOMTree=!0,l.tabs.sidePanel.History=!0,l.tabs.codeEditor=[],l.tabs.codeEditor["code-php"]=!0,l.isSelectableEnabled=!1,l.isDOMNodesSelected=!1,l.overlaysCount=0,l.pageLoaded=!1,l.dialogForms=[],l.iframeScope=!1,l.colorSetIDToAdd=0,l.componentsSearchQuery="";var c=jQuery("#oxygen-toolbar-original-panels"),s=jQuery("#oxygen-toolbar-search-panels"),p=s.find(".oxygen-add-panels-no-search-results"),m=jQuery("#oxygen-toolbar-search-results"),u=jQuery("#oxygen-toolbar-search-results > div");function g(){return jQuery("#oxygen-toolbar-search-results > div:visible:first")}for(var f="searchid",y=jQuery("#oxygen-add-sidebar .oxygen-add-searchbar"),v={items:[{title:"Section",category:"Basics Containers",id:"section"},{title:"Div",category:"Basics Containers",id:"div"},{title:"Columns",category:"Basics Containers",id:"columns"},{title:"Heading",category:"Basics Text",id:"heading"},{title:"Text",category:"Basics Text",id:"text"},{title:"Rich Text",category:"Basics Text",id:"rich_text"},{title:"Text Link",category:"Basics Links",id:"text_link"},{title:"Link Wrapper",category:"Basics Links",id:"link_wrapper"},{title:"Button",category:"Basics Links",id:"button"},{title:"Image",category:"Basics Visual",id:"image"},{title:"Video",category:"Basics Visual",id:"video"},{title:"Icon",category:"Basics Visual",id:"icon"},{title:"Code Block",category:"Basics Other",id:"code_block"},{title:"Inner Content",category:"Basics Other",id:"inner_content"},{title:"Header Builder",category:"Helpers Composite",id:"header_builder"},{title:"Social Icons",category:"Helpers Composite",id:"social_icons"},{title:"Testimonial",category:"Helpers Composite",id:"testimonial"},{title:"Icon Box",category:"Helpers Composite",id:"icon_box"},{title:"Pricing Box",category:"Helpers Composite",id:"pricing_box"},{title:"Progress Bar",category:"Helpers Composite",id:"progress_bar"},{title:"Modals",category:"Helpers Composite",id:"modal"},{title:"Easy Posts",category:"Helpers Dynamic",id:"easy_posts"},{title:"Gallery",category:"Helpers Dynamic",id:"gallery"},{title:"Repeater",category:"Helpers Dynamic",id:"repeater"},{title:"Slider",category:"Helpers Interactive elements",id:"slider"},{title:"Tabs",category:"Helpers Interactive elements",id:"tabs"},{title:"Superbox",category:"Helpers Interactive elements",id:"superbox"},{title:"Toggle",category:"Helpers Interactive elements",id:"toggle"},{title:"Google Maps",category:"Helpers External",id:"google_maps"},{title:"SoundCloud",category:"Helpers External",id:"soundcloud"},{title:"Menu",category:"Wordpress",id:"menu"},{title:"Shortcode",category:"Wordpress",id:"shortcode"},{title:"Shortcode Wrapper",category:"Wordpress",id:"shortcode_wrapper"},{title:"Comments List",category:"Wordpress",id:"comments_list"},{title:"Comment Form",category:"Wordpress",id:"comment_form"},{title:"Login Form",category:"Wordpress",id:"login_form"},{title:"Search Form",category:"Wordpress",id:"search_form"},{title:"Title",category:"Dynamic data",id:"dynamic_data_title"},{title:"Content",category:"Dynamic data",id:"dynamic_data_content"},{title:"Date",category:"Dynamic data",id:"dynamic_data_date"},{title:"Categories",category:"Dynamic data",id:"dynamic_data_categories"},{title:"Tags",category:"Dynamic data",id:"dynamic_data_tags"},{title:"Featured Image",category:"Dynamic data",id:"dynamic_data_featured_image"},{title:"Author",category:"Dynamic data",id:"dynamic_data_author"},{title:"Author Avatar",category:"Dynamic data",id:"dynamic_data_author_avatar"},{title:"Custom Field",category:"Dynamic data",id:"dynamic_data_custom_field"},{title:"Title",category:"Widgets",id:"dynamic_data_title"},{title:"Content",category:"Widgets",id:"dynamic_data_content"},{title:"Date",category:"Widgets",id:"dynamic_data_date"},{title:"Categories",category:"Widgets",id:"dynamic_data_categories"},{title:"Tags",category:"Widgets",id:"dynamic_data_tags"},{title:"Featured Image",category:"Widgets",id:"dynamic_data_featured_image"},{title:"Author",category:"Widgets",id:"dynamic_data_author"},{title:"Author Avatar",category:"Widgets",id:"dynamic_data_author_avatar"},{title:"Custom Field",category:"Widgets",id:"dynamic_data_custom_field"},{title:"Widget Pages",category:"Widgets",id:"widget_pages"},{title:"Widget Calendar",category:"Widgets",id:"widget_calendar"},{title:"Widget Archives",category:"Widgets",id:"widget_archives"},{title:"Widget Audio",category:"Widgets",id:"widget_audio"},{title:"Widget Image",category:"Widgets",id:"widget_image"},{title:"Widget Gallery",category:"Widgets",id:"widget_gallery"},{title:"Widget Video",category:"Widgets",id:"widget_video"},{title:"Widget Meta",category:"Widgets",id:"widget_meta"},{title:"Widget Search",category:"Widgets",id:"widget_search"},{title:"Widget Text",category:"Widgets",id:"widget_text"},{title:"Widget Categories",category:"Widgets",id:"widget_categories"},{title:"Widget Recent Posts",category:"Widgets",id:"widget_recent_posts"},{title:"Widget Recent Comments",category:"Widgets",id:"widget_recent_comments"},{title:"Widget Rss",category:"Widgets",id:"widget_rss"},{title:"Widget Tag Cloud",category:"Widgets",id:"widget_tag_cloud"},{title:"Widget Navigation Menu",category:"Widgets",id:"widget_navigation_menu"},{title:"Widget Custom Html",category:"Widgets",id:"widget_custom_html"}]},h={},S=0;S<v.items.length;S++)h[v.items[S].id]=!0;var b=window.setInterval(function(){0!=u.length&&(u.each(function(){var e=angular.element(this).data(f);if(!h.hasOwnProperty(e)){var t=angular.element(this).data("searchcat"),o=angular.element(this).data("searchname"),i=angular.element(this).data("searchkeys");void 0===o&&(o=angular.element(this).text().trim()),v.items.push({title:o,category:t,id:e,keywords:i})}}),v.items=_.filter(v.items,function(e){return"Widgets"!=e.category&&"Dynamic data"!=e.category&&void 0!==e.category}),v.fuse=new Fuse(v.items,{shouldSort:!0,tokenize:!0,matchAllTokens:!0,findAllMatches:!0,threshold:.05,includeScore:!0,location:0,distance:250,maxPatternLength:36,minMatchCharLength:1,keys:[{name:"title",weight:.6},{name:"category",weight:.2},{name:"keywords",weight:.2}]}),clearTimeout(b))},350);l.$watch(function(){l.showEmptyMessage=l.iframeScope&&!1!==l.showLeftSidebar&&!(!1===l.isActiveName("root")||!0===l.isActiveActionTab("componentBrowser")||"stylesheet"===l.iframeScope.selectedNodeType||"selectorfolder"===l.iframeScope.selectedNodeType||"cssfolder"===l.iframeScope.selectedNodeType||"styleset"===l.iframeScope.selectedNodeType)}),l.$on("iframe-scope",function(e,t){l.iframeScope=t}),l.stopPropagation=function(e){e.stopPropagation()},l.safeApply=function(){w=!0,"$apply"!=l.$root.$$phase&&"$digest"!=l.$root.$$phase&&l.$apply(),w=!1},l.treeHandleRenameKeypress=function(e,t){13===e.keyCode&&(t.editable=!1)},l.isDraggable=function(e){if(!l.iframeScope.component.options[e])return!1;var t=!0,o=l.iframeScope.component.options[e].name;return-1<["oxy_header_row","oxy_icon_box","oxy_pricing_box","oxy_dynamic_list"].indexOf(o)&&(t=!1),t};var w=!(l.categoryList=function(){var e=!1;if(CtBuilderAjax.componentCategories&&0<CtBuilderAjax.componentCategories.length)for(key in e=[],CtBuilderAjax.componentCategories)e.push(CtBuilderAjax.componentCategories[key]);return e});l.$watch(function(){w||(w=!0,l.$$postDigest(function(){w=!1,l.iframeScope&&l.iframeScope.safeApply()}))}),l.isActiveId=function(e){return!!l.iframeScope&&e==l.iframeScope.component.active.id},l.insertShortcodeToLink=function(e){e=e.replace(/\"/gi,"'"),angular.element("input#wp-link-url").val(e)},l.isActiveName=function(e){return!!l.iframeScope&&e==l.iframeScope.component.active.name},l.isActiveParentId=function(e){return!!l.iframeScope&&e==l.iframeScope.component.active.parent.id},l.isActiveParentName=function(e){return!!l.iframeScope&&e==l.iframeScope.component.active.parent.name},l.switchTab=function(e,t){switch(window.currentCMEditor=!1,window.mixedCMEditors=!1,"advanced"==e?(l.showAllStyles=!1,0<=["custom-js","custom-css","code-js","code-css","code-php","code-mixed"].indexOf(t)?l.expandSidebar():l.toggleSidebar(!0)):l.iframeScope.selectedNodeType=null,"sidePanel"==e&&(1!=l.tabs[e][t]?l.toggleSidePanel(!0):l.toggleSidePanel()),l.tabs[e]=[],"effects"!==e&&(l.tabs.effects=[]),"components"==e&&l.iframeScope.closeAllFolders(),t){case"position":l.tabs[e][t]={margin_padding:!0};break;case"background":l.tabs[e][t]={color:!0};break;case"borders":l.tabs[e][t]={border:!0};break;case"cssjs":l.tabs[e][t]={css:!0};break;case"code":l.tabs[e][t]={"code-php":!0};break;default:l.tabs[e][t]=!l.tabs[e][t]}"advanced"===e&&"background"===t&&(l.activeForEditBgLayer=!1),l.showSVGIcons=!1,l.disableSelectable()},l.hasOpenTabs=function(e){return void 0!==l.tabs[e]&&0<Object.keys(l.tabs[e]).length},l.deleteDynamicQueryChild=function(e,t,o){var i=angular.element(t.target).closest(o).index();e.splice(i,1)},l.getDynamicQueryPreset=function(o,i,n){var a={},r=function(){for(var e in o=JSON.stringify(o),a){var t=new RegExp("\\{\\{"+e+"\\}\\}","g");o=o.replace(t,a[e])}l.iframeScope.component.options[l.iframeScope.component.active.id].model.wp_query_advanced=JSON.parse(o),l.iframeScope.setOption(l.iframeScope.component.active.id,l.iframeScope.component.active.name,"wp_query_advanced"),"oxy_dynamic_list"===l.iframeScope.component.active.name?l.iframeScope.updateRepeaterQuery():"oxy_posts_grid"===l.iframeScope.component.active.name&&l.iframeScope.renderComponentWithAJAX("oxy_render_easy_posts"),l.iframeScope.component.options[l.iframeScope.component.active.id].model.wp_query_advanced_preset=n,l.iframeScope.setOption(l.iframeScope.component.active.id,l.iframeScope.component.active.name,"wp_query_advanced_preset")};i?(l.showDialogWindow(),setTimeout(function(){var e=angular.element(".ct-dialog-window-content-wrap"),n=e.find(".ct-query-preset-dialog");n.length<1&&(n=angular.element('<div class="ct-query-preset-dialog"></div>'),e.append(n)),n.html(""),i.forEach(function(e){var t=e.name,o=e.values,i="";i=o?'<div class="oxygen-control-row"><div class="oxygen-control-wrapper"><label class="oxygen-control-label">'+t+'</label><div class="oxygen-select oxygen-select-box-wrapper"><div class="oxygen-select-box"><div class="oxygen-select-box-current"></div><div class="oxygen-select-box-dropdown"></div></div><div class="oxygen-select-box-options">'+Object.values(o).map(function(e){return'<div class="oxygen-select-box-option">'+e+"</div>"}).join("\n")+"</div></div></div></div>":'<div class="oxygen-control-row"><div class="oxygen-control-wrapper"><label class="oxygen-control-label">'+t+'</label><div class="oxygen-control"><div class="oxygen-input"><input type="text" spellcheck="false" ></div></div></div></div>',n.append(i)});var t=angular.element('<div class="oxygen-apply-button">Apply</div>');t.on("click",function(){r(),n.remove(),l.hideDialogWindow()}),n.on("click",".oxygen-select",function(e){l.toggleOxygenSelectBox(e,this)}).on("click",".oxygen-select-box-option",function(e){var t=e.target.innerText;angular.element(e.target).closest(".oxygen-select").find(".oxygen-select-box-current").text(t),a[angular.element(e.target).closest(".oxygen-control-row").find(".oxygen-control-label").text()]=t}).on("change",".oxygen-input input",function(e){var t=e.target.value;a[angular.element(e.target).closest(".oxygen-control-row").find(".oxygen-control-label").text()]=t}),n.append(t)},200)):r()},l.hasOpenChildTabs=function(e,t){return void 0!==l.tabs[e]&&void 0!==l.tabs[e][t]&&(null!=l.tabs[e][t]&&0<Object.keys(l.tabs[e][t]).length)},l.switchChildTab=function(e,t,o){if("cssjs"==t)return l.tabs[e][t]=[],!(l.tabs[e][t][o]=!0);l.tabs[e]||(l.tabs[e]=[]),l.tabs[e][t]&&"object"==typeof l.tabs[e][t]||(l.tabs[e][t]=[]),l.tabs[e][t][o]=!l.tabs[e][t][o],l.showSVGIcons=!1,l.showAddGlobalColorPanel=!1,l.addGlobalColorSetPanel=!1,l.disableSelectable()},l.checkTabs=function(){l.iframeScope.log&&console.log("checkTabs()"),l.isActiveName("root")?l.closeAllTabs():(l.isActiveName("ct_code_block")&&(l.tabs.advanced["custom-js"]||l.tabs.advanced["custom-css"])&&l.showAllStylesFunc(),!l.isActiveName("ct_code_block")&&(l.tabs.advanced["code-js"]||l.tabs.advanced["code-css"]||l.tabs.advanced["code-php"]||l.tabs.advanced["code-mixed"])?l.showAllStylesFunc():l.tabs.advanced.code&&(l.tabs.advanced.code["code-php"]||l.tabs.advanced.code["code-js"]||l.tabs.advanced.code["code-css"])&&"ct_code_block"!=l.iframeScope.component.active.name&&l.switchChildTab("advanced","background","color"))},l.closeAllTabs=function(o){l.iframeScope.log&&console.log("closeAllTabs()",o),null==o&&(o=[]),angular.forEach(l.actionTabs,function(e,t){-1==o.indexOf(t)&&(l.actionTabs[t]=!1)}),l.showSVGIcons=!1,l.adjustViewportContainer()},l.closeTabs=function(e){for(var t in l.iframeScope.log&&console.log("closeTabs()",e),l.tabs)l.tabs.hasOwnProperty(t)&&(null==e?l.tabs[t]=!1:0<=e.indexOf(t)&&(l.tabs[t]=!1))},l.possibleSwitchToCodeEditor=function(e,t){l.isActiveName("ct_code_block")?(l.switchActionTab("codeEditor"),l.switchTab("codeEditor","code-css")):l.switchTab(e,t)},l.activateCopySelectorMode=function(e,t){t.stopPropagation(),e?l.copySelectorFromClass=e:l.copySelectorFromID=l.iframeScope.component.active.id},l.deactivateCopySelectorMode=function(e){e.stopPropagation(),l.copySelectorFromClass=!1,l.copySelectorFromID=!1},l.showAllStylesFunc=function(){l.showAllStyles=!0,l.tabs.advanced=[],l.tabs.effects=[],l.toggleSidebar(!0)},l.toggleSidebar=function(e){l.iframeScope.log&&console.log("toggleSidebar()",e);var t=l.verticalSidebar.data("expanded"),o=jQuery(".oxygen-code-editor-expand",l.verticalSidebar);t?(l.verticalSidebar.css({width:"300px"}),l.adjustViewportContainer(),l.verticalSidebar.data("expanded",!1),jQuery(o).text(jQuery(o).attr("data-expand"))):e||(l.verticalSidebar.css({width:"50%"}),l.adjustViewportContainer(),l.verticalSidebar.data("expanded",!0),jQuery(o).text(jQuery(o).attr("data-collapse")))},l.expandSidebar=function(){var t=d(function(){var e=jQuery(".oxygen-code-editor-expand",l.verticalSidebar);l.verticalSidebar.css({width:"50%"}),l.adjustViewportContainer(),l.verticalSidebar.data("expanded",!0),jQuery(e).text(jQuery(e).attr("data-collapse")),d.cancel(t)},0,!1)},l.showAddNewColorDialog=function(e){l.addNewColorDialog=!0,l.addNewColorDialogEvent=e;var t=jQuery(e.currentTarget).parents(".oxygen-color-picker").find(".oxygen-color-picker-color + input").val(),o=d(function(){jQuery("input","#oxygen-global-colors-new-color-dialog").focus(),d.cancel(o)},0,!1);l.addNewColorDialogValue=t,jQuery(document).on("keydown",l.colorDialogKeyDown)},l.hideAddNewColorDialog=function(){l.addNewColorDialog=!1,l.addNewColorDialogEvent=!1,l.addNewColorDialogValue="",jQuery(document).off("keydown",l.colorDialogKeyDown)},l.colorDialogKeyDown=function(e){if(13===e.which){l.iframeScope.addNewColor(l.newGlobalSettingsColorName,l.colorSetIDToAdd,"latest");var t=d(function(){l.$apply(),d.cancel(t)},0,!1)}},l.addGlobalColorSetKeyPress=function(e){if(13===e.which){l.iframeScope.addNewColorSet(l.newGlobalColorSetName);var t=d(function(){l.$apply(),d.cancel(t)},0,!1)}},l.newGlobalColorNameKeyPress=function(e,t){if(13===e.which){l.iframeScope.addNewColor(l.newGlobalColorName,t,l.newGlobalColorValue);var o=d(function(){l.$apply(),d.cancel(o)},0,!1)}},l.setGlobalColor=function(e,t){if(void 0===t&&(t=l.addNewColorDialogEvent),l.iframeScope.log&&console.log("setGlobalColor()",e,t),void 0!==t){var o=jQuery(t.currentTarget).parents(".oxygen-color-picker").find(".oxygen-color-picker-color + input"),i=l.iframeScope.getGlobalColor(e);l.activeGlobalColor=i,"color("+e+")"!==o.val()&&(o.val("color("+e+")"),angular.element(o).triggerHandler("input"))}},l.updateGlobalColorValue=function(e){l.globalColorToEdit.value=e},l.updateGlobalColor=function(e,t){l.iframeScope.log&&console.log("updateGlobalColor()",e,t),void 0!==e&&(l.globalColorToEdit.name=e),void 0!==t&&(l.globalColorToEdit.set=t)},l.unsetGlobalColor=function(e){var t=jQuery(e.currentTarget).parents(".oxygen-color-picker").find(".oxygen-color-picker-color + input");t.val(""),angular.element(t).triggerHandler("input")},l.globalColorChange=function(e){l.iframeScope.classesCached=!1,l.iframeScope.updateAllComponentsCacheStyles(),l.iframeScope.outputCSSOptions();var t=d(function(){l.$apply(),d.cancel(t)},0,!1)},l.isShowTab=function(e,t){return!!l.tabs[e]&&!!l.tabs[e][t]},l.isShowTabOfGroup=function(e){return l.tabs[e]&&0<Object.keys(l.tabs[e]).length},l.isShowChildTab=function(e,t,o){return!!l.tabs[e]&&!(!l.tabs[e][t]||!l.tabs[e][t][o])},l.toggleSidePanel=function(e){1==e&&l.showSidePanel||(l.showSidePanel=!l.showSidePanel,l.showSettingsPanel?l.showSettingsPanel=!1:l.showSidePanel?l.sidePanelElement.css({width:"300px"}):l.sidePanelElement.css({width:"0px"}),l.adjustViewportContainer(),l.showSidePanel||l.disableSelectable())},l.toggleSettingsPanel=function(e){l.showSettingsPanel=!0===e||!l.showSettingsPanel,l.showSidePanel?(l.settingsPanelElement.css({right:"0px"}),l.showSidePanel=!1):l.showSettingsPanel?l.settingsPanelElement.css({right:"0px"}):l.settingsPanelElement.css({right:"-300px"}),l.adjustViewportContainer(),l.showSettingsPanel||l.disableSelectable()},l.enableContentEdit=function(e){if(1==l.actionTabs.contentEditing)return!1;l.iframeScope.pauseDataWatcher(),l.iframeScope.switchEditToId();var t=l.iframeScope.getActiveComponent();e.is(t)?l.builtinContentEditing=!1:(t=e,l.builtinContentEditing=!0),t[0].attributes.contenteditable&&(l.isActiveName("ct_link_text")&&jQuery("<input style='position:fixed;top:40%;left:40%' type='text'>").appendTo("body").focus().remove(),t[0].setAttribute("contenteditable","true"),t[0].setAttribute("spellcheck","true"),l.iframeScope.isChrome||l.iframeScope.disableElementDraggable(!0),t.focus(),l.iframeScope.setEndOfContenteditable(t[0]),l.actionTabs.contentEditing=!0),l.iframeScope.hideResizeBox(.1)},l.disableContentEdit=function(){if(!l.actionTabs.contentEditing)return!1;l.iframeScope.log&&console.log("disableContentEdit()");var e,t=l.iframeScope.getActiveComponent(),o=l.iframeScope.component.active.id;if(l.builtinContentEditing=!1,window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),l.iframeScope.dynamicListTextChanged=!1,l.iframeScope.contentEditableData.beingEdited!=l.iframeScope.getOption("ct_content")&&(l.iframeScope.dynamicListTextChanged=!0),t[0].attributes.contenteditable){l.iframeScope.isChrome||l.iframeScope.disableElementDraggable(!1);var i=t.html();if(t.html(""),t[0].setAttribute("contenteditable","false"),t[0].removeAttribute("spellcheck"),t.html(i),e=t.closest(".oxy-dynamic-list"),"ct_span"!=l.iframeScope.component.active.name){if(void 0===t[0].attributes.plaintext||"true"!==t[0].attributes.plaintext)i=(i=l.iframeScope.getOption("ct_content")).replace(/\[oxygen[^\]]*\]/gi,function(e){var t={id:0<l.iframeScope.dynamicSpanCycleIDs.length?l.iframeScope.dynamicSpanCycleIDs.shift():l.iframeScope.component.id++,name:"ct_span"};return l.iframeScope.applyComponentDefaultOptions(t.id,"ct_span"),l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.insertComponentToTree,t),l.iframeScope.component.options[t.id].model.ct_content=e,l.iframeScope.setOption(t.id,"ct_span","ct_content"),l.iframeScope.findParentComponentItem(l.iframeScope.componentsTree,o,l.iframeScope.updateCurrentActiveParent),'<span id="ct-placeholder-'+t.id+'"></span>'}),l.iframeScope.setOptionModel("ct_content",i,l.iframeScope.component.active.id,l.iframeScope.component.active.name);l.iframeScope.findParentComponentItem(l.iframeScope.componentsTree,l.iframeScope.component.active.id,l.iframeScope.updateCurrentActiveParent);var n=l.iframeScope.component.active.id,a=l.iframeScope.getComponentById(l.iframeScope.component.active.parent.id);!!a&&a[0].attributes.contenteditable&&(n=l.iframeScope.component.active.parent.id),l.iframeScope.dynamicListTextChanged&&0<e.length&&!l.iframeScope.component.options[parseInt(e.attr("ng-attr-component-id"))].model.listrendertype?l.iframeScope.updateRepeaterQuery(parseInt(e.attr("ng-attr-component-id"))):l.iframeScope.rebuildDOM(n)}else{if(0<e.length){e.attr("ng-attr-component-id");angular.element("#ct-artificial-viewport").contents().find('[ng-attr-component-id="'+o+'"][disabled="disabled"]').text(t.text())}l.iframeScope.contentEditableData.beingEdited!=l.iframeScope.getOption("ct_content")&&l.iframeScope.rebuildDOM(l.iframeScope.component.active.parent.id)}}else{var r=t.find("[contenteditable=true]");if(0<r.length){l.iframeScope.isChrome||l.iframeScope.disableElementDraggable(!1);i=r.html();r.html(""),r[0].setAttribute("contenteditable","false"),r[0].removeAttribute("spellcheck"),r.html(i);var c=r.data("optionname");i=(i=l.iframeScope.getOption(c)).replace(/\[oxygen[^\]]*\]/gi,function(e){var t={id:0<l.iframeScope.dynamicSpanCycleIDs.length?l.iframeScope.dynamicSpanCycleIDs.shift():l.iframeScope.component.id++,name:"ct_span"};return l.iframeScope.applyComponentDefaultOptions(t.id,"ct_span"),l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.insertComponentToTree,t),l.iframeScope.component.options[t.id].model.ct_content=e,l.iframeScope.setOption(t.id,"ct_span","ct_content"),'<span id="ct-placeholder-'+t.id+'"></span>'}),l.iframeScope.setOptionModel(c,i,l.iframeScope.component.active.id,l.iframeScope.component.active.name);var s=d(function(){l.$apply(),d.cancel(s)},0,!1)}}l.actionTabs.contentEditing=!1,l.showDataPanel=!1,(null==e||e.length<1)&&l.iframeScope.adjustResizeBox(),l.iframeScope.resumeDataWatcher()},l.openTinyMCEDialog=function(){l.tinyMCEWindow=!0;var e=l.iframeScope.getOption("ct_content");jQuery("#wp-oxygen_vsb_tinymce-wrap").hasClass("tmce-active")&&tinyMCE.get("oxygen_vsb_tinymce")?tinyMCE.get("oxygen_vsb_tinymce").setContent(e):jQuery("#oxygen_vsb_tinymce").val(e)},l.closeTinyMCEDialog=function(){l.tinyMCEWindow=!1;var e="";e=jQuery("#wp-oxygen_vsb_tinymce-wrap").hasClass("tmce-active")&&tinyMCE.get("oxygen_vsb_tinymce")?tinyMCE.get("oxygen_vsb_tinymce").getContent():jQuery("#oxygen_vsb_tinymce").val(),l.iframeScope.setOptionModel("ct_content",e),l.iframeScope.setOption(l.component.active.id,l.component.active.name,"ct_content")},l.triggerBrowseButton=function(e){var t=d(function(){angular.element(e.target).next().click(),d.cancel(t)},0,!1);return!1},l.processLink=function(){l.iframeScope.cancelDeleteUndo(),l.iframeScope.log&&console.log("processLink()");var e=l.iframeScope.getLinkId();if(e)l.iframeScope.activateComponent(e,"ct_link");else if(l.isActiveName("ct_text_block"))l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_link_text");else if(l.isActiveName("ct_div_block"))l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_link"),l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTagsByName,{from:"ct_link_text",to:"ct_text_block"}),l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTagsByName,{from:"ct_link",to:"ct_div_block"});else if("ct_span"===l.iframeScope.component.active.name){l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_link_text");var t=d(function(){l.iframeScope.rebuildDOM(l.iframeScope.component.active.parent.id),d.cancel(t)},0,!1)}else{var o=l.iframeScope.wrapComponentWith("ct_link");l.iframeScope.activateComponent(o,"ct_link")}var i=jQuery(".oxygen-link-button");t=d(function(){jQuery("<textarea>").attr("id","ct-link-dialog-txt").css("display","none").attr("data-linkProperty",i.attr("data-linkProperty")).attr("data-linkTarget",i.attr("data-linkTarget")).appendTo("body"),wpLink.open("ct-link-dialog-txt"),jQuery("#wp-link-url").val(l.iframeScope.component.options[l.iframeScope.component.active.id].model.url),jQuery("#wp-link-target").prop("checked","_blank"===l.iframeScope.component.options[l.iframeScope.component.active.id].model.target),jQuery("#wp-link-wrap").removeClass("has-text-field"),jQuery("#oxygen-link-data-dialog-opener").insertAfter(jQuery("#wp-link-wrap.has-text-field #wp-link-url")),jQuery("#oxygen-link-data-dialog").insertAfter(jQuery("#wp-link-wrap.has-text-field")),l.showLinkDataDialog=!1,l.$apply(),d.cancel(t)},0,!1)},l.removeLink=function(){if(l.isActiveName("ct_link_text")){var e=l.getComponentById(l.iframeScope.component.active.parent.id);if(!e[0]||e[0].attributes.contenteditable){l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_span");var t=l.iframeScope.component.options[l.iframeScope.component.active.id].selector;l.iframeScope.component.options[l.iframeScope.component.active.parent.id].id.ct_content;l.cleanReplace(t,'<span id="ct-placeholder-'+l.iframeScope.component.active.id+'"></span>')}else l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_text_block")}l.isActiveName("ct_link")&&l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,l.iframeScope.component.active.id,l.iframeScope.updateTreeComponentTag,"ct_div_block")},l.showLoadingOverlay=function(e){var t=document.getElementById("ct-page-overlay");t=angular.element(t),l.overlaysCount++,1==l.pageLoaded&&t.show()},l.hideLoadingOverlay=function(e){var t=document.getElementById("ct-page-overlay");if(t=angular.element(t),l.overlaysCount--,0===l.overlaysCount){"savePage()"==e&&window.parent&&window.parent.postMessage({type:"blockSaved"},"*"),t.hasClass("transparent")?t.hide():t.fadeOut(200,function(){t.addClass("transparent")}),oxyEndProgressBar(200);var o=d(function(){l.pageLoaded=!0,d.cancel(o)},200,!1)}},l.showWidgetOverlay=function(e){l.iframeScope.log&&console.log("showWidgetOverlay()",e);var t=l.iframeScope.getComponentById(e);"static"==t.css("position")&&t.addClass("oxygen-positioned-element"),t.append("<div class='oxygen-widget-overlay'><i class='fa fa-cog fa-2x fa-spin'></i></div>")},l.hideWidgetOverlay=function(e){var t=l.iframeScope.getComponentById(e);jQuery(".oxygen-widget-overlay",t).remove(),0<t.length&&t.removeClass("oxygen-positioned-element")},l.switchActionTab=function(e){if(l.iframeScope.log&&console.log("switchActionTab()",e),l.iframeScope.selectedNodeType=null,"settings"===e&&jQuery("body").hasClass("ct_inner"))alert("To edit the settings for this page, load the containing template in the builder.");else{var t=!1;"componentBrowser"==e&&(l.showAllStylesFunc(),l.iframeScope.stylesheetToEdit=!1,l.styleTabAdvance=!1,l.toggleSidebar(!0),l.resetComponentsSearch(),0==l.showLeftSidebar&&(l.doShowLeftSidebar(!1),t=!0)),l.tabs.advanced.cssjs&&(l.tabs.advanced.cssjs.js||l.tabs.advanced.cssjs.css)&&l.iframeScope.component.active.name,"contentEditing"==e?l.actionTabs.contentEditing?l.disableContentEdit():l.enableContentEdit():"styleSheet"===e?l.iframeScope.stylesheetToEdit&&l.iframeScope.stylesheetToEdit!==l.actionTabs[e]?(l.actionTabs={},l.actionTabs[e]=l.iframeScope.stylesheetToEdit):l.actionTabs[e]=!1:(l.disableContentEdit(),"componentBrowser"==e&&t?l.actionTabs[e]=!0:l.actionTabs[e]?l.actionTabs[e]=!1:(l.actionTabs={},l.actionTabs[e]=!0)),l.adjustViewportContainer(),l.disableSelectable()}},l.activateActionTab=function(e){"contentEditing"==e?(l.actionTabs={},l.enableContentEdit()):(l.disableContentEdit(),l.actionTabs={},l.actionTabs[e]=!0)};var x={},C=[],j=[];l.filterSelectors=function(){var e=l.selectorsSearchQuery;if(e){var t=Object.values(l.iframeScope.classes),o=Object.values(l.iframeScope.customSelectors);t=t.concat(o),x.items=t,x.fuse=new Fuse(t,{shouldSort:!0,tokenize:!0,matchAllTokens:!0,includeScore:!0,threshold:.05,ignoreLocation:!0,minMatchCharLength:1,keys:[{name:"key",weight:1}]});var i=x.fuse.search(e);C=i.filter(function(e){var t=e.item.parent,o=e.item.set_name;return void 0!==l.iframeScope.styleSets[o]&&(t=l.iframeScope.styleSets[o].parent),-1!=t&&(void 0===l.iframeScope.styleFolders[t]||0!=l.iframeScope.styleFolders[t].status)}),j=i.filter(function(e){return-1==C.indexOf(e)}),C=C.map(function(e){return e.item.key}),j=j.map(function(e){return e.item.key})}},l.isInSelectorsSearchCache=function(e){return-1!=C.indexOf(e.key)},l.isInDisabledSelectorsSearchCache=function(e){return-1!=j.indexOf(e.key)},l.resetSelectorsSearch=function(){l.selectorsSearchQuery=""},l.filterComponents=function(e){var t=l.componentsSearchQuery,o=t?"none":"flex",i=t?"flex":"none";if(c.css("display",o),s.css("display",i),p.css("display","none"),t){var n=v.fuse.search(t);if(0===n.length)return p.css("display","block"),void u.css("display","none");u.removeClass("oxygen-add-search-result-highlighted");for(var a={},r=0;r<n.length;r++)a[n[r].item.id]=n[r].score;u.sort(function(e,t){var o=a[jQuery(e).data(f)],i=a[jQuery(t).data(f)];return void 0===o&&(o=1),void 0===i&&(i=1),o-i}).appendTo(m),u.css("display","flex").each(function(){a.hasOwnProperty(jQuery(this).data(f))||jQuery(this).css("display","none")}),g().addClass("oxygen-add-search-result-highlighted")}},l.resetComponentsSearch=function(){y.val(""),angular.element(y).triggerHandler("change");d(function(){y.focus()})},l.addFilteredComponent=function(e){l.componentsSearchQuery&&d(function(){var e=g();e.data(f).startsWith("__reusable_")?angular.element(e.find(".oxygen-add-section-element-option:first")[0]).triggerHandler("click"):angular.element(e[0]).triggerHandler("click")})},l.isActiveActionTab=function(e){return!!l.actionTabs[e]},l.showBackgroundLayer=function(e){angular.element(e.target).closest("ul").find("> li > div").hide(),angular.element(e.target).siblings("div").toggle()},l.toggleActiveForEditBgLayer=function(e,t){l.activeForEditBgLayer===e?l.activeForEditBgLayer=!1:l.activeForEditBgLayer=e},l.addBackgroundLayer=function(e){var t=typeof l.iframeScope.component.options[l.iframeScope.component.active.id].model["background-layers"];"string"!==t&&"undefined"!==t||(l.iframeScope.component.options[l.iframeScope.component.active.id].model["background-layers"]=[]);var o={type:e};"image"===e?(o["background-size-width-unit"]="px",o["background-size-height-unit"]="px",o["background-position-left-unit"]="px",o["background-position-top-unit"]="px"):"gradient"===e&&(o.colors=[],o["radial-position-top-unit"]="%",o["radial-position-left-unit"]="%");var i=l.iframeScope.component.options[l.iframeScope.component.active.id].model["background-layers"];i.push(o),l.iframeScope.setOptionModel("background-layers",i)},l.addGradientColor=function(){var e=l.iframeScope.component.active.id,t=l.iframeScope.component.active.name,o=l.iframeScope.component.options[e].model.gradient,i=typeof o;"string"!==i&&"undefined"!==i||(o={}),o.colors=o.colors||[],o.colors.push({"position-unit":"px"}),l.iframeScope.component.options[e].model.gradient=o,l.iframeScope.setOption(e,t,"gradient")},l.removeBackgroundLayer=function(e){var t=angular.element(e.target).closest("li").index(),o=l.iframeScope.getOption("background-layers");o.splice(t,1),l.iframeScope.setOptionModel("background-layers",o)},l.removeGradientColor=function(e,t){var o=l.iframeScope.component.options[l.iframeScope.component.active.id].model.gradient;o.colors.splice(t,1),l.iframeScope.setOptionModel("gradient",o)},l.setGradientForBG=function(){var e=l.iframeScope.getOption("gradient");l.iframeScope.setOptionModel("gradient",e)},l.toggleGradientRadio=function(e,t,o,i){var n=l.iframeScope.getOption("gradient");n[e]===t?(delete n[e],angular.element(i.target).prop("checked",!1)):n[e]=t,l.iframeScope.setOptionModel("gradient",n)},l.removeCustomAttribute=function(e,t){var o=l.iframeScope.component.options[l.iframeScope.component.active.id].model["custom-attributes"];o.splice(t,1),l.iframeScope.setOptionModel("custom-attributes",o)},l.toggleCustomAttribute=function(e){l.isCustomAttributePinned(e)?l.unpinCustomAttribute(e):l.pinCustomAttribute(e)},l.pinCustomAttribute=function(e){var t=l.iframeScope.getOption("custom-attributes");t[e]&&(t[e].pinned=!0,l.iframeScope.setOptionModel("custom-attributes",t))},l.unpinCustomAttribute=function(e){var t=l.iframeScope.getOption("custom-attributes");t[e]&&(t[e].pinned=!1,l.iframeScope.setOptionModel("custom-attributes",t))},l.isCustomAttributePinned=function(e){var t=l.iframeScope.getOption("custom-attributes");return!!t[e]&&t[e].pinned},l.addCustomAttribute=function(e,t){var o=l.iframeScope.component.active.id,i=l.iframeScope.component.active.name,n=l.iframeScope.component.options[o].model["custom-attributes"],a=typeof n;"string"!==a&&"undefined"!==a||(n=[]),n.push({name:e,value:t}),l.iframeScope.component.options[o].model["custom-attributes"]=n,l.iframeScope.setOption(o,i,"custom-attributes")},l.checkBoxClick=function(e,t,o){if("display"==t&&"grid"==o&&("grid"==l.iframeScope.getOption(t)&&l.iframeScope.isInherited(l.iframeScope.component.active.id,t,o)&&l.iframeScope.isEditing("media")))var i=d(function(){l.iframeScope.setOptionModel(t,"grid"),d.cancel(i)},100,!1)},l.radioButtonClick=function(e,t,o){l.iframeScope.log&&console.log("radioButtonClick()",e,t,o);var i=l.iframeScope.getOption(t);l.iframeScope.defaultOptions[e][t];if(l.iframeScope.isEditing("custom-selector"))var n=l.iframeScope.component.options[l.iframeScope.component.active.id].model[t];else n=l.iframeScope.component.options[l.iframeScope.component.active.id].id[t];!l.iframeScope.isEditing("id")||l.iframeScope.isEditing("media")||l.iframeScope.isEditing("state")?n=!0:i!=o||n||l.iframeScope.setOptionModel(t,o),l.iframeScope.isInherited(l.iframeScope.component.active.id,t,o)&&l.iframeScope.isEditing("media")&&(l.iframeScope.setOptionModel(t,o),n=!1),i==o&&n&&l.iframeScope.setOptionModel(t,""),"ct_modal"==e&&(void 0===l.currentModal?l.currentModal=l.iframeScope.component.active.id:l.currentModal!=l.iframeScope.component.active.id&&"2"==o&&("2"==l.iframeScope.component.options[l.currentModal].model.behavior&&l.iframeScope.setOptionModel("behavior","1",l.currentModal),l.currentModal=l.iframeScope.component.active.id))},l.acfRepeaterDynamicDialogProcess=function(e){if(l.iframeScope.dynamicShortcodesContentMode[0].children=_.reject(l.iframeScope.dynamicShortcodesContentMode[0].children,function(e){return"acfreparray"==e.data}),l.iframeScope.dynamicShortcodesImageMode[0].children=_.reject(l.iframeScope.dynamicShortcodesImageMode[0].children,function(e){return"acfreparray"==e.data}),l.iframeScope.dynamicShortcodesLinkMode[0].children=_.reject(l.iframeScope.dynamicShortcodesLinkMode[0].children,function(e){return"acfreparray"==e.data}),e){var t=l.iframeScope.component.options[e].model?l.iframeScope.component.options[e].model.acf_repeater:null;if(t&&""!=t){var o={};l.iframeScope.acfRepeaters[t].fields.forEach(function(e){o[e.label]=e.name});var i={name:"Repeater Field",data:"acfreparray",properties:[{data:"field",name:"Field",type:"select",options:o},{data:"repeater",type:"hidden",value:t}]};l.iframeScope.dynamicShortcodesContentMode[0].children.push(i),l.iframeScope.dynamicShortcodesImageMode[0].children.push(i),l.iframeScope.dynamicShortcodesLinkMode[0].children.push(i)}}},l.metaBoxRepeaterDynamicDialogProcess=function(e){if(l.iframeScope.dynamicShortcodesContentMode[0].children=_.reject(l.iframeScope.dynamicShortcodesContentMode[0].children,function(e){return"metaboxreparray"==e.data}),l.iframeScope.dynamicShortcodesImageMode[0].children=_.reject(l.iframeScope.dynamicShortcodesImageMode[0].children,function(e){return"metaboxreparray"==e.data}),l.iframeScope.dynamicShortcodesLinkMode[0].children=_.reject(l.iframeScope.dynamicShortcodesLinkMode[0].children,function(e){return"metaboxreparray"==e.data}),e){var t=l.iframeScope.component.options[e].model?l.iframeScope.component.options[e].model.metabox_group:null;if(t&&""!=t){var o={};l.iframeScope.metaBoxGroupFields[t].fields.forEach(function(e){o[e.name]=e.id});var i={name:"MetaBox Group Field",data:"metaboxreparray",properties:[{data:"field",name:"Field",type:"select",options:o},{data:"repeater",type:"hidden",value:t}]};l.iframeScope.dynamicShortcodesContentMode[0].children.push(i),l.iframeScope.dynamicShortcodesImageMode[0].children.push(i),l.iframeScope.dynamicShortcodesLinkMode[0].children.push(i)}}},l.globalSettingsRadioButtonClick=function(e,t,o){l.iframeScope.log&&console.log("globalSettingsRadioButtonClick()",t,o),e[t]==o&&(e[t]="")},l.showDialogWindow=function(){l.dialogWindow=!0},l.hideDialogWindow=function(){l.dialogWindow=!1,l.dialogForms=[],jQuery(document).off("keydown",l.switchComponent)},l.switchSelectable=function(){l.isSelectableEnabled?l.disableSelectable():l.enableSelectable()},l.enableSelectable=function(){l.isSelectableEnabled||(l.iframeScope.log&&console.log("enableSelectable()"),l.activateComponent(-2),l.isSelectableEnabled=!0,l.selectable=angular.element("#ct-dom-tree").nuSelectable({items:".ct-dom-tree-name",selectionClass:"ct-selection-box",selectedClass:"ct-selected-dom-node",autoRefresh:"true",onMove:function(e){0<e.length?l.isDOMNodesSelected=!0:l.isDOMNodesSelected=!1,l.$apply()},onMouseDown:function(){l.isDOMNodesSelected=!1,l.$apply()}}))},l.disableSelectable=function(){return!1},l.isElementInViewport=function(e,t){if("function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]),"function"!=typeof e.getBoundingClientRect)return!1;var o=e.getBoundingClientRect();return o.top>=(l.artificialViewport[0].contentWindow.innerHeight||l.artificialViewport[0].contentWindow.document.documentElement.clientHeight)?"below":(t?o.top+t:o.bottom)<=0?"above":"visible"},l.scrollToComponent=function(e,t){void 0===t&&(t=100),l.iframeScope.log&&console.log("scrollToComponent() #"+e);var o=!1;try{o=l.artificialViewport.contents().find("#"+e)}catch(e){return}"above"==l.isElementInViewport(o,t)&&l.artificialViewport.contents().find("html,body").stop().animate({scrollTop:o.offset().top-100},500),"below"==l.isElementInViewport(o,t)&&l.artificialViewport.contents().find("html,body").stop().animate({scrollTop:o.offset().top-window.innerHeight+o.outerHeight()+100},500)},l.showStatusBar=function(e){l.statusMessage=e,l.statusBarActive=!0},l.hideStatusBar=function(){l.statusBarActive=!1;var e=d(function(){l.statusMessage="",d.cancel(e)},400,!1)},l.cleanInsertUI=function(e,t,o){l.iframeScope.log&&console.log("cleanInsertUI()",t,o),t?((t=jQuery(t)).html(""),l.insertAtIndexUI(e,t,o)):angular.element(e).replaceWith(e)},l.compileInsertUI=function(i,n,a){angular.element(document).injector().invoke(["$compile",function(e){var t=l.$new(),o=e(i)(t);n?(n=jQuery(n),l.insertAtIndexUI(o,n,a)):angular.element(i).replaceWith(o)}])},l.insertAtIndexUI=function(e,t,o){0===o?t.prepend(e):0<o?jQuery(">*:nth-child("+o+")",t).after(e):t.append(e)},l.applyMenuAim=function(){jQuery(".oxygen-add-section-library-flyout-panel").off("mouseleave"),jQuery(".oxygen-add-section-library-flyout-panel").off("mouseenter"),jQuery(".oxygen-add-section-library-flyout-panel").on("mouseenter",function(){jQuery(this).addClass("oxygen-add-section-library-flyout-panel-open")}),jQuery(".oxygen-add-section-library-flyout-panel").on("mouseleave",function(){jQuery(this).removeClass("oxygen-add-section-library-flyout-panel-open"),jQuery(".oxygen-add-section-library-menu-subcategories a.oxygen-add-section-library-menu-subcategories-active").removeClass("oxygen-add-section-library-menu-subcategories-active")}),setTimeout(function(){jQuery(".oxygen-add-section-library-menu-subcategories").menuAim({activate:function(e){jQuery(".oxygen-add-section-library-flyout-category").css("display","none"),jQuery("#category-"+jQuery(e).data("cat")).css("display","block"),jQuery(e).addClass("oxygen-add-section-library-menu-subcategories-active"),jQuery(".oxygen-add-section-library-flyout-panel").addClass("oxygen-add-section-library-flyout-panel-open")},deactivate:function(e){jQuery(".oxygen-add-section-library-menu-subcategories a.oxygen-add-section-library-menu-subcategories-active").removeClass("oxygen-add-section-library-menu-subcategories-active"),jQuery(".oxygen-add-section-library-flyout-panel").removeClass("oxygen-add-section-library-flyout-panel-open")},exitMenu:function(e){setTimeout(function(){jQuery(".oxygen-add-section-library-flyout-panel").hasClass("oxygen-add-section-library-flyout-panel-open")||jQuery(".oxygen-add-section-library-menu-subcategories a.oxygen-add-section-library-menu-subcategories-active").removeClass("oxygen-add-section-library-menu-subcategories-active")},100),jQuery(".oxygen-add-section-library-flyout-panel").removeClass("oxygen-add-section-library-flyout-panel-open")},rowSelector:"> a"})},100)},l.setupUI=function(){jQuery("body").on("mouseup",function(){jQuery(".iris-square-value:focus").blur()}),jQuery(l.artificialViewport[0].contentWindow.document).on("click",function(e){e.target.getAttribute("contenteditable")||jQuery(e.target).closest(".ct-active").attr("contenteditable")||jQuery("html,body").trigger("click")}),jQuery(document).ready(function(){jQuery("body").on("change","#oxygen-stylesheet-folder-dropdown",function(e){l.iframeScope.stylesheetToEdit.parent=jQuery(e.target).val(),l.$apply()})}),l.scrollTopOld=0,jQuery(l.artificialViewport[0].contentWindow).scroll(function(){l.adjustStickyHeaders(l.artificialViewport[0].contentWindow)}),l.adjustStickyHeaders=function(c){l.artificialViewport.contents().find(".oxy-sticky-header").each(function(){if(void 0!==jQuery(this).attr("ng-attr-component-id")){var e=jQuery(this).attr("ng-attr-component-id"),t="#"+l.iframeScope.component.options[e].selector,o=l.artificialViewport.contents().find(t),i=l.iframeScope.component.options[e].model.sticky_scroll_distance,n=l.iframeScope.component.options[e].model.sticky_header_upward,a="yes"==l.iframeScope.component.options[e].model.sticky_header_fade_in,r=parseInt(l.iframeScope.getMediaMinSize(l.iframeScope.component.options[e].model["sticky-media"]))||0;"yes"==n?(!i||i<1||jQuery(c).scrollTop()>i)&&jQuery(c).scrollTop()<l.scrollTopOld?l.artificialViewport.width()>r&&!o.hasClass("oxy-sticky-header-active")&&("absolute"!=o.css("position")&&l.artificialViewport.contents().find("body").css("margin-top",o.outerHeight()),o.addClass("oxy-sticky-header-active"),a&&o.addClass("oxy-sticky-header-fade-in")):(o.removeClass("oxy-sticky-header-fade-in").removeClass("oxy-sticky-header-active"),"absolute"!=o.css("position")&&l.artificialViewport.contents().find("body").css("margin-top","")):!i||i<1||jQuery(c).scrollTop()>i?l.artificialViewport.width()>r&&!o.hasClass("oxy-sticky-header-active")&&("absolute"!=o.css("position")&&l.artificialViewport.contents().find("body").css("margin-top",o.outerHeight()),o.addClass("oxy-sticky-header-active"),a&&o.addClass("oxy-sticky-header-fade-in")):(o.removeClass("oxy-sticky-header-fade-in").removeClass("oxy-sticky-header-active"),"absolute"!=o.css("position")&&l.artificialViewport.contents().find("body").css("margin-top","")),l.scrollTopOld=jQuery(c).scrollTop()}})},l.builderElement.on("mouseover",".ct-component:not(.ct-contains-oxy)",function(e){e.stopPropagation(),l.artificialViewport.contents().find(".ct-highlight").removeClass("ct-highlight"),jQuery("body").hasClass("ct_inner")&&(jQuery(this).hasClass("ct-inner-content")||jQuery(this).closest(".ct-component.ct-inner-content").length<1)||(jQuery(this).parent().is(".oxy-header-container")?jQuery(this).parents(".oxy-header-row").addClass("ct-highlight"):jQuery(this).addClass("ct-highlight"))}).on("mouseout",".ct-component",function(e){e.stopPropagation(),jQuery(this).parent().is(".oxy-header-container")&&jQuery(this).parents(".oxy-header-row").removeClass("ct-highlight"),jQuery(this).removeClass("ct-highlight")}),l.oxygenUIElement.on("mouseover",".ct-dom-tree-node-anchor",function(e){var t=jQuery(this).attr("ng-attr-node-id");l.artificialViewport.contents().find('.ct-component[ng-attr-component-id="'+t+'"]').addClass("ct-highlight")}).on("mouseout",".ct-dom-tree-node-anchor",function(e){var t=jQuery(this).attr("ng-attr-node-id");l.artificialViewport.contents().find('.ct-component[ng-attr-component-id="'+t+'"]').removeClass("ct-highlight")}),l.artificialViewport.contents().find("body").on("mouseover","#oxygen-resize-box-parent-titlebar, .oxygen-resize-box-top",function(e){var t=l.iframeScope.component.active.parent.id;l.artificialViewport.contents().find('.ct-component[ng-attr-component-id="'+t+'"]').addClass("ct-highlight")}).on("mouseout","#oxygen-resize-box-parent-titlebar, .oxygen-resize-box-top",function(e){var t=l.iframeScope.component.active.parent.id;l.artificialViewport.contents().find('.ct-component[ng-attr-component-id="'+t+'"]').removeClass("ct-highlight")}),l.oxygenUIElement.on("click",".oxy-global-color-label",function(e){if(CtBuilderAjax.freeVersion)return l.showDialogWindow(),void(l.dialogForms.showProGlobalColorEditDialog=!0);jQuery(e.target).is(".oxy-global-color-label-remove")||(0===jQuery(".wp-picker-active").length&&(l.editGlobalColor=!0),jQuery(e.target).siblings(".oxygen-color-picker-color").find(".wp-color-result").trigger("click"),e.stopPropagation())}),jQuery("body").on("click.wpcolorpicker",function(e){var t=jQuery(".wp-picker-active"),o=t.parents(".oxygen-color-picker").find(".oxygen-color-picker-color + input"),i=l.iframeScope.getGlobalColorID(o.val());l.globalColorToEdit={},i&&l.editGlobalColor?(l.activeGlobalColor=l.iframeScope.getGlobalColor(i),l.globalColorToEdit=l.iframeScope.getGlobalColor(i)):l.activeGlobalColor=!1,l.editGlobalColor=!1;var n=d(function(){l.$apply(),d.cancel(n)},0,!1);if(void 0!==l.globalColorToEdit.id)return jQuery(".oxygen-global-colors-wrap",t).remove(),!1;if(jQuery(".oxy-settings-global-styles-color",t).length)return!1;jQuery(".wp-picker-holder",t).each(function(){var e=jQuery(this);0===jQuery(".oxygen-global-colors-wrap",e).length&&e.append(r('<div class="oxygen-global-colors-wrap"><div class="oxygen-global-colors-sets"><div class="oxygen-global-colors-set" ng-repeat="(setID,set) in iframeScope.globalColorSets.sets" ng-show="iframeScope.globalColorSetHasColors(set.id)"><div class="oxygen-global-colors-set-heading"><h2>{{set.name}}</h2></div><div class="oxygen-global-colors"><div class="oxygen-global-color" title="{{color.name}}"ng-repeat="(key,color) in iframeScope.globalColorSets.colors | filter: {set: set.id}" ng-style="{backgroundColor:color.value}" ng-class="{\'oxygen-active-global-color\':color.id==activeGlobalColor.id}" ng-click="setGlobalColor(color.id,$event)"></div></div></div></div><div class="oxygen-manage-global-colors-link" ng-click="toggleSettingsPanel(true);switchTab(\'settings\',\'colors\')">Manage Colors</div></div>')(l))})}),jQuery("body").on("click",".oxy-global-color-label-remove",function(e){var t=jQuery(this).parents(".oxygen-color-picker").find("input");t.val(""),angular.element(t).triggerHandler("input")}),jQuery("body").on("mouseover",".oxygen-editing-class:not(.oxygen-editing-media) .not-available-for-classes:not(.oxygen-active-select)",function(e){var t=jQuery(this);t.find(".oxygen-active-select").length||jQuery("#oxy-no-class-msg").css({display:"block",top:t.offset().top+t.height()})}).on("mouseleave",".oxygen-editing-class:not(.oxygen-editing-media) .not-available-for-classes",function(e){jQuery("#oxy-no-class-msg").css({display:"none"})}).on("mouseover",".oxygen-editing-media:not(.oxygen-editing-class) .not-available-for-media:not(.oxygen-active-select)",function(e){var t=jQuery(this);t.find(".oxygen-active-select").length||jQuery("#oxy-no-media-msg").css({display:"block",top:t.offset().top+t.height()})}).on("mouseleave",".oxygen-editing-media:not(.oxygen-editing-class) .not-available-for-media",function(e){jQuery("#oxy-no-media-msg").css({display:"none"})}).on("mouseover",".oxygen-editing-class.oxygen-editing-media .not-available-for-media.not-available-for-classes:not(.oxygen-active-select)",function(e){var t=jQuery(this);t.find(".oxygen-active-select").length||jQuery("#oxy-no-class-no-media-msg").css({display:"block",top:t.offset().top+t.height()})}).on("mouseleave",".oxygen-editing-class.oxygen-editing-media .not-available-for-media.not-available-for-classes",function(e){jQuery("#oxy-no-class-no-media-msg").css({display:"none"})}).on("mouseover",".oxygen-editing-class.oxygen-editing-media .not-available-for-media:not(.not-available-for-classes, .oxygen-active-select)",function(e){var t=jQuery(this);t.find(".oxygen-active-select").length||jQuery("#oxy-no-media-msg").css({display:"block",top:t.offset().top+t.height()})}).on("mouseleave",".oxygen-editing-class.oxygen-editing-media .not-available-for-media:not(.not-available-for-classes)",function(e){jQuery("#oxy-no-media-msg").css({display:"none"})}).on("mouseover",".oxygen-editing-class.oxygen-editing-media :not(.not-available-for-media, .oxygen-active-select).not-available-for-classes",function(e){var t=jQuery(this);t.find(".oxygen-active-select").length||jQuery("#oxy-no-class-msg").css({display:"block",top:t.offset().top+t.height()})}).on("mouseleave",".oxygen-editing-class.oxygen-editing-media :not(.not-available-for-media).not-available-for-classes",function(e){jQuery("#oxy-no-class-msg").css({display:"none"})}),l.oxygenUIElement.on("click",".oxygen-selector-browse",function(e){jQuery("body").addClass("choosing-selector"),l.iframeScope.enterChoosingSelectorMode(jQuery(e.target).data("option"))}),jQuery("#ct-ui-overlay").on("click",function(e){jQuery("body").removeClass("choosing-selector"),l.iframeScope.exitChoosingSelectorMode(jQuery(e.target).data("option"))}),l.exitChoosingSelectorMode=function(){jQuery("body").removeClass("choosing-selector")},l.oxygenUIElement.on("click",".oxygen-file-input-browse",function(e){l.mediaUploadTarget=jQuery(e.target);var a=l.mediaUploadTarget.attr("data-mediaType"),t=!1;if("gallery"==a&&(t=l.iframeScope.getOption(l.mediaUploadTarget.attr("data-mediaProperty")),l.media_uploader[a]=null),!l.media_uploader[a]){var o={title:l.mediaUploadTarget.attr("data-mediaTitle")||"Set Image",button:{text:l.mediaUploadTarget.attr("data-mediaButton")||"Set Image"},library:{type:l.mediaUploadTarget.attr("data-mediaContent")||"image"},multiple:l.mediaUploadTarget.attr("data-mediaMultiple")||!1};"true"==l.mediaUploadTarget.attr("data-mediaMultiple")&&(o.state="gallery",o.frame="post"),l.media_uploader[a]=wp.media(o),t&&(l.media_uploader[a]=wp.media.gallery.edit('[gallery ids="'+t+'"]')),l.media_uploader[a].on("update",function(e){var t=[];e.each(function(e){t.push(e.get("id"))}),l.iframeScope.setOptionModel(l.mediaUploadTarget.attr("data-mediaProperty"),t.join(",")),l.iframeScope.renderComponentWithAJAX("oxy_render_gallery"),l.$apply()}),l.media_uploader[a].on("select",function(){var e=l.media_uploader[a].state().get("selection").first().toJSON(),t=l.mediaUploadTarget.attr("data-returnValue")||"url";if(l.mediaUploadTarget.attr("data-fieldId"))jQuery("#"+l.mediaUploadTarget.attr("data-fieldId")).val(e[t]).trigger("change");else{if(l.iframeScope.setOptionModel(l.mediaUploadTarget.attr("data-mediaProperty"),e[t]),"id"==t){var o=l.iframeScope.component.active.id,i=l.iframeScope.component.options[o];l.iframeScope.component.options[o].sizes=null,l.iframeScope.component.options[o].sizes_requested=null,l.iframeScope.component.options[o].size_labels=Object.keys(e.sizes),void 0!==i.model.attachment_size&&-1!=i.size_labels.indexOf(i.model.attachment_size)||l.iframeScope.setOptionModel("attachment_size","full"),l.iframeScope.setOptionModel("attachment_height",e.sizes[i.model.attachment_size].height),l.iframeScope.setOptionModel("attachment_width",e.sizes[i.model.attachment_size].width),l.iframeScope.setOptionModel("attachment_url",e.sizes[i.model.attachment_size].url)}"video_background"==l.mediaUploadTarget.attr("data-mediaProperty")&&l.iframeScope.rebuildDOM(o)}l.mediaUploadTarget.attr("data-heightProperty")&&l.iframeScope.setOptionModel(l.mediaUploadTarget.attr("data-heightProperty"),e.height),l.mediaUploadTarget.attr("data-widthProperty")&&l.iframeScope.setOptionModel(l.mediaUploadTarget.attr("data-widthProperty"),e.width),l.iframeScope.setOptionModel("alt",e.alt),l.$apply();var n=d(function(){l.iframeScope.processImageSizes(),d.cancel(n)},0,!1)})}l.media_uploader[a].open()}),jQuery("body").on("click","#wp-link-submit",function(e){var t=wpLink.getAttrs();l.iframeScope.setOptionModel(jQuery("#ct-link-dialog-txt").attr("data-linkProperty"),t.href),l.iframeScope.setOptionModel(jQuery("#ct-link-dialog-txt").attr("data-linkTarget"),t.target),l.$apply(),""===t.href.trim()&&l.removeLink(),jQuery("body #ct-link-dialog-txt").remove(),wpLink.close()}).on("click","#wp-link-cancel, #wp-link-close, #wp-link-backdrop",function(e){jQuery("body #ct-link-dialog-txt").remove(),l.showLinkDataDialog=!1,wpLink.close(),l.$apply()});var i=!1;function t(){jQuery("html").click(function(e){jQuery(".oxygen-measure-box",l.oxygenUIElement).removeClass("oxygen-measure-box-unit-selector-active").removeClass("oxygen-measure-box-active"),jQuery(this).unbind(e)})}function a(){jQuery("html").click(function(e){jQuery(".ct-select",l.oxygenUIElement).removeClass("ct-active").removeClass("ct-active-media").removeClass("ct-active-states"),l.copySelectorFromID=!1,l.copySelectorFromClass=!1,jQuery(this).unbind(e)}),jQuery("html").click(function(e){l.closeOxygenDropdowns(),jQuery(this).unbind(e)})}jQuery("#ct-viewport-handle").mousedown(function(e){e.preventDefault(),i=!0;var t=jQuery("<div>",{id:"ct-ghost-viewport-handle"}).prependTo("#ct-viewport-ruller-wrap"),o=e.pageX-l.artificialViewport.offset().left-3;t.css("left",o/l.viewportScale),jQuery(document).mousemove(function(e){o=e.pageX-l.artificialViewport.offset().left-3,t.css("left",o/l.viewportScale)})}).dblclick(function(){"default"!=l.iframeScope.getCurrentMedia()?l.iframeScope.setCurrentMedia("default"):(l.artificialViewport.css("width",""),l.hideViewportRuller(),l.adjustArtificialViewport())}),jQuery(document).mouseup(function(e){if(i){var t=e.pageX-l.artificialViewport.offset().left;l.setMediaByWidth(t/l.viewportScale),jQuery("#ct-ghost-viewport-handle").remove(),jQuery(document).unbind("mousemove"),i=!1,l.$apply()}}),l.setMediaByWidth=function(e){null==e&&(e=l.viewportContainer[0].scrollWidth);var t=l.iframeScope.getMediaNameBySize(e);t&&l.iframeScope.setCurrentMedia(t,!1),l.adjustViewport(e+"px"),l.adjustArtificialViewport(),l.adjustViewportRuller()},l.showViewportRuller=function(){l.viewportRulerWrap.css("display","block"),l.viewportRullerShown=!0},l.hideViewportRuller=function(){l.viewportRulerWrap.css("display",""),l.viewportRullerShown=!1},l.adjustViewportRuller=function(){l.viewportRulerWrap.css("width",0);var e=l.viewportRullerWidth>l.viewportContainer.width()?l.viewportRullerWidth:l.viewportContainer.width()-0-1;l.viewportRulerWrap.css({left:0,width:e/l.viewportScale,transform:"scaleX("+l.viewportScale+")"}),jQuery("#ct-viewport-handle").css("left",l.artificialViewport.width()-3),l.viewportRullerWidth=l.artificialViewport.width()},l.adjustViewport=function(e){l.artificialViewport.css("width",e),l.adjustViewportRuller()},l.adjustViewportContainer=function(e){l.iframeScope.log&&console.log("adjustViewportContainer()",e);var t=l.verticalSidebar.width();(l.showSidePanel||l.showSettingsPanel)&&l.isActiveActionTab("componentBrowser")?(void 0===e&&(e=window.innerWidth-300-t-12),l.viewportContainer.css({marginLeft:t,width:window.innerWidth-300-t}),l.adjustArtificialViewport(e),l.adjustViewportRuller(),l.sidePanelElement.css({width:"300px"})):!l.showSidePanel&&!l.showSettingsPanel||l.isActiveActionTab("componentBrowser")?(l.showSidePanel||l.showSettingsPanel||!l.isActiveActionTab("componentBrowser")?(void 0===e&&(e=window.innerWidth-t-12),l.viewportContainer.css({marginLeft:t,width:window.innerWidth-t,paddingTop:0})):(void 0===e&&(e=window.innerWidth-t-12),l.viewportContainer.css({marginLeft:t,width:window.innerWidth-t})),l.adjustArtificialViewport(e),l.adjustViewportRuller(),l.sidePanelElement.css({width:"0"})):(void 0===e&&(e=window.innerWidth-300-t-12),l.viewportContainer.css({marginLeft:t,width:window.innerWidth-300-t,paddingTop:0}),l.adjustArtificialViewport(e),l.adjustViewportRuller(),l.sidePanelElement.css({width:"300px"}))},l.adjustArtificialViewport=function(e){var t=53;if(l.viewportRullerShown&&(t+=19),l.viewportRullerShown){l.builderElement.css("width","");var o=l.viewportContainer.width();a=o/(e=l.artificialViewport.width()+20);o<e?l.viewportScaleLocked?(l.artificialViewport.css({transform:"scale(1)",height:"calc(100vh - "+t+"px)",marginBottom:23}),l.viewportContainer.css("overflow-x","auto"),l.viewportScale=1):(l.artificialViewport.css({transform:"scale("+a+")",height:"calc("+100/a+"vh - "+t/a+"px)"}),l.viewportContainer.css("overflow-x",""),l.viewportScale=a):(l.artificialViewport.css({transform:"scale(1)",height:"calc(100vh - "+t+"px)",marginBottom:23}),l.viewportContainer.css("overflow-x","auto"),l.viewportScale=1)}else{var i=l.viewportContainer.width();if(pageWidth=l.iframeScope.getWidth(l.iframeScope.getPageWidth()),void 0===e&&(e=l.artificialViewport.width()),pageWidth.value>e){var n=parseInt(l.iframeScope.getPageWidth())+20;if(l.artificialViewport.css({width:n,"min-width":""}),l.viewportScaleLocked)l.artificialViewport.css({transform:"scale(1)",height:"calc(100vh - "+t+"px)"}),l.viewportContainer.css("overflow-x","auto"),l.viewportScale=1;else{if(e<n){var a=e/n;l.artificialViewport.css({transform:"scale("+a+")",height:"calc("+100/a+"vh - "+t/a+"px)"}),l.viewportScale=a}l.viewportContainer.css("overflow-x","")}}else pageWidth.value<i-12&&(l.artificialViewport.css({transform:"scale(1)",height:"calc(100vh - "+t+"px)"}),l.viewportContainer.css("overflow-x","auto"),l.viewportRullerShown||l.artificialViewport.css({width:"","min-width":""}),l.viewportScale=1);l.builderElement.css("width","")}l.iframeScope.adjustResizeBox();var r=d(function(){l.$apply(),d.cancel(r)},0,!1)},l.lockViewportScale=function(){l.viewportScaleLocked=!l.viewportScaleLocked,l.adjustViewportContainer(),l.viewportContainer.scrollLeft(0)},l.doHideLeftSidebar=function(e){l.showLeftSidebar=!1,l.verticalSidebar.addClass("ui-collapse"),e&&l.adjustViewportContainer()},l.doShowLeftSidebar=function(e){l.showLeftSidebar=!0,l.showButtonFlashing=!1,l.verticalSidebar.removeClass("ui-collapse"),e&&l.adjustViewportContainer()},l.oxygenUIElement.on("click",".oxygen-measure-box-unit-selector",function(e){jQuery(".oxygen-measure-box",l.oxygenUIElement).removeClass("oxygen-measure-box-unit-selector-active"),jQuery(this).closest(".oxygen-measure-box",l.oxygenUIElement).addClass("oxygen-measure-box-unit-selector-active"),t()}).on("click",".oxygen-measure-box-unit",function(e){jQuery(this).closest(".oxygen-measure-box",l.oxygenUIElement).removeClass("oxygen-measure-box-unit-selector-active")}).on("click","div:not(.oxygen-measure-box-options)>.oxygen-measure-box>input",function(e){jQuery(".oxygen-measure-box",l.oxygenUIElement).removeClass("oxygen-measure-box-unit-selector-active"),jQuery(this).closest(".oxygen-measure-box",l.oxygenUIElement).find("input").focus(),t()}).on("focus",".oxygen-measure-box>input",function(e){this.setSelectionRange(0,this.value.length),jQuery(".oxygen-measure-box>input").removeClass("oxygen-measure-box-focused-input"),jQuery(this).addClass("oxygen-measure-box-focused-input").parents(".oxygen-four-sides-measure-box").addClass("oxygen-measure-box-focused")}).on("focusout",".oxygen-measure-box>input",function(e){!0!==l.applyAllInProgress&&jQuery(".oxygen-measure-box-focused").removeClass("oxygen-measure-box-focused")}).on("click",".oxygen-measure-box",function(e){e.stopPropagation()}).on("click",".oxygen-measure-box-units",function(e){e.stopPropagation()}),l.oxygenUIElement.on("mousedown",".oxygen-apply-all-trigger",function(e){l.applyAllInProgress=!0}).on("mouseup",".oxygen-apply-all-trigger",function(e){l.applyAllInProgress=!1,function(e,i,n){l.iframeScope.log&&(console.log("applyAll()"),l.iframeScope.functionStart("applyAll()"));var t=jQuery(e).parents(".oxygen-four-sides-measure-box"),o=jQuery(".oxygen-measure-box-focused-input").data("option");void 0===i&&(i=l.iframeScope.getOption(o));void 0===n&&(n=l.iframeScope.getOptionUnit(o));jQuery(".oxygen-measure-box>input",t).each(function(){var e=jQuery(this).data("option"),t=l.iframeScope.getOption(e),o=l.iframeScope.getOptionUnit(e);t!=i&&l.iframeScope.setOptionModel(e,i,l.iframeScope.component.active.id,l.iframeScope.component.active.name,!0),o!=n&&l.iframeScope.setOptionUnit(e,n,!0)});var a=d(function(){l.$apply(),d.cancel(a)},0,!1);l.iframeScope.outputCSSOptions(l.iframeScope.component.active.id),l.iframeScope.functionEnd("applyAll()")}(this),jQuery(".oxygen-measure-box-focused-input").focus(),jQuery(this).parents(".oxygen-four-sides-measure-box").addClass("oxygen-measure-box-focused")}),l.oxygenUIElement.on("click",".ct-select:not(.ct-ui-disabled,.ct-custom-selector)",function(e){jQuery(this).parents(".ct-style-set-dropdown")&&jQuery(".ct-new-component-class-input",this).focus(),e.stopPropagation()}).on("click",".oxygen-select",function(e){l.toggleOxygenSelectBox(e,this)}).on("click",".oxygen-select-box-option input",function(e){e.stopPropagation()}).on("click",".oxygen-media-query-box, .oxygen-active-selector-box-state, .oxygen-active-selector-box, .oxygen-copy-to-trigger",function(e){var t,o=(t=jQuery(this).closest(".oxygen-select")).hasClass("oxygen-active-select"),i=t.hasClass("oxygen-active-states-select"),n=t.hasClass("oxygen-active-classes-select");(l.closeOxygenDropdowns(),o||(t.addClass("oxygen-active-select"),a()),!i&&jQuery(this).hasClass("oxygen-active-selector-box-state")&&(t.addClass("oxygen-active-states-select"),a()),!n&&jQuery(this).hasClass("oxygen-active-selector-box")&&(t.addClass("oxygen-active-classes-select"),a()),jQuery(this).hasClass("oxygen-copy-to-trigger"))&&((t=jQuery(this).siblings(".oxygen-copy-to-dropdown")).addClass("oxygen-active-copy-to-select"),a());e.stopPropagation()}).on("click",".oxygen-media-query-dropdown li, .oxygen-copy-to-dropdown li",function(e){l.closeOxygenDropdowns(),e.stopPropagation()}),l.closeOxygenDropdowns=function(){jQuery(".oxygen-select",l.oxygenUIElement).removeClass("oxygen-active-select").removeClass("oxygen-active-copy-to-select").removeClass("oxygen-active-classes-select").removeClass("oxygen-active-states-select")},l.toggleOxygenSelectBox=function(e,t){if(null==t&&(t=e.currentTarget),jQuery(e.target).hasClass("oxygen-classes-dropdown-input"))e.stopPropagation();else{var o=jQuery(t).hasClass("oxygen-active-select");l.closeOxygenDropdowns(),o||(jQuery(t).addClass("oxygen-active-select"),jQuery(".oxygen-overlay-property-msg").hide(),a()),jQuery(".oxygen-select-box-option input",t).focus(),e.stopPropagation()}},l.oxygenUIElement.on("keydown",".oxygen-measure-box>input",function(e){38==e.keyCode&&(this.value==parseFloat(this.value,10)&&(this.value++,jQuery(this).trigger("change").trigger("input")));40==e.keyCode&&(this.value==parseFloat(this.value,10)&&(this.value--,jQuery(this).trigger("change").trigger("input")))}),l.oxygenUIElement.on("mousedown",".ct-more-options-icon",function(e){var t=jQuery(this).parent().hasClass("ct-more-options-expanded");if(l.optionsToOpen=jQuery(this),jQuery(".ct-more-options-expanded",l.sidePanelElement).removeClass("ct-more-options-expanded"),!t)var o=d(function(e){l.optionsToOpen.parent().addClass("ct-more-options-expanded"),d.cancel(o)},100,!1)}).on("click",":not(.ct-more-options-icon)",function(e){jQuery(".ct-more-options-expanded",l.sidePanelElement).removeClass("ct-more-options-expanded")}).on("mousedown",".oxygen-template-previewing-control",function(e){l.disableContentEdit()}),l.builderElement.on("click",'.ct-active:not([contenteditable="true"])',function(e){l.disableContentEdit()}).on("click",'[contenteditable="true"]',function(e){e.stopPropagation()}),jQuery(window).resize(function(){l.adjustViewportContainer()}),jQuery(window).on("click",function(e){jQuery(e.target).closest(".ct-active").length<1&&jQuery(e.target).closest(".oxygen-formatting-toolbar").length<1&&jQuery(e.target).closest("#ctdynamicdata-popup").length<1&&l.disableContentEdit()}),l.oxygenUIElement.on("click",".oxygen-add-section-element",function(e){jQuery(this).siblings().removeClass("oxygen-add-section-element-active"),jQuery(this).toggleClass("oxygen-add-section-element-active")}),l.initTooltips=function(){var e=d(function(){tippy("[data-tippy-template]",{content:function(e){var t=e.getAttribute("data-tippy-template");return document.getElementById(t).innerHTML},allowHTML:!0,animation:"shift-toward",interactive:!0}),d.cancel(e)},0,!1);tippy(".oxygen-hide-sidebar-button",{content:"Hide Sidebar",animation:"shift-toward",placement:"right"}),tippy(".oxygen-show-sidebar-button",{content:"Show Sidebar",animation:"shift-toward",placement:"right"}),tippy(".oxygen-add-button",{content:"Add Element",animation:"shift-toward"}),tippy(".oxygen-undo-button",{content:"Undo",animation:"shift-toward"}),tippy(".oxygen-redo-button",{content:"Redo",animation:"shift-toward"}),tippy(".oxygen-dom-tree-button",{content:"Structure",animation:"shift-toward"}),tippy(".oxygen-history-button",{content:"History",animation:"shift-toward"}),tippy(".oxygen-settings-button",{content:"Settings",animation:"shift-toward"}),tippy(".oxygen-stylesheets-button",{content:"Stylesheets",animation:"shift-toward"}),tippy(".oxygen-selectors-button",{content:"Selectors",animation:"shift-toward"}),tippy(".oxygen-back-to-wp-menu",{content:"Exit to...",animation:"shift-toward"}),tippy(".oxygen-save-button",{content:"Save Changes",animation:"shift-toward"}),tippy(".oxygen-zoom-icon",{content:"Lock Zoom",animation:"shift-toward"})},l.oxygenUIElement.on("click",".oxy-media-query-tooltip-clear-action",function(e){var t=jQuery(this).data("media-name");l.iframeScope.removeComponentMedia(t),e.stopPropagation()}),l.initTooltips()},l.updateMetaDropdown=function(){for(var e=l.current_post_meta_keys,t="",o=0;o<e.length;o++)t+="<li ng-click=\"iframeScope.setOptionModel('meta_key','"+e[o]+"');\">"+e[o]+"</li>";jQuery(".ct-ct_data_custom_field-meta_key").find("ul.ct-dropdown-list").html(r(t)(l))},l.initSelect2=function(e,t,o){if(null==o)var i=jQuery("#"+e).select2({placeholder:t}),n=d(function(e){i.trigger("change"),d.cancel(n)},0,!1);else"class"==o&&jQuery("."+e).select2({placeholder:t}).on("select2:open",function(e){document.querySelector(".select2-search__field").focus();var t=jQuery(this).find(":selected");void 0!==t[0]&&"?"==t[0].value[0]?jQuery(".select2-results__options").addClass("oxygen-select2-default-option-fix"):jQuery(".select2-results__options").removeClass("oxygen-select2-default-option-fix")})},l.advancedQuerySelect2Change=function(e,t,o){o.values=t!==e?[]:o.values,o.key=e,l.iframeScope.setOption(l.iframeScope.component.active.id,l.iframeScope.component.active.name,"wp_query_advanced")},l.assignOxyCodeToCondition=function(e){l.conditionsDialogOptions.userCondition=e,"ZZOXYVSBDYNAMIC"!==l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].name&&(l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].value="",l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].operator=0),l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].name="ZZOXYVSBDYNAMIC",l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].oxycode=l.conditionsDialogOptions.userCondition,l.dialogForms.showAddGlobalConditionName=null,l.iframeScope.setOptionModel("globalconditions",l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions),l.evalGlobalConditions()},l.assignOxyCodeToConditionValue=function(e){l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].value=e,l.iframeScope.setOptionModel("globalconditions",l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions),l.evalGlobalConditions()},l.hasGlobalConditionsUserText=function(){return l.iframeScope.globalConditions[l.iframeScope.component.options[l.iframeScope.component.active.id].model.globalconditions[l.conditionsDialogOptions.selectedIndex].name].values.find(function(e){return"USERTEXT"==e})},l.getConditionsResult=function(t,e,o){void 0===o&&(o=l.iframeScope.component.active.id),null==e&&(e=l.iframeScope.component.options[o].model.globalconditions);var i={},n=!0;e.forEach(function(e,t){i[t]=e}),0<e.filter(function(e){return""!=e.name&&null!==e.operator&&null!==e.value}).length?l.iframeScope.evalConditionsViaAjax({conditions:i,type:l.iframeScope.component.options[o].model.conditionstype},function(e){n=void 0!==e.value?e.value:null,t&&t(n)}):t&&t(null)},l.evalGlobalConditionsInList=function(){if(id=l.iframeScope.component.active.id,id){var e=l.iframeScope.getComponentById(id).closest(".oxy-dynamic-list");0<e.length&&l.iframeScope.updateRepeaterQuery(parseInt(e.attr("ng-attr-component-id")))}},l.evalGlobalConditions=function(t){if(void 0===t&&(t=l.iframeScope.component.active.id),t){var e=l.iframeScope.getComponentById(t);if(e){var o;if(0<e.closest(".oxy-dynamic-list").length)return void(2===(o=parseInt(l.iframeScope.component.options[t].model.conditionspreview))?l.iframeScope.component.options[t].model.globalConditionsResult=!0:0===o&&e.closest(".oxy_repeater_original").length<1&&(l.iframeScope.component.options[t].model.globalConditionsResult=!1));if(l.iframeScope.component.options[t].model&&l.iframeScope.component.options[t].model.conditionspreview)2===(o=parseInt(l.iframeScope.component.options[t].model.conditionspreview))?(l.iframeScope.component.options[t].model.globalConditionsResult=!0,l.iframeScope.setOptionModel("globalConditionsResult",!0,t)):0===o?(l.iframeScope.component.options[t].model.globalConditionsResult=!1,l.iframeScope.setOptionModel("globalConditionsResult",!1,t)):l.iframeScope.component.options[t].model.globalconditions&&l.getConditionsResult(function(e){l.iframeScope.component.options[t].model.globalConditionsResult=e,l.iframeScope.setOptionModel("globalConditionsResult",e,t)},null,t)}}},l.updateCodeMirrorTheme=function(){var e="default"!=l.iframeScope.globalCodeMirrorTheme?l.iframeScope.globalCodeMirrorTheme:"materialDark";window.currentCMEditor&&window.currentCMEditor.dispatch({effects:window.currentCMTheme.reconfigure(OxyCM.modules[e])});var t=["css","js","php"];for(var o in t)t.hasOwnProperty(o)&&window.mixedCMEditors&&window.mixedCMEditors[t[o]]&&window.mixedCMEditors[t[o]].dispatch({effects:window.currentCMTheme.reconfigure(OxyCM.modules[e])})},l.updateCodeMirrorWrap=function(){var e="true"===l.iframeScope.globalCodeMirrorWrap;window.currentCMEditor&&window.currentCMEditor.dispatch({effects:window.currentCMWrap.reconfigure(e?[OxyCM.EditorView.lineWrapping,OxyCM.modules.search()]:OxyCM.modules.search())});var t=["css","js","php"];for(var o in t)t.hasOwnProperty(o)&&window.mixedCMEditors&&window.mixedCMEditors[t[o]]&&window.mixedCMEditors[t[o]].dispatch({effects:window.currentCMWrap.reconfigure(e?[OxyCM.EditorView.lineWrapping,OxyCM.modules.search()]:OxyCM.modules.search())})},l.showExportModal=function(e){var t=l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,e,l.iframeScope.getComponentItem),o=l.iframeScope.getAllElementsClasses(t),i={component:t,classes:l.iframeScope.getClassesWithStyles(o)},n=JSON.stringify(i);n=(n=l.iframeScope.replaceGlobalColors(n)).replace(new RegExp(/,"\$\$hashKey":"object:\d*"/,"g"),""),l.elementExportJSON=n,l.showExportDialog=!0},l.copyElementExportJSON=function(e){var t=l.iframeScope.findComponentItem(l.iframeScope.componentsTree.children,e,l.iframeScope.getComponentItem),o=l.iframeScope.getAllElementsClasses(t),i={component:t,classes:l.iframeScope.getClassesWithStyles(o)},n=JSON.stringify(i);n=(n=l.iframeScope.replaceGlobalColors(n)).replace(new RegExp(/,"\$\$hashKey":"object:\d*"/,"g"),""),l.elementExportJSON=n,l.iframeScope.copyToClipboard(l.elementExportJSON),l.iframeScope.showNoticeModal("<div>Element JSON copied to clipboard</div>","ct-notice")},l.showImportModal=function(){l.showImportDialog=!0},l.processElementImportJSON=function(){l.iframeScope.addComponentFromSource(l.elementImportJSON),l.showImportDialog=!1,l.elementImportJSON=""};jQuery("body").on("paste","[contenteditable]:not(.cm-content)",function(e){var t,o,i=this,n=jQuery(i).html(),a=jQuery("<div>").append(e.originalEvent.clipboardData.getData("Text").replace(/(?:\r\n|\r|\n)/g,"%%linebreak%%")).text();if(window.getSelection){if((t=window.getSelection()).rangeCount){(o=t.getRangeAt(0)).deleteContents();var r,c=a.split("%%linebreak%%");for(var s in c)c.hasOwnProperty(s)&&(r=document.createTextNode(c[s]),o.insertNode(r),(o=o.cloneRange()).selectNodeContents(r),o.collapse(!1),t.removeAllRanges(),t.addRange(o),s<c.length-1&&(r=document.createElement("br"),o.insertNode(r),(o=o.cloneRange()).selectNode(r),o.collapse(!1),t.removeAllRanges(),t.addRange(o)))}}else document.selection&&document.selection.createRange&&((o=document.selection.createRange()).text=a.split("%%linebreak%%").join(""));var l=function(e){90===e.keyCode&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),jQuery(i).html(n),jQuery(i).off("keydown",l))};jQuery(i).on("keydown",l),e.preventDefault()})}]),animateDOMTreeNodeDetails=function(e){return{addClass:function(e,t,o){if("ct-dom-tree-node-active"!=t)return o(),!1;var i=jQuery(".ct-dom-tree-node-details",e);i.hide(),i.stop().slideDown({duration:250,easing:"linear",complete:function(){o()}})},removeClass:function(e,t,o){if("ct-dom-tree-node-active"!=t)return o(),!1;jQuery(".ct-dom-tree-node-details",e).stop().slideUp({duration:250,easing:"linear",complete:function(){o()}})}}},CTFrontendBuilderUI.animation(".ct-dom-tree-node-anchor",animateDOMTreeNodeDetails),animateDOMTreeNode=function(e){return{addClass:function(e,t,o){if(console.log("add",t),"ct-dom-tree-node-expanded"!=t)return o(),!1;var i=jQuery(e).children(".ct-dom-tree-node");i.hide(),i.stop().slideDown(250,function(){o()})},removeClass:function(e,t,o){if(console.log("remove",t),"ct-dom-tree-node-expanded"!=t)return o(),!1;jQuery(e).children(".ct-dom-tree-node").stop().slideUp(250,function(){o()})}}},CTFrontendBuilderUI.animation(".ct-dom-tree-node",animateDOMTreeNode),animateStyleSetNode=function(e){return{addClass:function(e,t,o){if("ct-style-set-expanded"!=t)return o(),!1;var i=jQuery(e).nextAll(".ct-style-set-child-selector");i.hide(),i.stop().slideDown(250,function(){i.css("height",""),o()})},removeClass:function(e,t,o){if("ct-style-set-expanded"!=t)return o(),!1;jQuery(e).nextAll(".ct-style-set-child-selector").stop().slideUp(250,function(){o()})}}},CTFrontendBuilderUI.config(["$animateProvider",function(e){e.classNameFilter(/^((?!(ct-no-animate)).)*$/)}]),CTFrontendBuilderUI.directive("fileModel",["$parse",function(n){return{restrict:"A",link:function(e,t,o){var i=n(o.fileModel).assign;t.bind("change",function(){e.$apply(function(){i(e,t[0].files[0])})})}}}]),CTFrontendBuilderUI.directive("oxygenResizableSidebar",["$timeout","$interval",function(e,t){return{restrict:"AE",link:function(n,a,e){var r,c,s,l,d=window.getComputedStyle(a[0],null),p=function(e){return e.touches?e.touches[0].clientX:e.clientX},m=function(e){return e.touches?e.touches[0].clientY:e.clientY},u=function(e){var t,o="x"===l?c-p(e):c-m(e);switch(s){case"right":"width",t=r-1*o;var i=jQuery(".oxygen-code-editor-expand",n.verticalSidebar);if(t<300){n.verticalSidebar.data("expanded",!1),jQuery(i).text(jQuery(i).attr("data-expand"));break}n.verticalSidebar.data("expanded",!0),jQuery(i).text(jQuery(i).attr("data-collapse")),console.log(o,r),a[0].style.width=r-1*o+"px"}},g=function(e){n.adjustViewportContainer(),jQuery("#resize-overlay").hide(),document.removeEventListener("mouseup",g,!1),document.removeEventListener("mousemove",u,!1),document.removeEventListener("touchend",g,!1),document.removeEventListener("touchmove",u,!1),a.removeClass("rg-no-transition")};["right"].forEach(function(i){var e=document.createElement("div");e.setAttribute("class","rg-"+i),e.innerHTML="<span></span>",a[0].appendChild(e),e.ondragstart=function(){return!1};var t=function(e){var t,o;"true"===n.rDisabled||1!==e.which&&!e.touches||(t=e,o=i,jQuery("#resize-overlay").show(),l=0<=(s=o).indexOf("left")||0<=s.indexOf("right")?"x":"y",c="x"===l?p(t):m(t),r=parseInt(d.getPropertyValue("width")),a.addClass("rg-no-transition"),document.addEventListener("mouseup",g,!1),document.addEventListener("mousemove",u,!1),document.addEventListener("touchend",g,!1),document.addEventListener("touchmove",u,!1),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,n.$apply())};e.addEventListener("mousedown",t,!1),e.addEventListener("touchstart",t,!1)})}}}]),CTFrontendBuilderUI.directive("ctEditButton",["$timeout","$interval",function(r,e){return{link:function(n,e,a){e.bind("mousedown",function(e){e.preventDefault();var t=a.ngEditRole;switch(t){case"link":var o=prompt("Write the URL","http://");o&&""!=o&&n.artificialViewport[0].contentWindow.document.execCommand("createlink",!1,o);case"p":n.artificialViewport[0].contentWindow.document.execCommand("formatBlock",!1,t);break;default:n.artificialViewport[0].contentWindow.document.execCommand(t,!1,null)}n.$apply();var i=r(function(){n.iframeScope.setOption(n.iframeScope.component.active.id,n.iframeScope.component.active.name,"ct_content"),r.cancel(i)},0,!1)})}}}]);
!function($){$?($.Unslider=function(t,n){var e=this;return e._="unslider",e.defaults={autoplay:!1,delay:3e3,speed:750,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+e._+'-arrow prev">Prev</a>',next:'<a class="'+e._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:e._+"-active",swipe:!0,swipeThreshold:.2},e.$context=t,e.options={},e.$parent=null,e.$container=null,e.$slides=null,e.$nav=null,e.$arrows=[],e.total=0,e.current=0,e.prefix=e._+"-",e.eventSuffix="."+e.prefix+~~(2e3*Math.random()),e.interval=null,e.init=function(t){return e.options=$.extend({},e.defaults,t),e.$container=e.$context.find(e.options.selectors.container).addClass(e.prefix+"wrap"),e.$slides=e.$container.children(e.options.selectors.slides),e.setup(),$.each(["nav","arrows","keys","infinite"],function(t,n){e.options[n]&&e["init"+$._ucfirst(n)]()}),jQuery.event.special.swipe&&e.options.swipe&&e.initSwipe(),e.options.autoplay&&e.start(),e.calculateSlides(),e.$context.trigger(e._+".ready"),e.animate(e.options.index||e.current,"init")},e.setup=function(){e.$context.addClass(e.prefix+e.options.animation).wrap('<div class="'+e._+'" />'),e.$parent=e.$context.parent("."+e._),"static"===e.$context.css("position")&&e.$context.css("position","relative"),e.$context.css("overflow","hidden")},e.calculateSlides=function(){if(e.total=e.$slides.length,"fade"!==e.options.animation){var t="width";"vertical"===e.options.animation&&(t="height"),e.$container.css(t,100*e.total+"%").addClass(e.prefix+"carousel"),e.$slides.css(t,100/e.total+"%")}},e.start=function(){return e.interval=setTimeout(function(){e.next()},e.options.delay),e},e.stop=function(){return clearTimeout(e.interval),e},e.initNav=function(){var t=$('<nav class="'+e.prefix+'nav"><ol /></nav>');e.$slides.each(function(n){var i=this.getAttribute("data-nav")||n+1;$.isFunction(e.options.nav)&&(i=e.options.nav.call(e.$slides.eq(n),n,i)),t.children("ol").append('<li data-slide="'+n+'">'+i+"</li>")}),e.$nav=t.insertAfter(e.$context),e.$nav.find("li").on("click"+e.eventSuffix,function(){var t=$(this).addClass(e.options.activeClass);t.siblings().removeClass(e.options.activeClass),e.animate(t.attr("data-slide"))})},e.initArrows=function(){!0===e.options.arrows&&(e.options.arrows=e.defaults.arrows),$.each(e.options.arrows,function(t,n){e.$arrows.push($(n).insertAfter(e.$context).on("click"+e.eventSuffix,e[t]))})},e.initKeys=function(){!0===e.options.keys&&(e.options.keys=e.defaults.keys),$(document).on("keyup"+e.eventSuffix,function(t){$.each(e.options.keys,function(n,i){t.which===i&&$.isFunction(e[n])&&e[n].call(e)})})},e.initSwipe=function(){var t=e.$slides.width();"fade"!==e.options.animation&&e.$container.on({movestart:function(t){return t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?!!t.preventDefault():void e.$container.css("position","relative")},move:function(n){e.$container.css("left",-100*e.current+100*n.distX/t+"%")},moveend:function(n){Math.abs(n.distX)/t>e.options.swipeThreshold?e[n.distX<0?"next":"prev"]():e.$container.animate({left:-100*e.current+"%"},e.options.speed/2)}})},e.initInfinite=function(){var t=["first","last"];$.each(t,function(n,i){e.$slides.push.apply(e.$slides,e.$slides.filter(':not(".'+e._+'-clone")')[i]().clone().addClass(e._+"-clone")["insert"+(0===n?"After":"Before")](e.$slides[t[~~!n]]()))})},e.destroyArrows=function(){$.each(e.$arrows,function(t,n){n.remove()})},e.destroySwipe=function(){e.$container.off("movestart move moveend")},e.destroyKeys=function(){$(document).off("keyup"+e.eventSuffix)},e.setIndex=function(t){return t<0&&(t=e.total-1),e.current=Math.min(Math.max(0,t),e.total-1),e.options.nav&&e.$nav.find('[data-slide="'+e.current+'"]')._active(e.options.activeClass),e.$slides.eq(e.current)._active(e.options.activeClass),e},e.animate=function(t,n){if("first"===t&&(t=0),"last"===t&&(t=e.total),isNaN(t))return e;e.options.autoplay&&e.stop().start(),e.setIndex(t),e.$context.trigger(e._+".change",[t,e.$slides.eq(t)]);var i="animate"+$._ucfirst(e.options.animation);return $.isFunction(e[i])&&e[i](e.current,n),e},e.next=function(){var t=e.current+1;return t>=e.total&&(t=0),e.animate(t,"next")},e.prev=function(){return e.animate(e.current-1,"prev")},e.animateHorizontal=function(t){var n="left";return"rtl"===e.$context.attr("dir")&&(n="right"),e.options.infinite&&e.$container.css("margin-"+n,"-100%"),e.slide(n,t)},e.animateVertical=function(t){return e.options.animateHeight=!0,e.options.infinite&&e.$container.css("margin-top",-e.$slides.outerHeight()),e.slide("top",t)},e.slide=function(t,n){var i;(e.options.animateHeight&&e._move(e.$context,{height:e.$slides.eq(n).outerHeight()},!1),e.options.infinite)&&(n===e.total-1&&(i=e.total-3,n=-1),n===e.total-2&&(i=0,n=e.total-2),"number"==typeof i&&(e.setIndex(i),e.$context.on(e._+".moved",function(){e.current===i&&e.$container.css(t,-100*i+"%").off(e._+".moved")})));var o={};return o[t]=-100*n+"%",e._move(e.$container,o)},e.animateFade=function(t){var n=e.$slides.eq(t).addClass(e.options.activeClass);e._move(n.siblings().removeClass(e.options.activeClass),{opacity:0}),e._move(n,{opacity:1},!1)},e._move=function(t,n,i,o){return!1!==i&&(i=function(){e.$context.trigger(e._+".moved")}),t._move(n,o||e.options.speed,e.options.easing,i)},e.init(n)},$.fn._active=function(t){return this.addClass(t).siblings().removeClass(t)},$._ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},$.fn._move=function(){return this.stop(!0,!0),$.fn[$.fn.velocity?"velocity":"animate"].apply(this,arguments)},$.fn.unslider=function(t){return this.each(function(){var n=$(this);if("string"==typeof t&&n.data("unslider")){t=t.split(":");var e=n.data("unslider")[t[0]];if($.isFunction(e))return e.apply(n,t[1]?t[1].split(","):null)}return n.data("unslider",new $.Unslider(n,t))})}):console.warn("Unslider needs jQuery")}(window.jQuery),function(fn){"function"==typeof define&&define.amd?define([],fn):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=fn:fn()}(function(){var assign=Object.assign||window.jQuery&&jQuery.extend,threshold=8,requestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(fn,element){return window.setTimeout(function(){fn()},25)},ignoreTags={textarea:!0,input:!0,select:!0,button:!0},mouseevents={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},touchevents={move:"touchmove",cancel:"touchend",end:"touchend"},rspaces=/\s+/,eventOptions={bubbles:!0,cancelable:!0},eventsSymbol=Symbol("events");function getEvents(node){return node[eventsSymbol]||(node[eventsSymbol]={})}function on(node,types,fn,data,selector){types=types.split(rspaces);var type,events=getEvents(node),i=types.length;function handler(e){fn(e,data)}for(;i--;)(events[type=types[i]]||(events[type]=[])).push([fn,handler]),node.addEventListener(type,handler)}function off(node,types,fn,selector){types=types.split(rspaces);var type,handlers,k,events=getEvents(node),i=types.length;if(events)for(;i--;)if(handlers=events[type=types[i]])for(k=handlers.length;k--;)handlers[k][0]===fn&&(node.removeEventListener(type,handlers[k][1]),handlers.splice(k,1))}function trigger(node,type,properties){var event=function(type){return new CustomEvent(type,eventOptions)}(type);properties&&assign(event,properties),node.dispatchEvent(event)}function Timer(fn){var callback=fn,active=!1,running=!1;function trigger(time){active?(callback(),requestFrame(trigger),active=!(running=!0)):running=!1}this.kick=function(fn){active=!0,running||trigger()},this.end=function(fn){var cb=callback;fn&&(running?(callback=active?function(){cb(),fn()}:fn,active=!0):fn())}}function noop(){}function preventDefault(e){e.preventDefault()}function identifiedTouch(touchList,id){var i,l;if(touchList.identifiedTouch)return touchList.identifiedTouch(id);for(i=-1,l=touchList.length;++i<l;)if(touchList[i].identifier===id)return touchList[i]}function changedTouch(e,data){var touch=identifiedTouch(e.changedTouches,data.identifier);if(touch&&(touch.pageX!==data.pageX||touch.pageY!==data.pageY))return touch}function mousemove(e,data){checkThreshold(e,data,e,removeMouse)}function mouseend(e,data){removeMouse()}function removeMouse(){off(document,mouseevents.move,mousemove),off(document,mouseevents.cancel,mouseend)}function removeTouch(data){off(document,touchevents.move,data.touchmove),off(document,touchevents.cancel,data.touchend)}function checkThreshold(e,data,touch,fn){var distX=touch.pageX-data.pageX,distY=touch.pageY-data.pageY;distX*distX+distY*distY<threshold*threshold||function(e,data,touch,distX,distY,fn){var touches=e.targetTouches,time=e.timeStamp-data.timeStamp,template={altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,startX:data.pageX,startY:data.pageY,distX:distX,distY:distY,deltaX:distX,deltaY:distY,pageX:touch.pageX,pageY:touch.pageY,velocityX:distX/time,velocityY:distY/time,identifier:data.identifier,targetTouches:touches,finger:touches?touches.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=noop,e.preventDefault()}};trigger(data.target,"movestart",template),fn(data)}(e,data,touch,distX,distY,fn)}function activeMousemove(e,data){var timer=data.timer;data.touch=e,data.timeStamp=e.timeStamp,timer.kick()}function activeMouseend(e,data){var target=data.target,event=data.event,timer=data.timer;off(document,mouseevents.move,activeMousemove),off(document,mouseevents.end,activeMouseend),endEvent(target,event,timer,function(){setTimeout(function(){off(target,"click",preventDefault)},0)})}function activeTouchend(e,data){var target=data.target,event=data.event,timer=data.timer;identifiedTouch(e.changedTouches,event.identifier)&&(!function(data){off(document,touchevents.move,data.activeTouchmove),off(document,touchevents.end,data.activeTouchend)}(data),endEvent(target,event,timer))}function endEvent(target,event,timer,fn){timer.end(function(){return trigger(target,"moveend",event),fn&&fn()})}if(on(document,"mousedown",function(e){(function(e){return 1===e.which&&!e.ctrlKey&&!e.altKey})(e)&&(function(e){return!!ignoreTags[e.target.tagName.toLowerCase()]}(e)||(on(document,mouseevents.move,mousemove,e),on(document,mouseevents.cancel,mouseend,e)))}),on(document,"touchstart",function(e){if(!ignoreTags[e.target.tagName.toLowerCase()]){var touch=e.changedTouches[0],data={target:touch.target,pageX:touch.pageX,pageY:touch.pageY,identifier:touch.identifier,touchmove:function(e,data){!function(e,data){var touch=changedTouch(e,data);touch&&checkThreshold(e,data,touch,removeTouch)}(e,data)},touchend:function(e,data){!function(e,data){identifiedTouch(e.changedTouches,data.identifier)&&removeTouch(data)}(e,data)}};on(document,touchevents.move,data.touchmove,data),on(document,touchevents.cancel,data.touchend,data)}}),on(document,"movestart",function(e){if(!e.defaultPrevented&&e.moveEnabled){var event={startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},data={target:e.target,event:event,timer:new Timer(function(time){(function(event,touch,timeStamp){var time=timeStamp-event.timeStamp;event.distX=touch.pageX-event.startX,event.distY=touch.pageY-event.startY,event.deltaX=touch.pageX-event.pageX,event.deltaY=touch.pageY-event.pageY,event.velocityX=.3*event.velocityX+.7*event.deltaX/time,event.velocityY=.3*event.velocityY+.7*event.deltaY/time,event.pageX=touch.pageX,event.pageY=touch.pageY})(event,data.touch,data.timeStamp),trigger(data.target,"move",event)}),touch:void 0,timeStamp:e.timeStamp};void 0===e.identifier?(on(e.target,"click",preventDefault),on(document,mouseevents.move,activeMousemove,data),on(document,mouseevents.end,activeMouseend,data)):(data.activeTouchmove=function(e,data){!function(e,data){var event=data.event,timer=data.timer,touch=changedTouch(e,event);touch&&(e.preventDefault(),event.targetTouches=e.targetTouches,data.touch=touch,data.timeStamp=e.timeStamp,timer.kick())}(e,data)},data.activeTouchend=function(e,data){activeTouchend(e,data)},on(document,touchevents.move,data.activeTouchmove,data),on(document,touchevents.end,data.activeTouchend,data))}}),window.jQuery){var properties="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){return on(this,"movestart",enableMove1),!1},teardown:function(){return off(this,"movestart",enableMove1),!1},add:add},jQuery.event.special.move={setup:function(){return on(this,"movestart",enableMove2),!1},teardown:function(){return off(this,"movestart",enableMove2),!1},add:add},jQuery.event.special.moveend={setup:function(){return on(this,"movestart",enableMove3),!1},teardown:function(){return off(this,"movestart",enableMove3),!1},add:add}}function enableMove1(e){e.enableMove()}function enableMove2(e){e.enableMove()}function enableMove3(e){e.enableMove()}function add(handleObj){var handler=handleObj.handler;handleObj.handler=function(e){for(var property,i=properties.length;i--;)e[property=properties[i]]=e.originalEvent[property];handler.apply(this,arguments)}}}),function(thisModule){"function"==typeof define&&define.amd?define(["jquery",void 0,"jquery.event.move"],thisModule):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=thisModule:thisModule(jQuery)}(function(jQuery,undefined){var add=jQuery.event.add,remove=jQuery.event.remove,trigger=function(node,type,data){jQuery.event.trigger(type,data,node)},settings={threshold:.4,sensitivity:6};function moveend(e){var w,h,event;w=e.currentTarget.offsetWidth,h=e.currentTarget.offsetHeight,event={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger},e.distX>e.distY?e.distX>-e.distY?(e.distX/w>settings.threshold||1<e.velocityX*e.distX/w*settings.sensitivity)&&(event.type="swiperight",trigger(e.currentTarget,event)):(-e.distY/h>settings.threshold||1<e.velocityY*e.distY/w*settings.sensitivity)&&(event.type="swipeup",trigger(e.currentTarget,event)):e.distX>-e.distY?(e.distY/h>settings.threshold||1<e.velocityY*e.distY/w*settings.sensitivity)&&(event.type="swipedown",trigger(e.currentTarget,event)):(-e.distX/w>settings.threshold||1<e.velocityX*e.distX/w*settings.sensitivity)&&(event.type="swipeleft",trigger(e.currentTarget,event))}function getData(node){var data=jQuery.data(node,"event_swipe");return data||(data={count:0},jQuery.data(node,"event_swipe",data)),data}jQuery.event.special.swipe=jQuery.event.special.swipeleft=jQuery.event.special.swiperight=jQuery.event.special.swipeup=jQuery.event.special.swipedown={setup:function(data,namespaces,eventHandle){if(!(0<getData(this).count++))return add(this,"moveend",moveend),!0},teardown:function(){if(!(0<--getData(this).count))return remove(this,"moveend",moveend),!0},settings:settings}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var c;return function(){var a,c,d;b&&b.requirejs||(b?c=b:b={},function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(g=(a=a.split("/")).length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;0<k&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(k=(c=a.split("/")).length;0<k;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;0<l;l-=1)if((e=o[n.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return-1<c&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(c=j(e=f(e,b))),e?a=c&&c.normalize?c.normalize(a,function(a){return function(b){return f(b,a)}}(b)):f(a,b):(e=(d=k(a=f(a,b)))[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return void 0!==b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:function(a){return function(){return s&&s.config&&s.config[a]||{}}}(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if("require"===(k=(m=o(c[n],f)).f))u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if((s=a).deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,(d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])}).amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d)}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&"constructor"!==d&&c.push(d)}return c}var c={Extend:function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Decorate:function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;0<d&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new function(){this.constructor=d};for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}},k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d}},d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),(c[0]._type=a)in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];(f=f.substring(0,1).toLowerCase()+f.substring(1))in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null!=a.results&&0!==a.results.length){a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");0<b.length?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()});b.$results.find(".select2-results__option[aria-selected]").each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&-1<a.inArray(e,d)?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var c={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};for(var e in b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]),d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group",a(h),this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):h-g<0&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),e=b.index(a)+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):g<h&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=0<a.deltaY&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var c=this.$results.find("[aria-selected]").index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var d=a(b.target).closest(".select2");a(".select2.select2-container--open").each(function(){var b=a(this);this!=d[0]&&b.data("element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0!==a.length){var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)}else this.clear()},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var f=a(this).parent().data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(1<b.length||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(0<this.$selection.find(".select2-selection__placeholder").length||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(0<d.length){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)e.$selection.off("input.search input.searchcheck");else{var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)}})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";""!==this.$search.attr("placeholder")?a=this.$selection.find(".select2-selection__rendered").innerWidth():a=.75*(this.$search.val().length+1)+"em";this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return(d+=a.generateChars(4))+(null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4))},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];(a=[a]).push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a,b){var c=this;(this.container=a).on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup")).label=a.text:void 0!==(b=document.createElement("option")).textContent?b.textContent=a.text:b.innerText=a.text,a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(null!=(b=c.data(a[0],"data")))return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return(b=this._normalizeItem(b)).element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a});return null!=(a=c.extend({},{text:""},a)).id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},{selected:!1,disabled:!1},a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(0<=c.inArray(j.id,g)){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if(i.text===b.term||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)})},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,function(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}!function(a){g.trigger("select",{data:a})}(c)});h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),m=i(a.extend({},c,{term:k}));null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",0<this.maximumInputLength&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return 0<d.maximumSelectionLength&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){null!=a.query.term&&""!==a.query.term||(e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide"))})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;0<=d;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1);e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)<=c+50&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h_height=this.$dropdown.outerHeight(!1),i_top=b.scrollTop(),i_bottom=b.scrollTop()+b.height(),j=i_top<f.top-h_height,k=i_bottom>f.bottom+h_height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h_height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(null==(l=a.extend(!0,{},this.defaults,l)).dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,0<l.minimumInputLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),0<l.maximumInputLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),0<l.maximumSelectionLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(0<l.language.indexOf("-")){var I=l.language.split("-")[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return l[a]||a})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&0<e.children.length){for(var f=a.extend(!0,{},e),g=e.children.length-1;0<=g;g--)null==c(d,e.children[g])&&f.children.splice(g,1);return 0<f.children.length?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return-1<j.indexOf(k)?e:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var e={};e[a.camelCase(b)]=c;var f=j._convertData(e);a.extend(this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e;e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);for(var g in f=d._convertData(f))-1<b.inArray(g,c)||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){return"select2-"+(null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"!=b)return b;var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var k=g[h].replace(/\s/g,"").match(c);if(null!==k&&1<=k.length)return k[1]}return null},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&0<b.addedNodes.length)for(var e=0;e<b.addedNodes.length;e++){b.addedNodes[e].selected&&(c=!0)}else b.removedNodes&&0<b.removedNodes.length&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("select2/compat/utils",["jquery"],function(a){return{syncCssClasses:function(b,c,d){var e,f,g=[];(e=a.trim(b.attr("class")))&&a((e=""+e).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&g.push(this)}),(e=a.trim(c.attr("class")))&&a((e=""+e).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(f=d(this))&&g.push(f)}),b.attr("class",g.join(" "))}}}),b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("containerCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptContainerCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("containerCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("dropdownCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptDropdownCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("dropdownCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=c.get("initSelection"),this._isInitialized=!1,a.call(this,b,c)}return b.prototype.current=function(b,c){var d=this;return this._isInitialized?void b.call(this,c):void this.initSelection.call(null,this.$element,function(b){d._isInitialized=!0,a.isArray(b)||(b=[b]),c(b)})},b}),b.define("select2/compat/inputData",["jquery"],function(a){function b(a,b,c){this._currentData=[],this._valueSeparator=c.get("valueSeparator")||",","hidden"===b.prop("type")&&c.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),a.call(this,b,c)}return b.prototype.current=function(b,c){function d(b,c){var e=[];return b.selected||-1!==a.inArray(b.id,c)?(b.selected=!0,e.push(b)):b.selected=!1,b.children&&e.push.apply(e,d(b.children,c)),e}for(var e=[],f=0;f<this._currentData.length;f++){var g=this._currentData[f];e.push.apply(e,d(g,this.$element.val().split(this._valueSeparator)))}c(e)},b.prototype.select=function(b,c){if(this.options.get("multiple")){var d=this.$element.val();d+=this._valueSeparator+c.id,this.$element.val(d),this.$element.trigger("change")}else this.current(function(b){a.map(b,function(a){a.selected=!1})}),this.$element.val(c.id),this.$element.trigger("change")},b.prototype.unselect=function(a,b){var c=this;b.selected=!1,this.current(function(a){for(var d=[],e=0;e<a.length;e++){var f=a[e];b.id!=f.id&&d.push(f.id)}c.$element.val(d.join(c._valueSeparator)),c.$element.trigger("change")})},b.prototype.query=function(a,b,c){for(var d=[],e=0;e<this._currentData.length;e++){var f=this._currentData[e],g=this.matches(b,f);null!==g&&d.push(g)}c({results:d})},b.prototype.addOptions=function(b,c){var d=a.map(c,function(b){return a.data(b[0],"data")});this._currentData.push.apply(this._currentData,d)},b}),b.define("select2/compat/matcher",["jquery"],function(a){return function(b){return function(c,d){var e=a.extend(!0,{},d);if(null==c.term||""===a.trim(c.term))return e;if(d.children){for(var f=d.children.length-1;0<=f;f--){var g=d.children[f];b(c.term,g.text,g)||e.children.splice(f,1)}if(0<e.children.length)return e}return b(c.term,d.text,d)?e:null}}}),b.define("select2/compat/query",[],function(){function a(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),a.call(this,b,c)}return a.prototype.query=function(a,b,c){b.callback=c,this.options.get("query").call(null,b)},a}),b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}return a.prototype.position=function(a,b,c){c.find(".dropdown-wrapper").append(b),b.addClass("select2-dropdown--below"),c.addClass("select2-container--below")},a}),b.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(a){a.stopPropagation()})},a}),b.define("select2/selection/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(a){a.stopPropagation()})},a}),c=function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if((b=a.event.fix(g)).type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(j=m=-1*g.deltaY),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||n<f)&&(d(g,f=n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[1<=j?"floor":"ceil"](j/f),l=Math[1<=l?"floor":"ceil"](l/f),m=Math[1<=m?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})},"function"==typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(a),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"!=typeof b)throw new Error("Invalid arguments for Select2: "+b);var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),-1<a.inArray(b,e)?this:d}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c}),function($){$.fn.menuAim=function(opts){return this.each(function(){(function(opts){var $menu=$(this),activeRow=null,mouseLocs=[],lastDelayLoc=null,timeoutId=null,options=$.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:$.noop,exit:$.noop,activate:$.noop,deactivate:$.noop,exitMenu:$.noop},opts),activate=function(row){row!=activeRow&&(activeRow&&options.deactivate(activeRow),options.activate(row),activeRow=row)},possiblyActivate=function(row){var delay=activationDelay();delay?timeoutId=setTimeout(function(){possiblyActivate(row)},delay):activate(row)},activationDelay=function(){if(!activeRow||!$(activeRow).is(options.submenuSelector))return 0;var offset=$menu.offset(),upperLeft={x:offset.left,y:offset.top-options.tolerance},upperRight={x:offset.left+$menu.outerWidth(),y:upperLeft.y},lowerLeft={x:offset.left,y:offset.top+$menu.outerHeight()+options.tolerance},lowerRight={x:offset.left+$menu.outerWidth(),y:lowerLeft.y},loc=mouseLocs[mouseLocs.length-1],prevLoc=mouseLocs[0];if(!loc)return 0;if(prevLoc||(prevLoc=loc),prevLoc.x<offset.left||prevLoc.x>lowerRight.x||prevLoc.y<offset.top||prevLoc.y>lowerRight.y)return 0;if(lastDelayLoc&&loc.x==lastDelayLoc.x&&loc.y==lastDelayLoc.y)return 0;function slope(a,b){return(b.y-a.y)/(b.x-a.x)}var decreasingCorner=upperRight,increasingCorner=lowerRight;"left"==options.submenuDirection?(decreasingCorner=lowerLeft,increasingCorner=upperLeft):"below"==options.submenuDirection?(decreasingCorner=lowerRight,increasingCorner=lowerLeft):"above"==options.submenuDirection&&(decreasingCorner=upperLeft,increasingCorner=upperRight);var decreasingSlope=slope(loc,decreasingCorner),increasingSlope=slope(loc,increasingCorner),prevDecreasingSlope=slope(prevLoc,decreasingCorner),prevIncreasingSlope=slope(prevLoc,increasingCorner);return decreasingSlope<prevDecreasingSlope&&prevIncreasingSlope<increasingSlope?(lastDelayLoc=loc,300):(lastDelayLoc=null,0)};$menu.mouseleave(function(){timeoutId&&clearTimeout(timeoutId);options.exitMenu(this)&&(activeRow&&options.deactivate(activeRow),activeRow=null);activeRow=null}).find(options.rowSelector).mouseenter(function(){timeoutId&&clearTimeout(timeoutId);options.enter(this),possiblyActivate(this)}).mouseleave(function(){options.exit(this)}).click(function(){activate(this)}),$(document).mousemove(function(e){mouseLocs.push({x:e.pageX,y:e.pageY}),3<mouseLocs.length&&mouseLocs.shift()})}).call(this,opts)}),this}}(jQuery);
CTFrontendBuilderUI.controller("ControllerSlider",["$controller","$scope","$timeout","$interval",function(e,i,n,t){i.$parent.$on("iframe-init",function(e,n){jQuery("#ct-dom-tree-2").on("mousedown",".ct_slide",function(e){if(!(0<jQuery(e.target).parents(".dom-tree-node-options").length)){var n=jQuery(this).closest(".ct_slider").attr("ng-attr-tree-id"),t=jQuery(this).index();i.animateToSlide(n,t)}})}),i.$parent.addSlides=function(){var e=n(function(){i.iframeScope.waitOxygenTree(function(){i.iframeScope.addComponent("ct_slide",!1,!0),i.iframeScope.addComponent("ct_slide",!1,!0),i.iframeScope.addComponent("ct_slide",!1,!0)}),n.cancel(e)},0,!1)},i.$parent.animateToSlide=function(e,n){0<=n&&i.iframeScope.sliders[e].unslider("animate:"+n)},i.$parent.slideAdded=function(e,n){i.iframeScope.rebuildDOM(e);var t=i.iframeScope.getComponentById(n).closest("li").index();i.animateToSlide(e,t)}}]);