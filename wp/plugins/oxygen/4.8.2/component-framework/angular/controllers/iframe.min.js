!function($){$?($.Unslider=function(t,n){var e=this;return e._="unslider",e.defaults={autoplay:!1,delay:3e3,speed:750,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+e._+'-arrow prev">Prev</a>',next:'<a class="'+e._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:e._+"-active",swipe:!0,swipeThreshold:.2},e.$context=t,e.options={},e.$parent=null,e.$container=null,e.$slides=null,e.$nav=null,e.$arrows=[],e.total=0,e.current=0,e.prefix=e._+"-",e.eventSuffix="."+e.prefix+~~(2e3*Math.random()),e.interval=null,e.init=function(t){return e.options=$.extend({},e.defaults,t),e.$container=e.$context.find(e.options.selectors.container).addClass(e.prefix+"wrap"),e.$slides=e.$container.children(e.options.selectors.slides),e.setup(),$.each(["nav","arrows","keys","infinite"],function(t,n){e.options[n]&&e["init"+$._ucfirst(n)]()}),jQuery.event.special.swipe&&e.options.swipe&&e.initSwipe(),e.options.autoplay&&e.start(),e.calculateSlides(),e.$context.trigger(e._+".ready"),e.animate(e.options.index||e.current,"init")},e.setup=function(){e.$context.addClass(e.prefix+e.options.animation).wrap('<div class="'+e._+'" />'),e.$parent=e.$context.parent("."+e._),"static"===e.$context.css("position")&&e.$context.css("position","relative"),e.$context.css("overflow","hidden")},e.calculateSlides=function(){if(e.total=e.$slides.length,"fade"!==e.options.animation){var t="width";"vertical"===e.options.animation&&(t="height"),e.$container.css(t,100*e.total+"%").addClass(e.prefix+"carousel"),e.$slides.css(t,100/e.total+"%")}},e.start=function(){return e.interval=setTimeout(function(){e.next()},e.options.delay),e},e.stop=function(){return clearTimeout(e.interval),e},e.initNav=function(){var t=$('<nav class="'+e.prefix+'nav"><ol /></nav>');e.$slides.each(function(n){var i=this.getAttribute("data-nav")||n+1;$.isFunction(e.options.nav)&&(i=e.options.nav.call(e.$slides.eq(n),n,i)),t.children("ol").append('<li data-slide="'+n+'">'+i+"</li>")}),e.$nav=t.insertAfter(e.$context),e.$nav.find("li").on("click"+e.eventSuffix,function(){var t=$(this).addClass(e.options.activeClass);t.siblings().removeClass(e.options.activeClass),e.animate(t.attr("data-slide"))})},e.initArrows=function(){!0===e.options.arrows&&(e.options.arrows=e.defaults.arrows),$.each(e.options.arrows,function(t,n){e.$arrows.push($(n).insertAfter(e.$context).on("click"+e.eventSuffix,e[t]))})},e.initKeys=function(){!0===e.options.keys&&(e.options.keys=e.defaults.keys),$(document).on("keyup"+e.eventSuffix,function(t){$.each(e.options.keys,function(n,i){t.which===i&&$.isFunction(e[n])&&e[n].call(e)})})},e.initSwipe=function(){var t=e.$slides.width();"fade"!==e.options.animation&&e.$container.on({movestart:function(t){return t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?!!t.preventDefault():void e.$container.css("position","relative")},move:function(n){e.$container.css("left",-100*e.current+100*n.distX/t+"%")},moveend:function(n){Math.abs(n.distX)/t>e.options.swipeThreshold?e[n.distX<0?"next":"prev"]():e.$container.animate({left:-100*e.current+"%"},e.options.speed/2)}})},e.initInfinite=function(){var t=["first","last"];$.each(t,function(n,i){e.$slides.push.apply(e.$slides,e.$slides.filter(':not(".'+e._+'-clone")')[i]().clone().addClass(e._+"-clone")["insert"+(0===n?"After":"Before")](e.$slides[t[~~!n]]()))})},e.destroyArrows=function(){$.each(e.$arrows,function(t,n){n.remove()})},e.destroySwipe=function(){e.$container.off("movestart move moveend")},e.destroyKeys=function(){$(document).off("keyup"+e.eventSuffix)},e.setIndex=function(t){return t<0&&(t=e.total-1),e.current=Math.min(Math.max(0,t),e.total-1),e.options.nav&&e.$nav.find('[data-slide="'+e.current+'"]')._active(e.options.activeClass),e.$slides.eq(e.current)._active(e.options.activeClass),e},e.animate=function(t,n){if("first"===t&&(t=0),"last"===t&&(t=e.total),isNaN(t))return e;e.options.autoplay&&e.stop().start(),e.setIndex(t),e.$context.trigger(e._+".change",[t,e.$slides.eq(t)]);var i="animate"+$._ucfirst(e.options.animation);return $.isFunction(e[i])&&e[i](e.current,n),e},e.next=function(){var t=e.current+1;return t>=e.total&&(t=0),e.animate(t,"next")},e.prev=function(){return e.animate(e.current-1,"prev")},e.animateHorizontal=function(t){var n="left";return"rtl"===e.$context.attr("dir")&&(n="right"),e.options.infinite&&e.$container.css("margin-"+n,"-100%"),e.slide(n,t)},e.animateVertical=function(t){return e.options.animateHeight=!0,e.options.infinite&&e.$container.css("margin-top",-e.$slides.outerHeight()),e.slide("top",t)},e.slide=function(t,n){var i;(e.options.animateHeight&&e._move(e.$context,{height:e.$slides.eq(n).outerHeight()},!1),e.options.infinite)&&(n===e.total-1&&(i=e.total-3,n=-1),n===e.total-2&&(i=0,n=e.total-2),"number"==typeof i&&(e.setIndex(i),e.$context.on(e._+".moved",function(){e.current===i&&e.$container.css(t,-100*i+"%").off(e._+".moved")})));var o={};return o[t]=-100*n+"%",e._move(e.$container,o)},e.animateFade=function(t){var n=e.$slides.eq(t).addClass(e.options.activeClass);e._move(n.siblings().removeClass(e.options.activeClass),{opacity:0}),e._move(n,{opacity:1},!1)},e._move=function(t,n,i,o){return!1!==i&&(i=function(){e.$context.trigger(e._+".moved")}),t._move(n,o||e.options.speed,e.options.easing,i)},e.init(n)},$.fn._active=function(t){return this.addClass(t).siblings().removeClass(t)},$._ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},$.fn._move=function(){return this.stop(!0,!0),$.fn[$.fn.velocity?"velocity":"animate"].apply(this,arguments)},$.fn.unslider=function(t){return this.each(function(){var n=$(this);if("string"==typeof t&&n.data("unslider")){t=t.split(":");var e=n.data("unslider")[t[0]];if($.isFunction(e))return e.apply(n,t[1]?t[1].split(","):null)}return n.data("unslider",new $.Unslider(n,t))})}):console.warn("Unslider needs jQuery")}(window.jQuery),function(fn){"function"==typeof define&&define.amd?define([],fn):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=fn:fn()}(function(){var assign=Object.assign||window.jQuery&&jQuery.extend,threshold=8,requestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(fn,element){return window.setTimeout(function(){fn()},25)},ignoreTags={textarea:!0,input:!0,select:!0,button:!0},mouseevents={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},touchevents={move:"touchmove",cancel:"touchend",end:"touchend"},rspaces=/\s+/,eventOptions={bubbles:!0,cancelable:!0},eventsSymbol=Symbol("events");function getEvents(node){return node[eventsSymbol]||(node[eventsSymbol]={})}function on(node,types,fn,data,selector){types=types.split(rspaces);var type,events=getEvents(node),i=types.length;function handler(e){fn(e,data)}for(;i--;)(events[type=types[i]]||(events[type]=[])).push([fn,handler]),node.addEventListener(type,handler)}function off(node,types,fn,selector){types=types.split(rspaces);var type,handlers,k,events=getEvents(node),i=types.length;if(events)for(;i--;)if(handlers=events[type=types[i]])for(k=handlers.length;k--;)handlers[k][0]===fn&&(node.removeEventListener(type,handlers[k][1]),handlers.splice(k,1))}function trigger(node,type,properties){var event=function(type){return new CustomEvent(type,eventOptions)}(type);properties&&assign(event,properties),node.dispatchEvent(event)}function Timer(fn){var callback=fn,active=!1,running=!1;function trigger(time){active?(callback(),requestFrame(trigger),active=!(running=!0)):running=!1}this.kick=function(fn){active=!0,running||trigger()},this.end=function(fn){var cb=callback;fn&&(running?(callback=active?function(){cb(),fn()}:fn,active=!0):fn())}}function noop(){}function preventDefault(e){e.preventDefault()}function identifiedTouch(touchList,id){var i,l;if(touchList.identifiedTouch)return touchList.identifiedTouch(id);for(i=-1,l=touchList.length;++i<l;)if(touchList[i].identifier===id)return touchList[i]}function changedTouch(e,data){var touch=identifiedTouch(e.changedTouches,data.identifier);if(touch&&(touch.pageX!==data.pageX||touch.pageY!==data.pageY))return touch}function mousemove(e,data){checkThreshold(e,data,e,removeMouse)}function mouseend(e,data){removeMouse()}function removeMouse(){off(document,mouseevents.move,mousemove),off(document,mouseevents.cancel,mouseend)}function removeTouch(data){off(document,touchevents.move,data.touchmove),off(document,touchevents.cancel,data.touchend)}function checkThreshold(e,data,touch,fn){var distX=touch.pageX-data.pageX,distY=touch.pageY-data.pageY;distX*distX+distY*distY<threshold*threshold||function(e,data,touch,distX,distY,fn){var touches=e.targetTouches,time=e.timeStamp-data.timeStamp,template={altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,startX:data.pageX,startY:data.pageY,distX:distX,distY:distY,deltaX:distX,deltaY:distY,pageX:touch.pageX,pageY:touch.pageY,velocityX:distX/time,velocityY:distY/time,identifier:data.identifier,targetTouches:touches,finger:touches?touches.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=noop,e.preventDefault()}};trigger(data.target,"movestart",template),fn(data)}(e,data,touch,distX,distY,fn)}function activeMousemove(e,data){var timer=data.timer;data.touch=e,data.timeStamp=e.timeStamp,timer.kick()}function activeMouseend(e,data){var target=data.target,event=data.event,timer=data.timer;off(document,mouseevents.move,activeMousemove),off(document,mouseevents.end,activeMouseend),endEvent(target,event,timer,function(){setTimeout(function(){off(target,"click",preventDefault)},0)})}function activeTouchend(e,data){var target=data.target,event=data.event,timer=data.timer;identifiedTouch(e.changedTouches,event.identifier)&&(!function(data){off(document,touchevents.move,data.activeTouchmove),off(document,touchevents.end,data.activeTouchend)}(data),endEvent(target,event,timer))}function endEvent(target,event,timer,fn){timer.end(function(){return trigger(target,"moveend",event),fn&&fn()})}if(on(document,"mousedown",function(e){(function(e){return 1===e.which&&!e.ctrlKey&&!e.altKey})(e)&&(function(e){return!!ignoreTags[e.target.tagName.toLowerCase()]}(e)||(on(document,mouseevents.move,mousemove,e),on(document,mouseevents.cancel,mouseend,e)))}),on(document,"touchstart",function(e){if(!ignoreTags[e.target.tagName.toLowerCase()]){var touch=e.changedTouches[0],data={target:touch.target,pageX:touch.pageX,pageY:touch.pageY,identifier:touch.identifier,touchmove:function(e,data){!function(e,data){var touch=changedTouch(e,data);touch&&checkThreshold(e,data,touch,removeTouch)}(e,data)},touchend:function(e,data){!function(e,data){identifiedTouch(e.changedTouches,data.identifier)&&removeTouch(data)}(e,data)}};on(document,touchevents.move,data.touchmove,data),on(document,touchevents.cancel,data.touchend,data)}}),on(document,"movestart",function(e){if(!e.defaultPrevented&&e.moveEnabled){var event={startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},data={target:e.target,event:event,timer:new Timer(function(time){(function(event,touch,timeStamp){var time=timeStamp-event.timeStamp;event.distX=touch.pageX-event.startX,event.distY=touch.pageY-event.startY,event.deltaX=touch.pageX-event.pageX,event.deltaY=touch.pageY-event.pageY,event.velocityX=.3*event.velocityX+.7*event.deltaX/time,event.velocityY=.3*event.velocityY+.7*event.deltaY/time,event.pageX=touch.pageX,event.pageY=touch.pageY})(event,data.touch,data.timeStamp),trigger(data.target,"move",event)}),touch:void 0,timeStamp:e.timeStamp};void 0===e.identifier?(on(e.target,"click",preventDefault),on(document,mouseevents.move,activeMousemove,data),on(document,mouseevents.end,activeMouseend,data)):(data.activeTouchmove=function(e,data){!function(e,data){var event=data.event,timer=data.timer,touch=changedTouch(e,event);touch&&(e.preventDefault(),event.targetTouches=e.targetTouches,data.touch=touch,data.timeStamp=e.timeStamp,timer.kick())}(e,data)},data.activeTouchend=function(e,data){activeTouchend(e,data)},on(document,touchevents.move,data.activeTouchmove,data),on(document,touchevents.end,data.activeTouchend,data))}}),window.jQuery){var properties="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){return on(this,"movestart",enableMove1),!1},teardown:function(){return off(this,"movestart",enableMove1),!1},add:add},jQuery.event.special.move={setup:function(){return on(this,"movestart",enableMove2),!1},teardown:function(){return off(this,"movestart",enableMove2),!1},add:add},jQuery.event.special.moveend={setup:function(){return on(this,"movestart",enableMove3),!1},teardown:function(){return off(this,"movestart",enableMove3),!1},add:add}}function enableMove1(e){e.enableMove()}function enableMove2(e){e.enableMove()}function enableMove3(e){e.enableMove()}function add(handleObj){var handler=handleObj.handler;handleObj.handler=function(e){for(var property,i=properties.length;i--;)e[property=properties[i]]=e.originalEvent[property];handler.apply(this,arguments)}}}),function(thisModule){"function"==typeof define&&define.amd?define(["jquery",void 0,"jquery.event.move"],thisModule):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=thisModule:thisModule(jQuery)}(function(jQuery,undefined){var add=jQuery.event.add,remove=jQuery.event.remove,trigger=function(node,type,data){jQuery.event.trigger(type,data,node)},settings={threshold:.4,sensitivity:6};function moveend(e){var w,h,event;w=e.currentTarget.offsetWidth,h=e.currentTarget.offsetHeight,event={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger},e.distX>e.distY?e.distX>-e.distY?(e.distX/w>settings.threshold||1<e.velocityX*e.distX/w*settings.sensitivity)&&(event.type="swiperight",trigger(e.currentTarget,event)):(-e.distY/h>settings.threshold||1<e.velocityY*e.distY/w*settings.sensitivity)&&(event.type="swipeup",trigger(e.currentTarget,event)):e.distX>-e.distY?(e.distY/h>settings.threshold||1<e.velocityY*e.distY/w*settings.sensitivity)&&(event.type="swipedown",trigger(e.currentTarget,event)):(-e.distX/w>settings.threshold||1<e.velocityX*e.distX/w*settings.sensitivity)&&(event.type="swipeleft",trigger(e.currentTarget,event))}function getData(node){var data=jQuery.data(node,"event_swipe");return data||(data={count:0},jQuery.data(node,"event_swipe",data)),data}jQuery.event.special.swipe=jQuery.event.special.swipeleft=jQuery.event.special.swiperight=jQuery.event.special.swipeup=jQuery.event.special.swipedown={setup:function(data,namespaces,eventHandle){if(!(0<getData(this).count++))return add(this,"moveend",moveend),!0},teardown:function(){if(!(0<--getData(this).count))return remove(this,"moveend",moveend),!0},settings:settings}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var c;return function(){var a,c,d;b&&b.requirejs||(b?c=b:b={},function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(g=(a=a.split("/")).length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;0<k&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(k=(c=a.split("/")).length;0<k;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;0<l;l-=1)if((e=o[n.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return-1<c&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(c=j(e=f(e,b))),e?a=c&&c.normalize?c.normalize(a,function(a){return function(b){return f(b,a)}}(b)):f(a,b):(e=(d=k(a=f(a,b)))[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return void 0!==b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:function(a){return function(){return s&&s.config&&s.config[a]||{}}}(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if("require"===(k=(m=o(c[n],f)).f))u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if((s=a).deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,(d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])}).amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d)}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&"constructor"!==d&&c.push(d)}return c}var c={Extend:function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Decorate:function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;0<d&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new function(){this.constructor=d};for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}},k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d}},d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),(c[0]._type=a)in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];(f=f.substring(0,1).toLowerCase()+f.substring(1))in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null!=a.results&&0!==a.results.length){a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");0<b.length?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()});b.$results.find(".select2-results__option[aria-selected]").each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&-1<a.inArray(e,d)?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var c={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};for(var e in b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]),d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group",a(h),this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):h-g<0&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),e=b.index(a)+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):g<h&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=0<a.deltaY&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var c=this.$results.find("[aria-selected]").index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var d=a(b.target).closest(".select2");a(".select2.select2-container--open").each(function(){var b=a(this);this!=d[0]&&b.data("element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0!==a.length){var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)}else this.clear()},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var f=a(this).parent().data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(1<b.length||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(0<this.$selection.find(".select2-selection__placeholder").length||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(0<d.length){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)e.$selection.off("input.search input.searchcheck");else{var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)}})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";""!==this.$search.attr("placeholder")?a=this.$selection.find(".select2-selection__rendered").innerWidth():a=.75*(this.$search.val().length+1)+"em";this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return(d+=a.generateChars(4))+(null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4))},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];(a=[a]).push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a,b){var c=this;(this.container=a).on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup")).label=a.text:void 0!==(b=document.createElement("option")).textContent?b.textContent=a.text:b.innerText=a.text,a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(null!=(b=c.data(a[0],"data")))return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return(b=this._normalizeItem(b)).element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a});return null!=(a=c.extend({},{text:""},a)).id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},{selected:!1,disabled:!1},a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(0<=c.inArray(j.id,g)){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if(i.text===b.term||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)})},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,function(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}!function(a){g.trigger("select",{data:a})}(c)});h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),m=i(a.extend({},c,{term:k}));null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",0<this.maximumInputLength&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return 0<d.maximumSelectionLength&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){null!=a.query.term&&""!==a.query.term||(e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide"))})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;0<=d;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1);e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)<=c+50&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h_height=this.$dropdown.outerHeight(!1),i_top=b.scrollTop(),i_bottom=b.scrollTop()+b.height(),j=i_top<f.top-h_height,k=i_bottom>f.bottom+h_height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h_height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(null==(l=a.extend(!0,{},this.defaults,l)).dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,0<l.minimumInputLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),0<l.maximumInputLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),0<l.maximumSelectionLength&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(0<l.language.indexOf("-")){var I=l.language.split("-")[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return l[a]||a})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&0<e.children.length){for(var f=a.extend(!0,{},e),g=e.children.length-1;0<=g;g--)null==c(d,e.children[g])&&f.children.splice(g,1);return 0<f.children.length?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return-1<j.indexOf(k)?e:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var e={};e[a.camelCase(b)]=c;var f=j._convertData(e);a.extend(this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e;e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);for(var g in f=d._convertData(f))-1<b.inArray(g,c)||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){return"select2-"+(null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"!=b)return b;var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var k=g[h].replace(/\s/g,"").match(c);if(null!==k&&1<=k.length)return k[1]}return null},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&0<b.addedNodes.length)for(var e=0;e<b.addedNodes.length;e++){b.addedNodes[e].selected&&(c=!0)}else b.removedNodes&&0<b.removedNodes.length&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("select2/compat/utils",["jquery"],function(a){return{syncCssClasses:function(b,c,d){var e,f,g=[];(e=a.trim(b.attr("class")))&&a((e=""+e).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&g.push(this)}),(e=a.trim(c.attr("class")))&&a((e=""+e).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(f=d(this))&&g.push(f)}),b.attr("class",g.join(" "))}}}),b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("containerCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptContainerCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("containerCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("dropdownCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptDropdownCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("dropdownCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=c.get("initSelection"),this._isInitialized=!1,a.call(this,b,c)}return b.prototype.current=function(b,c){var d=this;return this._isInitialized?void b.call(this,c):void this.initSelection.call(null,this.$element,function(b){d._isInitialized=!0,a.isArray(b)||(b=[b]),c(b)})},b}),b.define("select2/compat/inputData",["jquery"],function(a){function b(a,b,c){this._currentData=[],this._valueSeparator=c.get("valueSeparator")||",","hidden"===b.prop("type")&&c.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),a.call(this,b,c)}return b.prototype.current=function(b,c){function d(b,c){var e=[];return b.selected||-1!==a.inArray(b.id,c)?(b.selected=!0,e.push(b)):b.selected=!1,b.children&&e.push.apply(e,d(b.children,c)),e}for(var e=[],f=0;f<this._currentData.length;f++){var g=this._currentData[f];e.push.apply(e,d(g,this.$element.val().split(this._valueSeparator)))}c(e)},b.prototype.select=function(b,c){if(this.options.get("multiple")){var d=this.$element.val();d+=this._valueSeparator+c.id,this.$element.val(d),this.$element.trigger("change")}else this.current(function(b){a.map(b,function(a){a.selected=!1})}),this.$element.val(c.id),this.$element.trigger("change")},b.prototype.unselect=function(a,b){var c=this;b.selected=!1,this.current(function(a){for(var d=[],e=0;e<a.length;e++){var f=a[e];b.id!=f.id&&d.push(f.id)}c.$element.val(d.join(c._valueSeparator)),c.$element.trigger("change")})},b.prototype.query=function(a,b,c){for(var d=[],e=0;e<this._currentData.length;e++){var f=this._currentData[e],g=this.matches(b,f);null!==g&&d.push(g)}c({results:d})},b.prototype.addOptions=function(b,c){var d=a.map(c,function(b){return a.data(b[0],"data")});this._currentData.push.apply(this._currentData,d)},b}),b.define("select2/compat/matcher",["jquery"],function(a){return function(b){return function(c,d){var e=a.extend(!0,{},d);if(null==c.term||""===a.trim(c.term))return e;if(d.children){for(var f=d.children.length-1;0<=f;f--){var g=d.children[f];b(c.term,g.text,g)||e.children.splice(f,1)}if(0<e.children.length)return e}return b(c.term,d.text,d)?e:null}}}),b.define("select2/compat/query",[],function(){function a(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),a.call(this,b,c)}return a.prototype.query=function(a,b,c){b.callback=c,this.options.get("query").call(null,b)},a}),b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}return a.prototype.position=function(a,b,c){c.find(".dropdown-wrapper").append(b),b.addClass("select2-dropdown--below"),c.addClass("select2-container--below")},a}),b.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(a){a.stopPropagation()})},a}),b.define("select2/selection/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(a){a.stopPropagation()})},a}),c=function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if((b=a.event.fix(g)).type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(j=m=-1*g.deltaY),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||n<f)&&(d(g,f=n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[1<=j?"floor":"ceil"](j/f),l=Math[1<=l?"floor":"ceil"](l/f),m=Math[1<=m?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})},"function"==typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(a),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"!=typeof b)throw new Error("Invalid arguments for Select2: "+b);var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),-1<a.inArray(b,e)?this:d}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c}),function(dndLists){var MIME_TYPE="application/x-dnd",ALL_EFFECTS=["move","copy","link"];function filterEffects(effects,effectAllowed){return"all"==effectAllowed?effects:effects.filter(function(effect){return-1!=effectAllowed.toLowerCase().indexOf(effect)})}dndLists.directive("dndDraggable",["$parse","$timeout",function($parse,$timeout){return function(scope,element,attr){element.attr("draggable","true"),attr.dndDisableIf&&scope.$watch(attr.dndDisableIf,function(disabled){element.attr("draggable",!disabled)}),element.on("dragstart",function(event){if(event=event.originalEvent||event,"false"==element.attr("draggable"))return!0;dndState.isDragging=!0,dndState.itemType=attr.dndType&&scope.$eval(attr.dndType).toLowerCase(),dndState.dropEffect="none",dndState.effectAllowed=attr.dndEffectAllowed||ALL_EFFECTS[0],event.dataTransfer.effectAllowed=dndState.effectAllowed;var item=scope.$eval(attr.dndDraggable),mimeType=MIME_TYPE+(dndState.itemType?"-"+dndState.itemType:"");try{event.dataTransfer.setData(mimeType,angular.toJson(item))}catch(e){var data=angular.toJson({item:item,type:dndState.itemType});try{event.dataTransfer.setData("application/json",data)}catch(e){var effectsAllowed=filterEffects(ALL_EFFECTS,dndState.effectAllowed);event.dataTransfer.effectAllowed=effectsAllowed[0],event.dataTransfer.setData("Text",data)}}if(element.addClass("dndDragging"),$timeout(function(){element.addClass("dndDraggingSource")},0),event._dndHandle&&event.dataTransfer.setDragImage&&event.dataTransfer.setDragImage(element[0],0,0),$parse(attr.dndDragstart)(scope,{event:event}),attr.dndCallback){var callback=$parse(attr.dndCallback);dndState.callback=function(params){return callback(scope,params||{})}}event.stopPropagation()}),element.on("dragend",function(event){event=event.originalEvent||event,scope.$apply(function(){var dropEffect=dndState.dropEffect;$parse(attr[{copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"}[dropEffect]])(scope,{event:event}),$parse(attr.dndDragend)(scope,{event:event,dropEffect:dropEffect})}),dndState.isDragging=!1,dndState.callback=void 0,element.removeClass("dndDragging"),element.removeClass("dndDraggingSource"),event.stopPropagation(),$timeout(function(){element.removeClass("dndDraggingSource")},0)}),element.on("click",function(event){attr.dndSelected&&(event=event.originalEvent||event,scope.$apply(function(){$parse(attr.dndSelected)(scope,{event:event})}),event.stopPropagation())}),element.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),dndLists.directive("dndList",["$parse",function($parse){return function(scope,element,attr){var placeholder=function(){var placeholder;return angular.forEach(element.children(),function(childNode){var child=angular.element(childNode);child.hasClass("dndPlaceholder")&&(placeholder=child)}),placeholder||angular.element("<li class='dndPlaceholder'></li>")}();placeholder.remove();var placeholderNode=placeholder[0],listNode=element[0],listSettings={};function getMimeType(types){if(!types)return"Text";for(var i=0;i<types.length;i++)if("Text"==types[i]||"application/json"==types[i]||types[i].substr(0,MIME_TYPE.length)==MIME_TYPE)return types[i];return null}function getItemType(mimeType){return dndState.isDragging?dndState.itemType||void 0:"Text"==mimeType||"application/json"==mimeType?null:mimeType&&mimeType.substr(MIME_TYPE.length+1)||void 0}function isDropAllowed(itemType){return!listSettings.disabled&&(!(!listSettings.externalSources&&!dndState.isDragging)&&(!listSettings.allowedTypes||null===itemType||itemType&&-1!=listSettings.allowedTypes.indexOf(itemType)))}function getDropEffect(event,ignoreDataTransfer){var effects=ALL_EFFECTS;return ignoreDataTransfer||(effects=filterEffects(effects,event.dataTransfer.effectAllowed)),dndState.isDragging&&(effects=filterEffects(effects,dndState.effectAllowed)),attr.dndEffectAllowed&&(effects=filterEffects(effects,attr.dndEffectAllowed)),effects.length?event.ctrlKey&&-1!=effects.indexOf("copy")?"copy":event.altKey&&-1!=effects.indexOf("link")?"link":effects[0]:"none"}function stopDragover(){return placeholder.remove(),element.removeClass("dndDragover"),!0}function invokeCallback(expression,event,dropEffect,itemType,index,item){return $parse(expression)(scope,{callback:dndState.callback,dropEffect:dropEffect,event:event,external:!dndState.isDragging,index:void 0!==index?index:getPlaceholderIndex(),item:item||void 0,type:itemType})}function getPlaceholderIndex(){return Array.prototype.indexOf.call(listNode.children,placeholderNode)}element.on("dragenter",function(event){event=event.originalEvent||event;var types=attr.dndAllowedTypes&&scope.$eval(attr.dndAllowedTypes);listSettings={allowedTypes:angular.isArray(types)&&types.join("|").toLowerCase().split("|"),disabled:attr.dndDisableIf&&scope.$eval(attr.dndDisableIf),externalSources:attr.dndExternalSources&&scope.$eval(attr.dndExternalSources),horizontal:attr.dndHorizontalList&&scope.$eval(attr.dndHorizontalList)};var mimeType=getMimeType(event.dataTransfer.types);if(!mimeType||!isDropAllowed(getItemType(mimeType)))return!0;event.preventDefault()}),element.on("dragover",function(event){var mimeType=getMimeType((event=event.originalEvent||event).dataTransfer.types),itemType=getItemType(mimeType);if(!mimeType||!isDropAllowed(itemType))return!0;if(placeholderNode.parentNode!=listNode&&element.append(placeholder),event.target!=listNode){for(var listItemNode=event.target;listItemNode.parentNode!=listNode&&listItemNode.parentNode;)listItemNode=listItemNode.parentNode;if(listItemNode.parentNode==listNode&&listItemNode!=placeholderNode){var rect=listItemNode.getBoundingClientRect();if(listSettings.horizontal){var isFirstHalf=event.clientX<rect.left+rect.width/2;isFirstHalf=event.clientX<rect.left+10,window.lastpageX<event.pageX&&(window.direction=0),(window.lastpageX>event.pageX||1===window.direction)&&(window.direction=1,isFirstHalf=event.clientX<rect.left+rect.width-10),window.lastpageX=event.pageX}else isFirstHalf=event.clientY<rect.top+rect.height/2;listNode.insertBefore(placeholderNode,isFirstHalf?listItemNode:listItemNode.nextSibling)}}else{var listItemNodeChildren=(listItemNode=event.target).children,paras=document.getElementsByClassName("dndPlaceholder");for(paras[0].parentNode.removeChild(paras[0]),listItemNode.appendChild(placeholderNode),i=0;i<listItemNodeChildren.length;i++)if(!(listItemNodeChildren[i].classList.contains("dndPlaceholder")||listItemNodeChildren[i].classList.contains("dndDraggingCloneSource")||listItemNodeChildren[i].classList.contains("dndDraggingSource"))){rect=listItemNodeChildren[i].getBoundingClientRect();if(listSettings.horizontal){if(event.clientX<rect.left){listItemNode.insertBefore(placeholderNode,listItemNodeChildren[i]);break}}else if(event.clientY<rect.top){listItemNode.insertBefore(placeholderNode,listItemNodeChildren[i]);break}}}var ignoreDataTransfer="Text"==mimeType,dropEffect=getDropEffect(event,ignoreDataTransfer);return"none"==dropEffect?stopDragover():attr.dndDragover&&!invokeCallback(attr.dndDragover,event,dropEffect,itemType)?stopDragover():(event.preventDefault(),ignoreDataTransfer||(event.dataTransfer.dropEffect=dropEffect),element.addClass("dndDragover"),event.stopPropagation(),!1)}),element.on("drop",function(event){var mimeType=getMimeType((event=event.originalEvent||event).dataTransfer.types),itemType=getItemType(mimeType);if(!mimeType||!isDropAllowed(itemType))return!0;event.preventDefault();try{var data=JSON.parse(event.dataTransfer.getData(mimeType))}catch(e){return stopDragover()}if(("Text"==mimeType||"application/json"==mimeType)&&(itemType=data.type||void 0,data=data.item,!isDropAllowed(itemType)))return stopDragover();var ignoreDataTransfer="Text"==mimeType,dropEffect=getDropEffect(event,ignoreDataTransfer);if("none"==dropEffect)return stopDragover();var index=getPlaceholderIndex();return attr.dndDrop&&!(data=invokeCallback(attr.dndDrop,event,dropEffect,itemType,index,data))?stopDragover():(dndState.dropEffect=dropEffect,ignoreDataTransfer||(event.dataTransfer.dropEffect=dropEffect),!0!==data&&scope.$apply(function(){scope.$eval(attr.dndList).splice(index,0,data)}),invokeCallback(attr.dndInserted,event,dropEffect,itemType,index,data),stopDragover(),event.stopPropagation(),!1)}),element.on("dragleave",function(event){event=event.originalEvent||event;var newTarget=document.elementFromPoint(event.clientX,event.clientY);listNode.contains(newTarget)&&!event._dndPhShown?event._dndPhShown=!0:stopDragover()})}}]),dndLists.directive("dndNodrag",function(){return function(scope,element,attr){element.attr("draggable","true"),element.on("dragstart",function(event){(event=event.originalEvent||event)._dndHandle||(event.dataTransfer.types&&event.dataTransfer.types.length||event.preventDefault(),event.stopPropagation())}),element.on("dragend",function(event){(event=event.originalEvent||event)._dndHandle||event.stopPropagation()})}}),dndLists.directive("dndHandle",function(){return function(scope,element,attr){element.attr("draggable","true"),element.on("dragstart dragend",function(event){(event=event.originalEvent||event)._dndHandle=!0})}});var dndState={}}(angular.module("dndLists",[])),function(root){function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}function Diff(kind,path){Object.defineProperty(this,"kind",{value:kind,enumerable:!0}),path&&path.length&&Object.defineProperty(this,"path",{value:path,enumerable:!0})}function DiffEdit(path,origin,value){DiffEdit.super_.call(this,"EDIT",path),Object.defineProperty(this,"lhs",{value:origin,enumerable:!0}),Object.defineProperty(this,"rhs",{value:value,enumerable:!0})}function DiffNew(path,value){DiffNew.super_.call(this,"NEW",path),Object.defineProperty(this,"rhs",{value:value,enumerable:!0})}function DiffDeleted(path,value){DiffDeleted.super_.call(this,"DELETE",path),Object.defineProperty(this,"lhs",{value:value,enumerable:!0})}function DiffArray(path,index,item){DiffArray.super_.call(this,"ARRAY",path),Object.defineProperty(this,"index",{value:index,enumerable:!0}),Object.defineProperty(this,"item",{value:item,enumerable:!0})}function realTypeOf(subject){var type=typeof subject;return"object"!==type?type:subject===Math?"math":null===subject?"null":Array.isArray(subject)?"array":"[object Date]"===Object.prototype.toString.call(subject)?"date":"function"==typeof subject.toString&&/^\/.*\//.test(subject.toString())?"regexp":"object"}function hashThisString(string){var hash=0;if(0===string.length)return hash;for(var i=0;i<string.length;i++){hash=(hash<<5)-hash+string.charCodeAt(i),hash&=hash}return hash}function getOrderIndependentHash(object){var accum=0,type=realTypeOf(object);if("array"===type)return object.forEach(function(item){accum+=getOrderIndependentHash(item)}),accum+hashThisString("[type: array, hash: "+accum+"]");if("object"!==type)return accum+hashThisString("[ type: "+type+" ; value: "+object+"]");for(var key in object)if(object.hasOwnProperty(key)){var keyValueString="[ type: object, key: "+key+", value hash: "+getOrderIndependentHash(object[key])+"]";accum+=hashThisString(keyValueString)}return accum}function observableDiff(lhs,rhs,observer,prefilter,orderIndependent){var changes=[];if(function deepDiff(lhs,rhs,changes,prefilter,path,key,stack,orderIndependent){changes=changes||[],stack=stack||[];var currentPath=(path=path||[]).slice(0);if(null!=key){if(prefilter){if("function"==typeof prefilter&&prefilter(currentPath,key))return;if("object"==typeof prefilter){if(prefilter.prefilter&&prefilter.prefilter(currentPath,key))return;if(prefilter.normalize){var alt=prefilter.normalize(currentPath,key,lhs,rhs);alt&&(lhs=alt[0],rhs=alt[1])}}}currentPath.push(key)}"regexp"===realTypeOf(lhs)&&"regexp"===realTypeOf(rhs)&&(lhs=lhs.toString(),rhs=rhs.toString());var i,j,k,other,ltype=typeof lhs,rtype=typeof rhs,ldefined="undefined"!==ltype||stack&&0<stack.length&&stack[stack.length-1].lhs&&Object.getOwnPropertyDescriptor(stack[stack.length-1].lhs,key),rdefined="undefined"!==rtype||stack&&0<stack.length&&stack[stack.length-1].rhs&&Object.getOwnPropertyDescriptor(stack[stack.length-1].rhs,key);if(!ldefined&&rdefined)changes.push(new DiffNew(currentPath,rhs));else if(!rdefined&&ldefined)changes.push(new DiffDeleted(currentPath,lhs));else if(realTypeOf(lhs)!==realTypeOf(rhs))changes.push(new DiffEdit(currentPath,lhs,rhs));else if("date"===realTypeOf(lhs)&&lhs-rhs!=0)changes.push(new DiffEdit(currentPath,lhs,rhs));else if("object"===ltype&&null!==lhs&&null!==rhs){for(i=stack.length-1;-1<i;--i)if(stack[i].lhs===lhs){other=!0;break}if(other)lhs!==rhs&&changes.push(new DiffEdit(currentPath,lhs,rhs));else{if(stack.push({lhs:lhs,rhs:rhs}),Array.isArray(lhs)){for(orderIndependent&&(lhs.sort(function(a,b){return getOrderIndependentHash(a)-getOrderIndependentHash(b)}),rhs.sort(function(a,b){return getOrderIndependentHash(a)-getOrderIndependentHash(b)})),i=rhs.length-1,j=lhs.length-1;j<i;)changes.push(new DiffArray(currentPath,i,new DiffNew(void 0,rhs[i--])));for(;i<j;)changes.push(new DiffArray(currentPath,j,new DiffDeleted(void 0,lhs[j--])));for(;0<=i;--i)deepDiff(lhs[i],rhs[i],changes,prefilter,currentPath,i,stack,orderIndependent)}else{var akeys=Object.keys(lhs),pkeys=Object.keys(rhs);for(i=0;i<akeys.length;++i)k=akeys[i],0<=(other=pkeys.indexOf(k))?(deepDiff(lhs[k],rhs[k],changes,prefilter,currentPath,k,stack,orderIndependent),pkeys[other]=null):deepDiff(lhs[k],void 0,changes,prefilter,currentPath,k,stack,orderIndependent);for(i=0;i<pkeys.length;++i)(k=pkeys[i])&&deepDiff(void 0,rhs[k],changes,prefilter,currentPath,k,stack,orderIndependent)}stack.length=stack.length-1}}else lhs!==rhs&&("number"===ltype&&isNaN(lhs)&&isNaN(rhs)||changes.push(new DiffEdit(currentPath,lhs,rhs)))}(lhs,rhs,changes,prefilter,null,null,null,orderIndependent),observer)for(var i=0;i<changes.length;++i)observer(changes[i]);return changes}function accumulateDiff(lhs,rhs,prefilter,accum){var changes=observableDiff(lhs,rhs,accum?function(difference){difference&&accum.push(difference)}:void 0,prefilter);return accum||(changes.length?changes:void 0)}inherits(DiffEdit,Diff),inherits(DiffNew,Diff),inherits(DiffDeleted,Diff),inherits(DiffArray,Diff),Object.defineProperties(accumulateDiff,{diff:{value:accumulateDiff,enumerable:!0},observableDiff:{value:observableDiff,enumerable:!0},orderIndepHash:{value:getOrderIndependentHash,enumerable:!0}}),root.DeepDiff=accumulateDiff}(this),function(root){var toStr=Object.prototype.toString;function hasOwnProperty(obj,prop){return null!=obj&&Object.prototype.hasOwnProperty.call(obj,prop)}function isEmpty(value){if(!value)return!0;if(isArray(value)&&0===value.length)return!0;if("string"==typeof value)return!1;for(var i in value)if(hasOwnProperty(value,i))return!1;return!0}function toString(type){return toStr.call(type)}var isArray=Array.isArray||function(obj){return"[object Array]"===toStr.call(obj)};function getKey(key){var intKey=parseInt(key);return intKey.toString()===key?intKey:key}function factory(options){options=options||{};var objectPath=function(obj){return Object.keys(objectPath).reduce(function(proxy,prop){return"create"===prop||"function"==typeof objectPath[prop]&&(proxy[prop]=objectPath[prop].bind(objectPath,obj)),proxy},{})};function hasShallowProperty(obj,prop){return options.includeInheritedProps||"number"==typeof prop&&Array.isArray(obj)||hasOwnProperty(obj,prop)}function getShallowProperty(obj,prop){if(hasShallowProperty(obj,prop))return obj[prop]}function set(obj,path,value,doNotReplace){if("number"==typeof path&&(path=[path]),!path||0===path.length)return obj;if("string"==typeof path)return set(obj,path.split(".").map(getKey),value,doNotReplace);var currentPath=path[0],currentValue=getShallowProperty(obj,currentPath);return 1===path.length?(void 0!==currentValue&&doNotReplace||(obj[currentPath]=value),currentValue):(void 0===currentValue&&("number"==typeof path[1]?obj[currentPath]=[]:obj[currentPath]={}),set(obj[currentPath],path.slice(1),value,doNotReplace))}return objectPath.has=function(obj,path){if("number"==typeof path?path=[path]:"string"==typeof path&&(path=path.split(".")),!path||0===path.length)return!!obj;for(var i=0;i<path.length;i++){var j=getKey(path[i]);if(!("number"==typeof j&&isArray(obj)&&j<obj.length||(options.includeInheritedProps?j in Object(obj):hasOwnProperty(obj,j))))return!1;obj=obj[j]}return!0},objectPath.ensureExists=function(obj,path,value){return set(obj,path,value,!0)},objectPath.set=function(obj,path,value,doNotReplace){return set(obj,path,value,doNotReplace)},objectPath.insert=function(obj,path,value,at){var arr=objectPath.get(obj,path);at=~~at,isArray(arr)||(arr=[],objectPath.set(obj,path,arr)),arr.splice(at,0,value)},objectPath.empty=function(obj,path){var value,i;if(!isEmpty(path)&&(null!=obj&&(value=objectPath.get(obj,path)))){if("string"==typeof value)return objectPath.set(obj,path,"");if(function(obj){return"boolean"==typeof obj||"[object Boolean]"===toString(obj)}(value))return objectPath.set(obj,path,!1);if("number"==typeof value)return objectPath.set(obj,path,0);if(isArray(value))value.length=0;else{if(!function(obj){return"object"==typeof obj&&"[object Object]"===toString(obj)}(value))return objectPath.set(obj,path,null);for(i in value)hasShallowProperty(value,i)&&delete value[i]}}},objectPath.push=function(obj,path){var arr=objectPath.get(obj,path);isArray(arr)||(arr=[],objectPath.set(obj,path,arr)),arr.push.apply(arr,Array.prototype.slice.call(arguments,2))},objectPath.coalesce=function(obj,paths,defaultValue){for(var value,i=0,len=paths.length;i<len;i++)if(void 0!==(value=objectPath.get(obj,paths[i])))return value;return defaultValue},objectPath.get=function(obj,path,defaultValue){if("number"==typeof path&&(path=[path]),!path||0===path.length)return obj;if(null==obj)return defaultValue;if("string"==typeof path)return objectPath.get(obj,path.split("."),defaultValue);var currentPath=getKey(path[0]),nextObj=getShallowProperty(obj,currentPath);return void 0===nextObj?defaultValue:1===path.length?nextObj:objectPath.get(obj[currentPath],path.slice(1),defaultValue)},objectPath.del=function(obj,path){if("number"==typeof path&&(path=[path]),null==obj)return obj;if(isEmpty(path))return obj;if("string"==typeof path)return objectPath.del(obj,path.split("."));var currentPath=getKey(path[0]);return hasShallowProperty(obj,currentPath)?1!==path.length?objectPath.del(obj[currentPath],path.slice(1)):(isArray(obj)?obj.splice(currentPath,1):delete obj[currentPath],obj):obj},objectPath}var mod=factory();mod.create=factory,mod.withInheritedProps=factory({includeInheritedProps:!0}),root.objectPath=mod}(this),function(){"use strict";window.UndoManager=function(){var changeCallback,doCallback,commands=[],index=-1,limit=0,isExecuting=!1,execute=function(command,action){return command&&"function"==typeof command[action]&&(isExecuting=!0,command[action](),isExecuting=!1),this};return{add:function(command){return isExecuting||(commands.splice(index+1,commands.length-index),commands.push(command),limit&&commands.length>limit&&(commands=commands.slice(-limit)),index=commands.length-1,changeCallback&&changeCallback()),this},setChangeCallback:function(callback){changeCallback=callback},setDoCallback:function(callback){doCallback=callback},do:function(doIndex){if(doIndex!==index&&commands.length&&doIndex<commands.length&&"function"==typeof doCallback){var command=commands[doIndex];command&&(doCallback.call(this,command),index=doIndex,changeCallback&&changeCallback())}return this},undo:function(){var command=commands[index];return command&&(execute(command,"undo"),index-=1,changeCallback&&changeCallback()),this},redo:function(){var command=commands[index+1];return command&&(execute(command,"redo"),index+=1,changeCallback&&changeCallback()),this},clear:function(){var prev_size=commands.length;commands=[],index=-1,changeCallback&&0<prev_size&&changeCallback()},hasUndo:function(){return-1!==index},hasRedo:function(){return index<commands.length-1},getCommands:function(){return commands},getIndex:function(){return index},setIndex:function(i){index=i,changeCallback&&changeCallback()},setLimit:function(l){limit=l}}}}();
CTFrontendBuilder.controller("ComponentsTree",["$scope","$parentScope","$timeout","$interval",function(l,p,s,e){l.componentsTreeExample={name:"root",children:[{id:1,name:"section",options:{ct_parent:0,ct_id:1,original:{background:"#515151"},hover:{background:"#cccccc"}},children:[{id:2,name:"button",options:{ct_parent:1,ct_id:2,original:{value:"Click Me!"}}}]},{id:3,name:"section",options:{ct_parent:0,ct_id:1,original:{background:"#515151"},hover:{background:"#333333"},media:[{size:"748px",original:{background:"#929292"}}]},children:[{id:4,name:"headline",options:{ct_parent:3,ct_id:4,original:{tag:"h3",text:"I am a headline!"}}}]}]},l.componentsTree=[{id:0,name:"root",depth:0}],l.findComponentByName=function(e,n,t,o){var r;if(isBreak=!1,angular.forEach(e,function(e){isBreak||(e.name==n?(r=t(e.id,e,o),isBreak=!0):e.children&&(r=l.findComponentByName(e.children,n,t,o)))}),void 0!==r)return r},l.findComponentItem=function(e,n,t,o){var r;return l.log,isBreak=!1,0==n?void 0!==(r=t(n,l.componentsTree,o))&&r:(angular.forEach(e,function(e){isBreak||(e.id==n?(r=t(n,e,o),isBreak=!0):e.children&&(r=l.findComponentItem(e.children,n,t,o)))}),void 0!==r?r:void 0)},l.hasParent=function(e){return 0<l.findParentComponentItem(l.componentsTree,e,function(e){return e})},l.findParentComponentItem=function(n,t,o,r){var a;if(l.log,isBreak=!1,angular.forEach(n.children,function(e){isBreak||(e.id==t?(a=o(e.options.ct_parent,n,t,r),isBreak=!0):e.children&&(a=l.findParentComponentItem(e,t,o,r)))}),void 0!==a)return a},l.removeComponentFromTree=function(e,t,o,n){l.log&&console.log("removeComponentFromTree()",o),n&&"ct_span"==n.removeName&&"ct_link"==n.parentName&&(t.options.ct_content=t.options.ct_content.replace('<span id="ct-placeholder-'+n.parentId+'"></span>','<span id="ct-placeholder-'+n.removeId+'"></span>')),angular.forEach(t.children,function(e,n){e.id==o&&(t.children.splice(n,1),l.newComponentKey=n)}),0==t.children.length&&delete t.children,n&&"ct_span"==n.removeName&&"ct_link"==n.parentName&&l.rebuildDOM(t.id)},l.insertComponentToTree=function(e,n,t,o){l.log&&console.log("insertComponentToTree()",e,n,t),"object"!=typeof t&&(t=o);var r=l.getComponentById(e).attr("is-nestable");if(t.isBuiltIn&&"oxy_superbox"==n.name&&(r=!0),r||"ct_column"==t.name||"ct_span"==t.name||"ct_link"==t.name&&"ct_span"==t.currentName||"ct_div_block"==t.name&&"ct_new_columns"==n.name||"oxy_header_row"==t.name&&"oxy_header"==n.name||("oxy_header_left"==t.name||"oxy_header_center"==t.name||"oxy_header_right"==t.name)&&"oxy_header_row"==n.name){n.children||(n.children=[]);var a={id:t.id,name:t.name,options:{ct_id:t.id,ct_parent:e,selector:t.name.slice(3)+"-"+t.id+"-"+CtBuilderAjax.postId,original:{},nicename:iframeScope.calcDefaultComponentTitle(t)}};null==iframeScope.component.options[t.id]&&(iframeScope.component.options[t.id]={}),iframeScope.component.options[t.id].nicename=a.options.nicename,t.isShortcode&&(a.options.ct_shortcode="true"),t.isWidget&&(a.options.ct_widget="true"),t.isData&&(a.options.ct_data="true"),t.isSidebar&&(a.options.ct_sidebar="true"),t.isNavMenu&&(a.options.ct_nav_menu="true"),t.isBuiltIn&&(a.options.oxy_builtin="true"),"ct_link"==t.name&&"ct_span"==t.currentName&&(n.options.ct_content=n.options.ct_content.replace('<span id="ct-placeholder-'+t.currentId+'"></span>','<span id="ct-placeholder-'+t.id+'"></span>')),"ct_columns"==t.name&&(l.columns[t.id]=1);var i=l.calculateDepth(t,n);if(i&&(a.depth=i),t.index)for(e in l.idToInsert=t.index,n.children){"true"==n.children[e].options.oxy_builtin&&l.idToInsert++}if(0<=l.idToInsert&&!1!==l.idToInsert?(n.children.splice(l.idToInsert,0,a),l.idToInsert=-1):n.children.push(a),"ct_div_block"==t.name&&"ct_new_columns"==n.name&&l.updateColumnsOnAdd){var c=1<n.children.length?n.children.length-1:100,d=100/c;l.setOptionModel("width-unit","%",t.id,t.name);var p=!1;if(angular.forEach(n.children,function(e){var n={};l.findComponentItem(l.componentsTree.children,e.id,l.getComponentActiveSelector,n),n.activeselector&&(p=!0)}),p)return!1;angular.forEach(n.children,function(e){var n=100/c;n=(n/((100+d)/100)).toFixed(2),l.setOptionModel("width",n,e.id,"ct_div_block")}),l.checkColumnsWidthSum(n.children,"ct_div_block")}}else l.findParentComponentItem(l.componentsTree,e,l.insertComponentToTree,t)},l.insertComponentToParent=function(e,n,t){l.findComponentItem(l.componentsTree.children,n.options.ct_parent,l.insertComponentToTree,t)},l.insertComponentToChild=function(e,n,t){n.children&&0<n.children.length&&"ct_div_block"==n.children[0].name&&l.findComponentItem(l.componentsTree.children,n.children[0].id,l.insertComponentToTree,t)},l.insertComponentToGrandParent=function(e,n,t){l.findParentComponentItem(l.componentsTree,n.options.ct_parent,l.insertComponentToTree,t)},l.getComponentItem=function(e,n,t){return n},l.pasteComponentToTree=function(e,n,t){l.log&&console.log("pasteComponentToTree()",e,n,t,l.componentBuffer),l.componentBuffer.options.nicename=l.componentBuffer.options.nicename.includes("#")?l.calcDefaultComponentTitle(l.componentBuffer):l.componentBuffer.options.nicename;try{var o=l.getComponentById(l.componentBuffer.id);if(o instanceof jQuery&&o.hasClass("oxy-tabs-contents")?tabsContents=o:tabsContents=jQuery(o).find(".oxy-tabs-contents"),tabsContents.length)var r=s(function(){var e=tabsContents.attr("data-oxy-tabs-wrapper"),n=jQuery("#"+e),t=n.attr("data-oxy-tabs-active-tab-class");n.children("."+t).trigger("click"),s.cancel(r)},10,!1);if(jQuery("body").hasClass("ct_inner")&&(0===parseInt(e)||1e5<parseInt(e))&&0<jQuery(".ct-inner-content.ct-component").length&&(e=parseInt(jQuery(".ct-inner-content.ct-component").attr("ng-attr-component-id")),n=l.findComponentItem(l.componentsTree.children,e,l.getComponentItem),l.componentBuffer.options.ct_parent=parseInt(e)),"ct_inner_content"==n.name&&CtBuilderAjax.query&&CtBuilderAjax.query.post_type&&"ct_template"===CtBuilderAjax.query.post_type&&!jQuery("body").hasClass("ct_inner")){var a=n;e=parseInt(n.options.ct_parent),n=l.findComponentItem(l.componentsTree.children,e,l.getComponentItem),l.componentBuffer.options.ct_parent=parseInt(e),l.newComponentKey=_.indexOf(n.children,a)+1}if(!l.componentBuffer)return!1;if("ct_columns"==n.name)if(12==(p=n.children.length))return alert("Max number of columns is 12"),l.componentBuffer=!1;l.updateComponentDepth(l.componentBuffer,n),n.children?(0<=l.newComponentKey?n.children.splice(l.newComponentKey,0,l.componentBuffer):n.children.push(l.componentBuffer),l.newComponentKey++):(n.children=[],n.children.push(l.componentBuffer),l.newComponentKey=1);var i="ct_column";if("ct_div_block"==l.componentBuffer.name)i="ct_div_block";if(("ct_column"==l.componentBuffer.name||"ct_div_block"==l.componentBuffer.name&&"ct_new_columns"==n.name)&&!l.reorderSameParent){var c=!1;if(angular.forEach(n.children,function(e){var n={};l.findComponentItem(l.componentsTree.children,e.id,l.getComponentActiveSelector,n),n.activeselector&&(c=!0)}),c)return!1;var d=0,p=1<n.children.length?n.children.length-1:100;"ct_div_block"!=l.componentBuffer.name||l.componentBuffer.options.original&&l.componentBuffer.options.original.width?d=parseFloat(l.componentBuffer.options.original.width):(d=100/p,l.setOptionModel("width-unit","%",l.componentBuffer.id,l.componentBuffer.name)),angular.forEach(n.children,function(e){if("ct_div_block"!=l.componentBuffer.name||e.options.original&&e.options.original.width)n=parseFloat(e.options.original.width);else var n=100/p;n=(n/((100+d)/100)).toFixed(2),l.setOptionModel("width",n,e.id,i)}),l.checkColumnsWidthSum(n.children,i)}l.unsavedChanges()}catch(e){console.error(e);var m=e.toString();r=s(function(){l.showErrorModal(0,"There was an error. DO NOT SAVE THE PAGE. Please copy below error message and send to our support team.",m),l.$apply(),s.cancel(r)},10,!1)}},l.calculateDepth=function(e,n){return n.depth||"root"!=n.name||(n.depth=0),"ct_column"==e.name&&"ct_columns"==n.name?depth=parseInt(n.depth):"oxy_header_row"==e.name||"oxy_header_left"==e.name||"oxy_header_center"==e.name||"oxy_header_right"==e.name?depth=parseInt(n.depth):"ct_div_block"!=e.name&&"ct_nestable_shortcode"!=e.name||"ct_column"!=n.name&&"ct_new_columns"!=n.name?"ct_link"==e.name&&"ct_column"==n.name?depth=parseInt(n.depth):"ct_section"==e.name&&"ct_column"==n.name?depth=parseInt(n.depth):"ct_slide"==e.name?depth=parseInt(n.depth):"oxy_tab"==e.name&&"oxy_tabs"==n.name?depth=parseInt(n.depth):"oxy_tab_content"==e.name&&"oxy_tabs_contents"==n.name?depth=parseInt(n.depth):depth=parseInt(n.depth)+1:depth=parseInt(n.depth),depth},l.updateComponentDepth=function(n,e){var t=l.calculateDepth(n,e);t&&(n.depth=t),n.children&&angular.forEach(n.children,function(e){l.updateComponentDepth(e,n)})},l.updateNewComponentIds=function(n,e){if(l.log&&console.log("updateNewComponentIds()",n,e),n.options.selector=n.name.slice(3)+"-"+l.component.id+"-"+CtBuilderAjax.postId,e.options&&e.options.ct_content&&(e.options.ct_content=e.options.ct_content.replace('<span id="ct-placeholder-'+n.id+'"></span>','<span id="ct-placeholder-temporary-'+l.component.id+'"></span>')),n.id=l.component.id,n.options.ct_id=l.component.id,n.options.ct_parent=parseInt(e.id),n.options.nicename||(n.options.nicename=iframeScope.calcDefaultComponentTitle(n)),n.children&&angular.forEach(n.children,function(e){l.component.id++,iframeScope.activeSelectors[l.component.id]=iframeScope.activeSelectors[e.id],l.updateNewComponentIds(e,n)}),n.options&&n.options.ct_content&&(n.options.ct_content=n.options.ct_content.replace(new RegExp('<span id="ct-placeholder-[0-9]+"></span>',"g"),""),n.options.ct_content=n.options.ct_content.replace(new RegExp("ct-placeholder-temporary-","g"),"ct-placeholder-")),"oxy_tabs"!=n.name||l.tabsContentsItemToUpdate||(l.tabsItemToUpdate=n),"oxy_tabs_contents"==n.name&&l.tabsItemToUpdate){var t=n.options.selector,o=l.tabsItemToUpdate.options.ct_id;l.tabsItemToUpdate.options.original.tabs_contents_wrapper=t;var r=s(function(){l.rebuildDOM(o),s.cancel(r)},0,!1);l.tabsItemToUpdate=!1}else"oxy_tabs_contents"!=n.name||l.tabsItemToUpdate||(l.tabsContentsItemToUpdate=n);if("oxy_tabs"==n.name&&l.tabsContentsItemToUpdate){t=l.tabsContentsItemToUpdate.options.selector;n.options.original.tabs_contents_wrapper=t,l.tabsContentsItemToUpdate=!1}},l.copyComponentTreeNode=function(e,t,o){angular.forEach(t.children,function(e,n){if(e.id==o){if("ct_column"==e.name&&!l.reorderSameParent&&(columnsNumber=t.children.length,12==columnsNumber))return alert("Max number of columns is 12"),l.componentBuffer=!1;l.componentBuffer=angular.copy(e),l.updateNewComponentIds(l.componentBuffer,t),l.newComponentKey=n+1}})},l.cutComponentFromTree=function(e,o,r){l.log&&console.log("cutComponentFromTree()",o,r),l.idToInsert=-1,angular.forEach(o.children,function(e,n){if(e.id==r){var t=!1;"ct_column"!=e.name&&("ct_div_block"!=e.name||"ct_new_columns"!=o.name)||l.reorderSameParent||(newColumnsNumber=o.children.length-1,freeSpace=parseFloat(e.options.original.width),angular.forEach(o.children,function(e){var n={};l.findComponentItem(l.componentsTree.children,e.id,l.getComponentActiveSelector,n),n.activeselector&&(t=!0)}),t||angular.forEach(o.children,function(e){e.id!=r&&(columnWidth=parseFloat(e.options.original.width),columnWidth=(columnWidth+freeSpace/newColumnsNumber).toFixed(2),l.setOptionModel("width",columnWidth,e.id,"ct_column"))})),e.options.ct_parent=parseInt(l.componentInsertId),l.componentBuffer=angular.copy(e),o.children.splice(n,1),0==o.children.length&&delete o.children,"ct_column"!=e.name&&("ct_div_block"!=e.name||"ct_new_columns"!=o.name)||l.reorderSameParent||t||l.checkColumnsWidthSum(o.children,"ct_div_block"),l.idToInsert=n}})},l.updateComponentParentId=function(e,n){l.log&&console.log("updateComponentParentId()",e),n.options.ct_parent=parseInt(l.componentInsertId)},l.componentsReorderTree=function(e,n,t,o,r){n===t&&o<r&&r--,l.componentsReorder(angular.element(e),r,n,t)},l.componentsReorder=function(e,n,t,o,r,a){l.log&&console.log(e,n,t,o,r,a);try{var i=e[0].attributes["ng-attr-tree-id"]?"ng-attr-tree-id":"ng-attr-component-id",c=e[0].attributes[i].value,d=e.parent();jQuery("body").hasClass("ct_inner")&&(0===parseInt(o)||1e5<parseInt(o)||void 0===o)&&0<jQuery(".ct-inner-content.ct-component").length&&(o=parseInt(jQuery(".ct-inner-content.ct-component").attr("ng-attr-component-id"))),99999==o&&(o=a.attr("ng-attr-tree-actual-id"),n++),99999==t&&(t=r.attr("ng-attr-tree-actual-id")),l.componentInsertId=o,l.newComponentKey=n,l.reorderSameParent=t==o,l.findParentComponentItem(l.componentsTree,c,l.cutComponentFromTree),l.findComponentItem(l.componentsTree.children,l.componentInsertId,l.pasteComponentToTree),l.findComponentItem(l.componentsTree.children,c,l.updateComponentParentId);a=l.getComponentById(o),r=l.getComponentById(t);a&&a.hasClass("ct-slider")&&l.rebuildDOM(o),!l.reorderSameParent&&r&&r.hasClass("ct-slider")&&l.rebuildDOM(t),a&&a.hasClass("ct-new-columns")&&t==o?l.rebuildDOM(o):(a&&a.hasClass("ct-new-columns")&&l.rebuildDOM(o),l.rebuildDOM(c,!0)),l.rebuildDOMChangeParent(o),l.rebuildDOMChangeParent(t),!(d=l.findComponentItem(l.componentsTree.children,t,l.getComponentItem)).children&&l.isAJAXElement(d.name)&&l.rebuildDOM(t),(d=l.findComponentItem(l.componentsTree.children,o,l.getComponentItem)).children&&1===d.children.length&&l.isAJAXElement(d.name)&&l.rebuildDOM(o),l.cancelDeleteUndo()}catch(e){console.error(e);var p=e.toString();l.showErrorModal(0,"There was an error. DO NOT SAVE THE PAGE. Please copy below error message and send to our support team.",p),l.$apply()}},l.wrapWith=function(e){l.isSelectableEnabled&&l.isDOMNodesSelected?(l.wrapSelectedComponentWith(e),l.isDOMNodesSelected=!1):l.wrapComponentWith(e)},l.wrapComponentWith=function(e,n,t){void 0===n&&(n=l.component.active.id),void 0===t&&(t=l.component.active.parent.id),l.log&&console.log("wrapComponentWith()",e,n,t);var o=l.component.id;return newComponent={id:o,name:e,currentId:l.component.active.id,currentName:l.component.active.name},l.componentInsertId=newComponent.id,l.findParentComponentItem(l.componentsTree,n,l.cutComponentFromTree),l.removeComponentFromDOM(n),l.findComponentItem(l.componentsTree.children,t,l.insertComponentToTree,newComponent),l.findComponentItem(l.componentsTree.children,l.componentInsertId,l.pasteComponentToTree),l.findParentComponentItem(l.componentsTree,n,l.updateCurrentActiveParent),"ct_span"==newComponent.currentName?l.rebuildDOM(t):(l.rebuildDOM(newComponent.id),l.activateComponent(newComponent.id)),l.cancelDeleteUndo(),o},l.wrapSelectedComponentWith=function(e){var n=jQuery("#ct-dom-tree").find(".ct-selected-dom-node").first().parent().parent(),t=n.attr("ng-attr-tree-id"),o=n.children(".ct-dom-tree-node").has(".ct-selected-dom-node"),r=[];o.each(function(){r.push(jQuery(this).attr("ng-attr-tree-id"))}),newComponent={id:l.component.id,name:e,currentId:t},l.componentInsertId=newComponent.id,l.findComponentItem(l.componentsTree.children,t,l.insertComponentToTree,newComponent);for(var a,i=r.length-1;a=r[i],0<=i;i--)l.findParentComponentItem(l.componentsTree,a,l.cutComponentFromTree),l.removeComponentFromDOM(a),l.findComponentItem(l.componentsTree.children,l.componentInsertId,l.pasteComponentToTree);l.cancelDeleteUndo(),l.rebuildDOM(t)},l.removeActiveParent=function(){l.log&&console.log("removeActiveParent"),componentId=l.component.active.id,parentId=l.component.active.parent.id,component={removeId:l.component.active.id,removeName:l.component.active.name,parentId:l.component.active.parent.id,parentName:l.component.active.parent.name},l.findParentComponentItem(l.componentsTree,parentId,l.updateCurrentActiveParent),l.componentInsertId=l.component.active.parent.id,l.findParentComponentItem(l.componentsTree,componentId,l.cutComponentFromTree),l.removeComponentFromDOM(componentId),l.findParentComponentItem(l.componentsTree,parentId,l.removeComponentFromTree,component),l.removeComponentFromDOM(parentId),l.findComponentItem(l.componentsTree.children,l.componentInsertId,l.pasteComponentToTree),l.findParentComponentItem(l.componentsTree,componentId,l.updateCurrentActiveParent),l.cancelDeleteUndo(),l.rebuildDOM(componentId)},l.builderInit=function(e){if(l.log&&console.log("builderInit()",e),!1!==(l.componentsTree=e)){l.loadComponentsTemplates(),l.loadElementsPresets(),parent.document.getElementById("oxygen-ui").style.display="block",l.outputCSSOptions(),p.current_post_meta_keys=e.meta_keys,l.allSaved(),angular.element("body").hasClass("ct_inner")&&(l.outerTemplateData.edit_link=e.outerTemplateData.edit_link,l.outerTemplateData.template_name=e.outerTemplateData.template_name,angular.element("body").on("click",function(e){if(0<angular.element(".ct-inner-content-workarea").length&&angular.element(e.target).closest(".ct-inner-content-workarea").length<1&&angular.element(e.target).closest("#oxygen-resize-box").length<1&&!jQuery(this).hasClass("oxy-dragging-resize-box")){if(void 0!==l.choosingSelectorEnabled&&1==l.choosingSelectorEnabled)return;l.activateComponent(0),l.component.active.name="ct_template",l.component.active.parent.id=0;var n=s(function(){l.$apply(),s.cancel(n)},0,!1)}}));var n=s(function(){p.adjustStickyHeaders(window),"undefined"!=typeof oxygenVSBInitToggleState&&oxygenVSBInitToggleState(),s.cancel(n)},0,!1);if(void 0!==oxygenVSBInitTabs)var t=s(function(){oxygenVSBInitTabs(),s.cancel(t)},500,!1),o=s(function(){oxygenVSBInitTabs(),s.cancel(o)},1e3,!1);if(l.fixShortcodes)var r=s(function(){l.fixShortcodesFound?l.showNoticeModal("<p>Broken shortcodes found and fixed. See console log.</p>"):l.showNoticeModal("<p>Broken shortcodes NOT found.</p>"),l.$apply(),s.cancel(r)},5e3,!1)}else alert("Error occured while trying to build a page.")},l.changePreview=function(e){if(p.oxygenUIElement.hasClass("oxygen-unsaved-changes")&&!confirm("All unsaved changes will be lost"))return!1;l.currentPreview=e.post_title;var n=l.getComponentById(0);n.empty(),n=null,l.template.postData={},l.componentsTree=[],l.component={active:{id:0,name:"root",state:"original",parent:{id:null,name:""}},id:1,options:{0:{original:{},media:{original:{}}}}},l.componentsClasses=[],l.innerContentAdded=!1,l.innerContentRoot=!1,l.cache.idCSS="",l.cache.idStyles={},CtBuilderAjax.permalink=e.url,l.ajaxVar=CtBuilderAjax,l.loadAJAXVars(function(e){e.templateTitle&&(l.currentPreview=e.templateTitle,l.showNoticeModal("<div>The post you tried to edit is rendered by a template without an Inner Content element, so you're editing the template instead. If you'd like to edit the post directly, add an Inner Content element to the template that renders it.</div>","ct-notice")),l.loadComponentsTree(iframeScope.builderInit,e.postId)}),l.selectedNodeType=null,l.loadStylesheets()},l.findMedia=function(e,n){var t,o=!1;if(angular.forEach(e,function(e){o||(e.options.media&&e.options.media[n]&&e.options.media[n][l.currentState]?o=t=!0:e.children&&(t=l.findMedia(e.children,n)))}),void 0!==t)return t},l.calculateBuiltInOffset=function(e,n,t){var o=0;return n.children&&angular.forEach(n.children,function(e){e.options.oxy_builtin&&o++}),o},l.isBuiltinComponent=function(){var e=l.component.active.id;return l.builtinComponents[e]},l.updateTagsByName=function(e,n,t){angular.forEach(n.children,function(e){e.name==t.from&&l.updateTreeComponentTag(e.id,e,t.to),e.children&&l.updateTagsByName(e.id,e,t)})},l.getComponentActiveSelector=function(e,n,t){t.activeselector=n.options.activeselector},l.canBeChild=function(e,n){return null==l.componentsTemplates||(void 0===l.componentsTemplates[e]||void 0===l.componentsTemplates[e].onlyChild||l.componentsTemplates[e].onlyChild===n)&&(void 0===l.componentsTemplates[n]||void 0===l.componentsTemplates[n].onlyParent||l.componentsTemplates[n].onlyParent===e)},l.isAPIComponent=function(e){return void 0!==l.componentsTemplates&&void 0!==l.componentsTemplates[e]},l.getElementChildren=function(e,n){if(null==e&&(e=l.component.active.id,n=l.component.active.name),"oxy_posts_grid"==n){var t=l.getComponentById(e);if(t)return t.find(".oxy-posts > *").toArray()}if("oxy_gallery"==n){var o=l.getComponentById(e);if(o)return o.find(".oxy-gallery-item").toArray()}if("oxy_dynamic_list"==n){var r=l.getComponentById(e);if(r){var a=r.children().toArray();return a.splice(1,1),a}}var i=l.findComponentItem(l.componentsTree.children,e,l.getComponentItem);return i.children?i.children:[]},l.addElementsFromEmmetAbbreviation=function(e){var d=0,n=e.target;try{var t=parseEmmetAbbreviation(n.value)}catch(e){0<=e.message.toLowerCase().indexOf("unexpected character")?l.showNoticeModal('<div>Unexpected character in abbreviation. Spaces are not allowed. <a target="_blank" href="https://docs.emmet.io/cheat-sheet/">Click here</a> for examples of valid abbreviations</div>'):l.showNoticeModal("<div>"+e.message.replace(/(?:\r\n|\r|\n)/g,"<br>")+"</div>")}t&&t.children&&(function e(n,t){for(var o in n)if(n.hasOwnProperty(o)){var r=n[o],a=l.getOxygenElementName(r.name);if("oxy_header"==a&&r.children&&r.children.length){l.showNoticeModal("<div>Sorry, Header Builder doesn't support children elements to be added via Emmet</div>"),t=!0;break}if(["ct_slide","oxy_shape_divider","oxy_header_row","oxy_header_left","oxy_header_center","oxy_header_right","ct_span","oxy_tab","oxy_tab_content","oxy_dynamic_list"].includes(a)){l.showNoticeModal("<div>"+r.name+" is not allowed to be used in Emmet</div>"),t=!0;break}if(!a){l.showNoticeModal("<div>"+r.name+" is not an Oxygen element</div>"),t=!0;break}r.children&&r.children.length&&(t=e(r.children,t))}return t}(t.children,!1)||(!function e(n){for(var t in n)if(n.hasOwnProperty(t)){var o=n[t],r=l.getOxygenElementName(o.name);if(r){if(l.$digest(),d=l.addComponent(r),void 0!==o.attributes)for(var t in o.attributes)if(o.attributes.hasOwnProperty(t)){var a=o.attributes[t],i=a.value[0];"id"==a.name?(l.component.options[l.component.active.id].selector=i,l.setOption(l.component.active.id,l.component.active.name,"selector")):"class"==a.name?l.validateClassName(i)&&l.addClassToComponent(l.component.active.id,i):p.addCustomAttribute(a.name,i)}if("ct_headline"==r&&0<=["h2","h3","h4","h5","h6"].indexOf(o.name)&&(l.setOptionModel("tag",o.name),l.$digest(),l.changeTag()),"ct_text_block"==r&&0<=["p"].indexOf(o.name)&&(l.setOptionModel("tag",o.name),l.$digest(),l.changeTag()),"ct_slider"!=r||o.children&&0!=o.children.length||l.waitOxygenTree(function(){l.addComponent("ct_slide",!1,!0),l.addComponent("ct_slide",!1,!0),l.addComponent("ct_slide",!1,!0)}),"oxy_header"==r)var c=s(function(){l.waitOxygenTree(function(){l.addComponent("oxy_header_row")}),s.cancel(c)},0,!1);void 0!==o.value&&l.setOptionModel("ct_content",o.value[0]),o.children&&o.children.length&&e(o.children),l.activateComponent(l.component.active.parent.id)}}}(t.children),l.activateComponent(d),p.switchActionTab("componentBrowser"),p.emmetInputFocus=!0))},l.getOxygenElementName=function(e){if(void 0!==l.niceNames[e])return e;e=e.replace("-"," ");var n=Object.keys(l.niceNames);for(var t in n)if(n.hasOwnProperty(t)){var o=n[t],r=l.niceNames[o];if(e.toLowerCase()==r.toLowerCase())return o}var a=[{tagName:"ct_link_text",aliases:["a","link"]},{tagName:"ct_headline",aliases:["h","h1","h2","h3","h4","h5","h6"]},{tagName:"ct_image",aliases:["img"]},{tagName:"ct_text_block",aliases:["p"]}];for(var t in a)if(a.hasOwnProperty(t)){var i=a[t];if(-1<i.aliases.indexOf(e))return i.tagName}return!1},l.emmetCLIkeypress=function(e,n){var t=n.target,o="";switch(e){case 91:o="]";break;case 40:o=")";break;case 123:o="}"}if(o){var r=t.selectionStart;t.value=t.value.slice(0,r)+o+t.value.slice(r),t.setSelectionRange(r,r)}}}]);
CTFrontendBuilder.controller("ComponentsStates",["$scope","$parentScope",function(s,n){s.currentState="original",s.switchState=function(e,t,o){if(s.log&&console.log("switchState()",e,t,o),s.currentState==e)return!1;null==o&&(o=s.component.active.id),t||(s.showClasses=!1),s.currentState=e,s.highlightSelector(!0,s.selectorToEdit),s.applyModelOptions(),s.showStates=!1,s.outputCSSOptions(o),n.checkTabs(),s.parentScope.activeForEditBgLayer=!1},s.addState=function(){var e=prompt("Pseudo-class name:");null!=e&&(0===e.indexOf(":")&&(e=e.substring(1,e.length)),0===e.indexOf(":")&&(e=e.substring(1,e.length)),s.switchState(e),s.findComponentItem(s.componentsTree.children,s.component.active.id,s.addStateToComponent,e)),s.unsavedChanges()},s.tryDeleteComponentState=function(e,t){if(s.cancelDeleteUndo(),t.stopPropagation(),!confirm('Remove "'+e+'" styles?'))return!1;s.deleteComponentState(e)},s.deleteComponentState=function(e,t){s.log&&console.log("deleteComponentState",e),void 0===t&&(t=s.component.active.id),s.isEditing("class")?s.removeStateFromClass(s.currentClass,e):s.isEditing("custom-selector")?s.removeStateFromCustomSelector(s.selectorToEdit,e):(s.findComponentItem(s.componentsTree.children,t,s.removeStateFromTree,e),s.isEditing("media")?s.component.options[t].media&&s.component.options[t].media[s.currentMedia]&&delete s.component.options[t].media[s.currentMedia]:s.component.options[t][e]&&delete s.component.options[t][e]),s.isCurrentState("original")&&s.outputCSSOptions(t),s.switchState("original"),s.unsavedChanges()},s.removeStateFromTree=function(e,t,o){if(s.log&&console.log("removeStateFromTree()",e,o,t),0==e)return!1;s.isEditing("media")?void 0!==t.options.media[s.currentMedia][o]&&delete t.options.media[s.currentMedia][o]:void 0!==t.options[o]&&delete t.options[o]},s.addStateToComponent=function(e,t,o){if(s.log&&console.log("addStateToComponent()",e,o,t),0==e)return!1;t.options[o]={},s.component.options[e][o]={}},s.removeStateFromClass=function(e,t){s.isEditing("media")?void 0!==s.classes[e].media[s.currentMedia][t]&&delete s.classes[e].media[s.currentMedia][t]:void 0!==s.classes[e][t]&&delete s.classes[e][t]},s.removeStateFromCustomSelector=function(e,t){s.isEditing("media")?void 0!==s.customSelectors[e].media[s.currentMedia][t]&&delete s.customSelectors[e].media[s.currentMedia][t]:void 0!==s.customSelectors[e][t]&&delete s.customSelectors[e][t]},s.isCurrentState=function(e){return s.currentState==e},s.isPseudoElement=function(e){return-1<e.indexOf("before")||-1<e.indexOf("after")||-1<e.indexOf("first-letter")||-1<e.indexOf("first-line")||-1<e.indexOf("selection")},s.getComponentStatesList=function(e){void 0===e&&(e=s.component.active.id);var t,o=["hover","before","after"];if(s.isEditing("id")?t=s.component.options[e]:s.isEditing("class")?t=s.classes[s.currentClass]:s.isEditing("custom-selector")&&(t=s.customSelectors[s.selectorToEdit]),t)for(var n in states=Object.keys(t),states){var i=states[n];"object"==typeof t[i]&&"media"!=i&&"model"!=i&&"original"!=i&&"hover"!=i&&"before"!=i&&"after"!=i&&"id"!=i&&o.push(i)}return o},s.isStateHasOptions=function(e){var t=s.component.active.id;return state=!1,s.isEditing("id")&&(s.isEditing("media")?s.component.options[t].media&&s.component.options[t].media[s.currentMedia]&&(state=s.component.options[t].media[s.currentMedia][e]):state=s.component.options[t][e]),s.isEditing("class")&&s.classes[s.currentClass]&&(s.isEditing("media")?s.classes[s.currentClass].media&&s.classes[s.currentClass].media[s.currentMedia]&&(state=s.classes[s.currentClass].media[s.currentMedia][e]):state=s.classes[s.currentClass][e]),s.isEditing("custom-selector")&&!s.isEditing("class")&&s.customSelectors[s.selectorToEdit]&&(s.isEditing("media")?s.customSelectors[s.selectorToEdit].media&&s.customSelectors[s.selectorToEdit].media[s.currentMedia]&&(state=s.customSelectors[s.selectorToEdit].media[s.currentMedia][e]):state=s.customSelectors[s.selectorToEdit][e]),!(!state||jQuery.isEmptyObject(state))},s.isStatesHasOptions=function(){var e=s.getComponentStatesList();for(var t in e){var o=e[t];if(s.isStateHasOptions(o))return!0}return!1}}]);
CTFrontendBuilder.controller("ControllerNavigation",["$scope","$parentScope","$http","$timeout",function(a,s,e,t){a.openFolders={},a.toggledNodes=[],a.calcDefaultComponentTitle=function(e,o){null==e&&(e=a.findComponentItem(a.componentsTree.children,a.component.active.id,a.getComponentItem));var t=a.niceNames[e.name];return"ct_reusable"==e.name?t+=" (post: "+e.options.view_id+")":"ct_woocommerce"==e.name&&(hookName=a.getWooCommerceHookNiceName(e.options.original.hook_name),t+=hookName),o||(t+=" (#"+e.id+")"),t},a.setComponentCategory=function(e,o,t){var r=a.findComponentItem(a.componentsTree.children,e,a.getComponentItem);r.options.ct_category===o?(delete r.options.ct_category,delete a.component.options[e].ct_category):(r.options.ct_category=o,a.component.options[e].ct_category=o),jQuery(t.target).closest(".ct-more-options-expanded").removeClass("ct-more-options-expanded")},a.openLoadFolder=function(e,o,t,r){a.experimental_components[o].fresh?(t&&angular.element(r.target).addClass("oxygen-small-progress"),a.getComponentsListFromSource(e,o,function(e){t&&(s.tabs.components=[],angular.element(r.target).removeClass("oxygen-small-progress")),a.openFolder(e,o),s.applyMenuAim()})):(t&&(s.tabs.components=[]),a.openFolder(e,o))},a.openFolder=function(e,o){a.closeAllFolders(),a.openFolders[e]=void 0===o||o,"categories-categories"===e&&(void 0!==a.libraryCategories&&null!==a.libraryCategories||(a.libraryCategories={},a.libraryPages={},a.getStuffFromSource(a.processLibraryStuff)));t(function(){jQuery(".oxygen-folder-"+e+" .ct-add-item-button-image",window.parent.document).each(function(){jQuery(this).attr("src",jQuery(this).data("src"))})},0,!1);s.applyMenuAim()},a.processLibraryStuff=function(e){var o=(e=JSON.parse(e)).items,t=(e.key,parseInt(e.next));if(o){var r=o.components;r&&_.each(r,function(e){var o=e.category;void 0===o&&(o="Other"),a.libraryCategories[o]=a.libraryCategories[o]||{},a.libraryCategories[o].slug=btoa(o).replace(/=/g,""),a.libraryCategories[o].contents=a.libraryCategories[o].contents||[],a.libraryCategories[o].contents.push(e)});var n=o.pages;n&&_.each(n,function(e){if("ct_template"!==e.type){var o=e.category;void 0===o&&(o="Other"),a.libraryPages[o]=a.libraryPages[o]||{},a.libraryPages[o].slug=btoa(o).replace(/=/g,""),a.libraryPages[o].contents=a.libraryPages[o].contents||[],a.libraryPages[o].contents.push(e)}})}a.getStuffFromSource(a.processLibraryStuff,t),s.applyMenuAim()},a.closeAllFolders=function(e){a.openFolders={}},a.isShowFolder=function(e){return!!a.openFolders[e]},a.hasOpenFolders=function(){return 0<Object.keys(a.openFolders).length}}]);
CTFrontendBuilder.controller("ControllerColumns",["$scope","$parentScope","$timeout",function(p,d,t){p.columns=[],p.emptyColumnsComponent=[],p.updateColumnsOnAdd=!0,p.setColumns=function(t,e){var n=e.children.length,o=p.columns[t]-n,i=e.children[n-1];if(0<o)for(var c=0;c<o;c++)p.addColumn(t);if(o<0)for(c=0;o<c;c--)p.removeColumn(i.id)},p.updateColumns=function(t){p.findComponentItem(p.componentsTree.children,t,p.setColumns)},p.addColumn=function(t){p.applyComponentDefaultOptions(p.component.id,"ct_column");var e="ct_column",n=p.getActiveComponent(),o=p.getComponentTemplate(e,p.component.id);column={id:p.component.id,name:e},p.findComponentItem(p.componentsTree.children,p.component.active.id,p.insertComponentToTree,column),p.updateColumnsOnAdd(n,o),p.component.id++,p.activateComponent(t,"ct_columns")},p.removeColumn=function(t){if(1==p.columns[p.component.active.parent.id])return alert("You can not delete the last column"),!1;p.columns[p.component.active.parent.id]--;var e=p.getComponentById(t),n=e.parent();p.updateColumnsOnRemove(n,e),p.findParentComponentItem(p.componentsTree,t,p.cutComponentFromTree)},p.updateColumnsOnRemove=function(t,e){p.log&&console.log("updateColumnsOnRemove()");var n=jQuery(t).children(".ct-div-block"),o="ct_div_block";if(0<n.length){var i=n.length-1,c=e[0].getAttribute("ng-attr-component-id"),l=parseFloat(p.getOption("width",c));e.remove();var a=!1;if(angular.forEach(n,function(t){var e=t.getAttribute("ng-attr-component-id"),n=parseFloat(p.getOption("width",e));if(!isNaN(n)){var o={};p.findComponentItem(p.componentsTree.children,e,p.getComponentActiveSelector,o),o.activeselector&&(a=!0)}}),a)return!1;angular.forEach(n,function(t){var e=t.getAttribute("ng-attr-component-id"),n=((n=parseFloat(p.getOption("width",e)))+l/i).toFixed(2);p.setOptionModel("width",n,e,o)}),p.cleanInsert(t)}p.checkColumnsWidthSum(jQuery(t).children(".ct-div-block"),o)},p.updateColumnsOnChange=function(n,t){if(!p.isEditing("class")){var e=p.getOption("width",n),o=t-parseFloat(e),i=p.getComponentById(n),c=i.parent(),l=c[0].querySelectorAll(".ct-column");if(!(100<parseFloat(e)||parseFloat(e)<0||""===e||isNaN(parseFloat(e)))){if(d.isActiveName("ct_div_block")){if(!d.isActiveParentName("ct_columns")&&!d.isActiveParentName("ct_new_columns"))return!1;l=jQuery(c).children(".ct-div-block"),componentName="ct_div_block"}else componentName="ct_column";p.log&&console.log("updateColumnsOnChange()",t,e);var a=i.next();if(a[0]||(a=i.prev()),!a[0])return!1;var r=a[0].getAttribute("ng-attr-component-id"),m=parseFloat(p.getOption("width",r));if(!isNaN(m)){if(o<0)if(m>Math.abs(o)){var u=(m+o).toFixed(2);p.setOptionModel("width",u,r,componentName)}else if(0<l.length){u=((100-e)/(l.length-1)).toFixed(2);angular.forEach(l,function(t){var e=t.getAttribute("ng-attr-component-id");e!=n&&p.setOptionModel("width",u,e,componentName)})}if(0<o){u=(m+o).toFixed(2);p.setOptionModel("width",u,r,componentName)}p.checkColumnsWidthSum(l,componentName,n)}}}},p.updateColumnsOnAdd=function(t,e){p.log&&console.log("updateColumnsOnAdd()");var n=t[0].querySelectorAll(".ct-column");if(0<n.length){var o=n.length,i=(angular.element(n[0]).parent()[0].offsetWidth,(100/(o+1)).toFixed(2)),c=!1;if(angular.forEach(n,function(t){var e=t.getAttribute("ng-attr-component-id"),n=parseFloat(p.getOption("width",e));if(!isNaN(n)){var o={};p.findComponentItem(p.componentsTree.children,e,p.getComponentActiveSelector,o),o.activeselector&&(c=!0)}}),c)return!1;angular.forEach(n,function(t){var e=t.getAttribute("ng-attr-component-id"),n=parseFloat(p.getOption("width",e));n=((100-i)/100*n).toFixed(2);p.setOptionModel("width",n,e,"ct_column")}),p.setOptionModel("width",i,p.component.id,"ct_column")}p.getInnerWrap(t).append(e),p.cleanInsert(t),p.checkColumnsWidthSum(t[0].querySelectorAll(".ct-column"))},p.checkColumnsWidthSum=function(t,e,n){if(void 0!==t&&!p.isEditing("class")&&(null==e&&(e="ct_column"),p.log&&console.log("checkColumnsWidthSum()",t,e),0<t.length)){var o=0;angular.forEach(t,function(t){var e;e=t.options?t.id:t.getAttribute("ng-attr-component-id");var n=parseFloat(p.getOption("width",e));isNaN(n)||(o+=n)});var i,c=parseFloat(100-o).toFixed(2);t[0]&&t[0].name==e?n==(i=jQuery(t).last()[0].id)&&(i=jQuery(t).last().prev()[0].id):n==(i=jQuery(t).last()[0].getAttribute("ng-attr-component-id"))&&(i=jQuery(t).last().prev()[0].getAttribute("ng-attr-component-id"));var l=parseFloat(p.getOption("width",i)),a=parseFloat(l)+parseFloat(c);if(isNaN(a))return;p.setOptionModel("width",a.toFixed(2),i,e)}},p.checkEmptyColumns=function(t){if(p.emptyColumnsComponent[t]=!1,p.findComponentItem(p.componentsTree.children,t,p.checkEmptyColumnsCallback),!p.emptyColumnsComponent[t])return"ct-columns-empty"},p.checkEmptyColumnsCallback=function(t,e,n){angular.forEach(e.children,function(t){t.children&&(p.emptyColumnsComponent[e.id]=!0)})}}]);
CTFrontendBuilder.controller("ControllerAJAX",["$scope","$parentScope","$http","$timeout",function(x,h,v,C){x.postsData=[],x.showErrorModal=function(e,t,o,a){var n="";n=e&&0<e?("string"==typeof t?"<h4>"+t+"</h4>":"")+"<p><strong>"+("string"==typeof o?o:"")+" "+e+"</strong></p><p>Your server returned a "+e+" error for the request to "+a+".</p><p><a href='http://oxygenbuilder.com/documentation/troubleshooting/troubleshooting-guide/' style='text-decoration: underline; color: #fff;' target='_blank'>Troubleshooting Guide &raquo;</a></p>":("string"==typeof t?"<h4>"+t+"</h4>":"")+"<p><strong>"+("string"==typeof o?o:"")+"</strong></p>",x.showNoticeModal("<div>"+n+"</div>")},x.savePage=function(n){if(x.haveNotRegisteredElements())x.showNoticeModal("<div>This design contains elements registered by another plugin that is no longer active. Please re-activate the appropriate plugins or remove the missing elements before saving.</div>","ct-notice");else{n||h.showLoadingOverlay("savePage()"),h.disableContentEdit(),x.saveAndApplyCodeEditors();var e={classes:x.classes,custom_selectors:x.customSelectors,style_sets:x.styleSets,style_folders:x.styleFolders,style_sheets:x.styleSheets,page_settings:x.pageSettingsMeta,global_settings:x.globalSettings,easy_posts_templates:x.easyPostsCustomTemplates,comments_list_templates:x.commentsListCustomTemplates,typekit_fonts:x.typeKitFonts,global_colors:x.globalColorSets,element_presets:x.elementPresets,preview:(x.previewType,x.template.postData.permalink),codemirror_theme:x.globalCodeMirrorTheme,codemirror_wrap:x.globalCodeMirrorWrap};x.googleFontsCache||(e.google_fonts_cache=x.googleFontsList),angular.forEach(x.activeSelectors,function(e,t){x.skipChanges=!0,x.findComponentItem(x.componentsTree.children,t,x.updateComponentActiveSelector,e)}),x.watchIntervalCallback(),x.skipChanges=!1;var o={params:e,tree:x.componentsTree};o=angular.toJson(o),e={action:"ct_save_components_tree",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};(jQuery("body").hasClass("ct_inner")||jQuery("body",window.parent.document).hasClass("ct_inner"))&&(e.ct_inner=!0),v({url:x.getAJAXRequestURL(),method:"POST",params:e,data:o,transformResponse:!1}).then(function(t){try{if(n)0!=(t=JSON.parse(o)).post_saved&&x.allSaved();else 0===(t=JSON.parse(t.data))?x.showErrorModal(0,"YOUR PAGE WAS NOT SAVED BECAUSE YOU ARE NOT LOGGED IN. Open a new browser tab and log back in to WordPress. Then attempt to save the page again."):0==t.post_saved?(console.log(o),x.showErrorModal(0,"Error occurred while saving. Please contact support.")):x.allSaved(),h.hideLoadingOverlay("savePage()")}catch(e){console.log(o),console.log(e),n||x.showErrorModal(t.status,"Error occurred while saving",e)}}).catch(function(e,t,o,a){console.log(e,t),n||h.hideLoadingOverlay("savePage()")}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while saving",e.statusText,e.config.url)})}},x.saveAndApplyCodeEditors=function(){if(window.parent.currentCMEditor)if(x.stylesheetToEdit)x.updateStylesheetCSS(window.parent.currentCMEditor.state.doc.toString());else if(h.isActiveName("ct_code_block"))switch(window.parent.currentCMEditor.contentAttrs["data-language"]){case"php":x.setOptionModel("code-php",window.parent.currentCMEditor.state.doc.toString()),x.applyCodeBlockPHP();break;case"css":x.setOptionModel("code-css",window.parent.currentCMEditor.state.doc.toString()),x.applyCodeBlockCSS();break;case"javascript":x.setOptionModel("code-js",window.parent.currentCMEditor.state.doc.toString()),x.applyCodeBlockJS()}else if(h.isActiveName("oxy_posts_grid")){switch(window.parent.currentCMEditor.contentAttrs["data-language"]){case"php":x.setOptionModel("code-php",window.parent.currentCMEditor.state.doc.toString());break;case"css":x.setOptionModel("code-css",window.parent.currentCMEditor.state.doc.toString())}x.renderComponentWithAJAX("oxy_render_easy_posts")}else if(h.isActiveName("oxy_comments")){switch(window.parent.currentCMEditor.contentAttrs["data-language"]){case"php":x.setOptionModel("code-php",window.parent.currentCMEditor.state.doc.toString());break;case"css":x.setOptionModel("code-css",window.parent.currentCMEditor.state.doc.toString())}x.renderComponentWithAJAX("oxy_render_comments_list")}else switch(window.parent.currentCMEditor.contentAttrs["data-language"]){case"javascript":x.setOptionModel("custom-js",window.parent.currentCMEditor.state.doc.toString()),x.applyComponentJS();break;case"css":x.setOptionModel("custom-css",window.parent.currentCMEditor.state.doc.toString()),x.applyComponentCSS()}else window.parent.mixedCMEditors&&window.parent.mixedCMEditors.php&&window.parent.mixedCMEditors.css&&window.parent.mixedCMEditors.js&&(x.setOptionModel("code-php",window.parent.mixedCMEditors.php.state.doc.toString()),x.applyCodeBlockPHP(),x.setOptionModel("code-css",window.parent.mixedCMEditors.css.state.doc.toString()),x.applyCodeBlockCSS(),x.setOptionModel("code-js",window.parent.mixedCMEditors.js.state.doc.toString()),x.applyCodeBlockJS())},x.updateComponentActiveSelector=function(e,t,o){t&&t.options&&(t.options.activeselector=o)},x.saveComponentAsView=function(o,e,a){var t={action:"ct_save_component_as_view",name:x.componentizeOptions.name,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,block:a},n=a?"Block":"Re-usable part";if(e.constructor===Array)var r=e;else r=[e];v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:t,data:{id:0,name:"root",depth:0,children:r}}).then(function(e){if(h.hideLoadingOverlay("saveComponentAsView()"),0!=e.data){var t=a?"Manage Blocks in the WordPress admin at Oxygen &gt; Block Library.":"";x.showNoticeModal("<div>"+n+" '"+x.componentizeOptions.name+"' created. "+t+"</div>","ct-notice"),a||x.replaceReusablePart(o,e.data)}else x.showErrorModal(0,'Error occurred while saving "'+n+'".')}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,'Error occurred while saving "'+n+'".',e.statusText,e.config.url)})},x.loadComponentsTree=function(o,a,n,r){x.log&&console.log("loadComponentsTree()",a,n,r),h.showLoadingOverlay("loadComponentsTree()"),void 0===a&&(a=CtBuilderAjax.postId);var e={action:"ct_get_components_tree",id:a,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};jQuery("body").hasClass("ct_inner")&&(e.ct_inner=!0),v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:e,transformResponse:!1}).then(function(t){try{t=JSON.parse(t.data);if(x.defaultOptions=t.defaultOptions,o(t.tree,a,n,r),t.notRegisteredShortcodes){var e=Object.values(t.notRegisteredShortcodes);x.showErrorModal(0,"Shortcodes present in design but not registered in WordPress: <br/>"+e.join(", ")+". <br/><br/>Saving now will result in this design breaking. Please re-activate the plugins that supply the shortcodes listed above before saving this design.")}}catch(e){console.log(t.data,e),x.showErrorModal(0,"Error occurred while loading post: "+a,e)}h.hideLoadingOverlay("loadComponentsTree()")}).catch(function(e,t,o,a){console.log(e.data,t)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while loading post: "+a,e.statusText,e.config.url)})},x.renderInnerContent=function(a,e){var t=CtBuilderAjax.permalink,o={};t="term"===x.previewType?(o.term=x.template.postData.term,x.template.postData&&x.template.postData.permalink?x.template.postData.permalink:CtBuilderAjax.ajaxUrl):(o.post=x.template.postData,x.template.postData&&x.template.postData.permalink?o.post.permalink:CtBuilderAjax.ajaxUrl);var n={action:"ct_render_innercontent",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(t),method:"POST",params:n,transformResponse:!1}).then(function(e){if(0!==parseInt(e.data)){var t=x.getComponentById(a);t.html();var o=angular.element("<div>");o.html(e.data),t.append(o),x.adjustResizeBox()}}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while rendering innercontent",e.statusText,e.config.url)})},x.evalCondition=function(r){var e;if(void 0===r&&(r=x.component.active.id),0<(e=x.getComponentById(r).closest(".oxy-dynamic-list")).length){var t=e.attr("ng-attr-component-id");x.dynamicListAction(t,r)}else if(x.component.options[r].original&&x.component.options[r].original.conditions&&0<x.component.options[r].original.conditions.length){var o=CtBuilderAjax.permalink,a={};o="term"===x.previewType?(a.term=x.template.postData.term,x.template.postData&&x.template.postData.permalink?x.template.postData.permalink:CtBuilderAjax.permalink):(a.post=x.template.postData,x.template.postData&&x.template.postData.permalink?a.post.permalink:CtBuilderAjax.permalink);var n={action:"ct_eval_condition",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(o),method:"POST",params:n,data:JSON.stringify(x.component.options[r]),transformResponse:!1}).then(function(e,t,o,a){var n=JSON.parse(e.data);void 0!==n.result&&x.setOptionModel("conditionsresult",n.result,r,x.component.options[r].name)}).catch(function(e,t,o,a){console.log(e.data,t),x.adjustResizeBox()}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while evaluation condition",e.statusText,e.config.url)})}else delete iframeScope.component.options[r].model.conditionsresult},x.renderCustomAttributeDynamicData=function(s,i,l){var e=CtBuilderAjax.permalink;x.template.postData&&x.template.postData.permalink&&(e=x.template.postData.permalink);var d=i.match(/\[oxygen[^\]]*\]/gi),c=l.match(/\[oxygen[^\]]*\]/gi),t={action:"oxy_render_attribute_dyanmic_data",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};if(d)var o=i;else o=l;v({url:x.stripURLProtocol(e),method:"POST",params:t,data:o,transformResponse:!1}).then(function(e,t,o,a){var n=e.data;(d&&c&&x.renderCustomAttributeDynamicData(s,n,l),d&&!c)&&((r=x.getComponentById(s)).attr&&(RegExp("[^a-z-_]+","gi").test(n)?x.showNoticeModal("<div>"+x.component.options[s].nicename+" Custom Attribute rendered data '"+n+"' is not a valid attribute <b>name</b></div>"):r.attr(n,l),console.log(n,l)));if(!d&&c){var r;if(RegExp("[^a-z-_]+","gi").test(i))return void x.showNoticeModal("<div>"+x.component.options[s].nicename+" Custom Attribute rendered data '"+i+"' is not a valid attribute <b>name</b></div>");(r=x.getComponentById(s)).attr&&(r.attr(i,x.replaceSpecialChars(n)),console.log(i,n))}}).catch(function(e,t,o,a){console.log(e.data,t)})},x.renderShortcode=function(p,e,u,m){if(x.component.options[p]&&x.component.options[p].original&&"true"==x.component.options[p].original.dont_render){x.getComponentById(p).html("")}else{var g=CtBuilderAjax.permalink,h={};g="term"===x.previewType?(h.term=x.template.postData.term,x.template.postData&&x.template.postData.permalink?x.template.postData.permalink:CtBuilderAjax.permalink):(h.post=x.template.postData,x.template.postData&&x.template.postData.permalink?h.post.permalink:CtBuilderAjax.permalink);var y,f={action:"ct_render_shortcode",shortcode_name:e,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce},t=x.getComponentById(p),o=!1,a=[];if(t)for(var n=t.parent().closest(".oxy-dynamic-list");n&&0<n.length;)o=parseInt(n.attr("ng-attr-component-id")),x.component.options[o].original.use_acf_repeater?(n=n.parent().closest(".oxy-dynamic-list"),a.push(x.component.options[o].original.acf_repeater)):x.component.options[o].original.use_metabox_clonable_group?(n=n.parent().closest(".oxy-dynamic-list"),a.push(x.component.options[o].original.metabox_group)):(o=parseInt(n.attr("ng-attr-component-id")),n=!1);if(o&&m){var r=x.component.options[o];m.queryOptions={query_args:r.original.query_args,wp_query:x.component.options[o].original.use_acf_repeater||x.component.options[o].original.use_metabox_clonable_group?"default":r.original.wp_query,query_post_ids:r.original.query_post_ids,query_post_types:r.original.query_post_types,query_taxonomies_any:r.original.query_taxonomies_any,query_taxonomies_all:r.original.query_taxonomies_all,query_authors:r.original.query_authors,query_order:r.original.query_order,query_order_by:r.original.query_order_by,query_all_posts:r.original.query_all_posts,query_ignore_sticky_posts:r.original.query_ignore_sticky_posts,query_count:r.original.query_count,wp_query_advanced:r.original.wp_query_advanced},y=JSON.stringify(m.queryOptions),0<a.length&&(x.component.options[o].original.use_acf_repeater&&(m.acfRepeaterFields=a.reverse()),x.component.options[o].original.use_metabox_clonable_group&&(m.metaboxGroupFields=a.reverse()),y+=JSON.stringify(m.repeaterFields))}if(u&&(x.oxygenShortcodesCache=x.oxygenShortcodesCache||[],m&&m.original&&m.original.full_shortcode&&-1<m.original.full_shortcode.indexOf("[oxygen"))){var s=_.findWhere(x.oxygenShortcodesCache,{id:f.post_id,url:g,full_shortcode:m.original.full_shortcode,queryOptions:y});if(s)return void u(m.original.full_shortcode,s.result,s.scripts)}v({url:x.stripURLProtocol(g),method:"POST",params:f,data:m?JSON.stringify(m):JSON.stringify(x.component.options[p]),transformResponse:!1}).then(function(e,t,o,a){if(e.data||""===e.data){var n=x.getComponentById(p),r=angular.element("<div>");if(r.html(e.data),u){x.oxygenShortcodesCache=x.oxygenShortcodesCache||[];var s=r.find("#ct-shortcode-links-scripts").html(),i=r.find("link, script");x.oxygenShortcodesCache.push({id:f.post_id,url:g,full_shortcode:m.original.full_shortcode,queryOptions:y,result:s,scripts:i}),u(m.original.full_shortcode,s,i)}else{n.html(r.find("#ct-shortcode-links-scripts").html());var l=n.closest("body");l.find('link[data-forId="'+p+'"], script[data-forId="'+p+'"]').remove(),r.find("link, script").each(function(){l.append(angular.element(this).attr("data-forId",p))});var d=C(function(){jQuery.ready(),C.cancel(d)},1e3,!1)}var c=new Event("oxygen-ajax-element-loaded");document.dispatchEvent(c)}else console.log(h,t),u&&u(m.original.full_shortcode,""),x.showErrorModal(0,"Error occurred while rendering shortcode");x.adjustResizeBox()}).catch(function(e,t,o,a){console.log(e.data,t),x.adjustResizeBox()}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while rendering shortcode",e.statusText,e.config.url)})}},x.getRepeaterOptions=function(e){var t,o=x.getComponentById(e),a=!1,n=[];if(o)for(var r=o.parent().closest(".oxy-dynamic-list");r&&0<r.length;)a=parseInt(r.attr("ng-attr-component-id")),x.component.options[a].original.use_acf_repeater?(r=r.parent().closest(".oxy-dynamic-list"),n.push(x.component.options[a].original.acf_repeater)):x.component.options[a].original.use_metabox_clonable_group?(r=r.parent().closest(".oxy-dynamic-list"),n.push(x.component.options[a].original.metabox_group)):(a=parseInt(r.attr("ng-attr-component-id")),r=!1);if(a){var s=x.component.options[a];t={query_args:s.original.query_args,wp_query:x.component.options[a].original.use_acf_repeater||x.component.options[a].original.use_metabox_clonable_group?"default":s.original.wp_query,query_post_ids:s.original.query_post_ids,query_post_types:s.original.query_post_types,query_taxonomies_any:s.original.query_taxonomies_any,query_taxonomies_all:s.original.query_taxonomies_all,query_authors:s.original.query_authors,query_order:s.original.query_order,query_order_by:s.original.query_order_by,query_all_posts:s.original.query_all_posts,query_ignore_sticky_posts:s.original.query_ignore_sticky_posts,query_count:s.original.query_count,wp_query_advanced:s.original.wp_query_advanced},t=JSON.stringify(t)}return t},x.evalConditionsViaAjax=function(e,n){var t=CtBuilderAjax.permalink,o={};t="term"===x.previewType?(o.term=x.template.postData.term,x.template.postData&&x.template.postData.permalink?x.template.postData.permalink:CtBuilderAjax.permalink):(o.post=x.template.postData,x.template.postData&&x.template.postData.permalink?o.post.permalink:CtBuilderAjax.permalink);var a={action:"ct_eval_conditions",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(t),method:"POST",params:a,data:JSON.stringify(e),transformResponse:!1}).then(function(e,t,o,a){e=JSON.parse(e.data),n&&n(e)}).catch(function(e,t,o,a){console.log(e.data,t)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while evaluating conditions",e.statusText,e.config.url)})},x.removeChromeModal=function(e){if(e.stopPropagation(),e.preventDefault(),jQuery(e.target).hasClass("ct-chrome-modal-bg")||jQuery(e.target).hasClass("ct-chrome-modal-hide")){var t={action:"ct_remove_chrome_modal",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:t,transformResponse:!1}).then(function(e){jQuery(".ct-chrome-modal-bg").remove()}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while dismissing the notice",e.statusText,e.config.url)})}},x.renderDataComponent=function(s,e){var t=CtBuilderAjax.permalink,o={};t="term"===x.previewType?(o.term=x.template.postData.term,x.template.postData&&x.template.postData.permalink?x.template.postData.permalink:CtBuilderAjax.ajaxUrl):(o.post=x.template.postData,x.template.postData&&x.template.postData.permalink?o.post.permalink:CtBuilderAjax.ajaxUrl);var i={action:"ct_render_data_component",component_name:e,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(t),method:"POST",params:i,data:JSON.stringify(x.component.options[s]),transformResponse:!1}).then(function(e,t,o,a){var n=e.data;if(n||""===n){var r=x.getComponentById(s);switch(i.component_name){case"ct_data_featured_image":case"ct_data_author_avatar":n=JSON.parse(n),r[0].src=n.src;break;default:r.html(n)}}else console.log(n,e.status),x.showErrorModal(0,"Error occurred while rendering the component")}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while rendering the component",e.statusText,e.config.url)})},x.renderWidget=function(r,s){if("true"!=x.component.options[r].original.dont_render||s){x.log&&console.log("renderWidget()",r,s);var e=JSON.stringify({options:x.component.options[r]}),t=CtBuilderAjax.ajaxUrl,o={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};s?(o.action="ct_render_widget_form",h.cleanInsertUI("<span></span>","#ct-dialog-widget-content"),h.showSidebarLoader=!0):(o.action="ct_render_widget",h.showWidgetOverlay(r),t=x.getAJAXRequestURL()),v({url:x.stripURLProtocol(t),method:"POST",params:o,data:e,transformResponse:!1}).then(function(e){var t=x.getComponentById(r),o=e.data;if(o)if(s){var a=C(function(){h.cleanInsertUI('<form id="ct-widget-form" class="open">'+o+"</form>","#ct-dialog-widget-content"),window.parent.jQuery(window.parent.document).trigger("widget-added",[jQuery("#ct-widget-form",window.parent.document)]),C.cancel(a)},0,!1);h.showSidebarLoader=!1}else{void 0!==window.google&&void 0!==window.google.maps&&"sow-google-map"==x.component.options[r].id.id_base&&delete window.google.maps,t.html(o);a=C(function(){jQuery.ready(),C.cancel(a)},1e3,!1);h.hideWidgetOverlay(r),x.adjustResizeBox()}o&&""!==t.text()||s||t.html("<div class='ct-blank-widget'>Widget Content</div>");var n=new Event("oxygen-ajax-element-loaded");document.dispatchEvent(n)}).catch(function(e){x.getComponentById(r).html("<div class='ct-blank-widget'>Widget Content<div>")})}else{x.getComponentById(r).html("")}},x.renderSidebar=function(n,e){var t=JSON.stringify({options:x.component.options[n]}),o={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:"ct_render_sidebar"};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:o,data:t,transformResponse:!1}).then(function(e){var t=x.getComponentById(n),o=e.data;o&&t.html(o),o&&""!==t.text()||t.html("<div class='ct-blank-widget'>Sidebar Content</div>");var a=new Event("oxygen-ajax-element-loaded");document.dispatchEvent(a)}).catch(function(e){x.getComponentById(n).html("<div class='ct-blank-widget'>Sidebar Content<div>")})},x.renderNavMenu=function(o){void 0===o&&(o=x.component.active.id),x.log&&console.log("renderNavMenu()",o),h.showWidgetOverlay(o);var e=JSON.stringify({options:x.component.options[o]}),t=x.getAJAXRequestURL();params={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:"oxy_render_nav_menu"},v({url:x.stripURLProtocol(t),method:"POST",params:params,data:e,transformResponse:!1}).then(function(e){var t=x.getComponentById(o);e.data?t.html(e.data):t.html("No menu found"),x.adjustResizeBox(),h.hideWidgetOverlay(o)}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while rendering menu",e.statusText,e.config.url)})},x.getDynamicDataFromQuery=function(o,e,a,n,t,r,s){void 0===o&&(o=x.component.active.id),x.log&&console.log("getDynamicListData()",action,o);var i=CtBuilderAjax.permalink;if(CtBuilderAjax.oxyTemplate&&!CtBuilderAjax.oxyReusable){if(!x.template.postData||!x.template.postData.permalink)return void x.showErrorModal(0,"Permalink not available for the current post/archive. If it is an archive for a custom post type , make sure that the parameter 'has_archive' for the post type is set to true.");i=x.template.postData.permalink+("/"==x.template.postData.permalink.substr(x.template.postData.permalink.length-1)?"":"/")}else CtBuilderAjax.oxyReusable&&CtBuilderAjax.ctSiteUrl&&(i=CtBuilderAjax.ctSiteUrl+"/");var l={options:x.component.options[o],models:e};if(t){var d=x.component.options[t];l.queryOptions={query_args:d.original.query_args,wp_query:d.original.wp_query,query_post_ids:d.original.query_post_ids,query_post_types:d.original.query_post_types,query_taxonomies_any:d.original.query_taxonomies_any,query_taxonomies_all:d.original.query_taxonomies_all,query_authors:d.original.query_authors,query_order:d.original.query_order,query_order_by:d.original.query_order_by,query_all_posts:d.original.query_all_posts,query_ignore_sticky_posts:d.original.query_ignore_sticky_posts,query_count:d.original.query_count,wp_query_advanced:d.original.wp_query_advanced}}r&&0<r.length&&(l.repeaterFields=r.reverse());l=JSON.stringify(l);var c={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:"oxy_get_dynamic_data_query"};h.showWidgetOverlay(o),v({url:x.stripURLProtocol(i),method:"POST",params:c,data:l,transformResponse:!1}).then(function(e){var t=e.data;t?(t=JSON.parse(t),a&&a(t.results,n,t.pagination?t.pagination:null)):component.html("No data received"),h.hideWidgetOverlay(o)}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred",e.statusText,e.config.url)})},x.renderComponentWithAJAX=function(a,n,e){void 0===n&&(n=x.component.active.id);var t=x.getComponentById(n);if(t){var o=t.parents(".oxy-product-builder").attr("ng-attr-component-id");x.log&&console.log("renderComponentWithAJAX()",a,n);var r=x.component.options[n];if(o){var s=x.getOption("oxy-product-builder_product_id",o);r.product_builder_id=s}var i={options:r,component:x.findComponentItem(x.componentsTree.children,n,x.getComponentItem)},l=x.getAJAXRequestURL(),d={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:a},c=x.getComponentById(n),p=!1,u=[];if(c)for(var m=c.parent().closest(".oxy-dynamic-list");m&&0<m.length;)p=parseInt(m.attr("ng-attr-component-id")),x.component.options[p].original.use_acf_repeater?(m=m.parent().closest(".oxy-dynamic-list"),u.push(x.component.options[p].original.acf_repeater)):x.component.options[p].original.use_metabox_clonable_group?(m=m.parent().closest(".oxy-dynamic-list"),u.push(x.component.options[p].original.metabox_group)):(p=parseInt(m.attr("ng-attr-component-id")),m=!1);if(p){var g=x.component.options[p];i.queryOptions={query_args:g.original.query_args,wp_query:x.component.options[p].original.use_acf_repeater||x.component.options[p].original.use_metabox_clonable_group?"default":g.original.wp_query,query_post_ids:g.original.query_post_ids,query_post_types:g.original.query_post_types,query_taxonomies_any:g.original.query_taxonomies_any,query_taxonomies_all:g.original.query_taxonomies_all,query_authors:g.original.query_authors,query_order:g.original.query_order,query_order_by:g.original.query_order_by,query_all_posts:g.original.query_all_posts,query_ignore_sticky_posts:g.original.query_ignore_sticky_posts,query_count:g.original.query_count,wp_query_advanced:g.original.wp_query_advanced},0<u.length&&(i.repeaterFields=u.reverse())}void 0!==e&&(i.repeaterListIndex=e),h.showWidgetOverlay(n),"oxy_render_easy_posts"==a&&jQuery(".oxygen-easy-posts-ajax-styles-"+n).remove(),v({url:x.stripURLProtocol(l),method:"POST",params:d,data:JSON.stringify(i),transformResponse:!1}).then(function(e){var t=x.getComponentById(n);if(t)if(e.data){t.removeClass("oxy-ajax-loading");var o=new Event("oxygen-ajax-element-loaded");document.dispatchEvent(o),x.isRenderingAJAXElement=!0,t.html(e.data),x.isRenderingAJAXElement=!1,"oxy_render_easy_posts"==a&&t.find(".oxygen-easy-posts-ajax-styles-"+n).prependTo("head"),x.outputCSSOptions()}else t.html("No data received");else x.showNoticeModal("<div>"+x.component.options[n].nicename+" loading error.</div>");x.adjustResizeBox(),h.hideWidgetOverlay(n)}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while rendering the component",e.statusText,e.config.url)})}},x.loadStylesheets=function(){var e={action:"oxy_get_style_sheets",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:e,transformResponse:!1}).then(function(e){try{var t=JSON.parse(e.data);x.styleSheets=t}catch(e){console.log(data),console.log(e),x.showErrorModal(0,"Error occurred while loading Stylesheets")}}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while loading Stylesheets",e.statusText,e.config.url)})},x.loadSVGIconSets=function(){var e={action:"ct_get_svg_icon_sets",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:e,transformResponse:!1}).then(function(e){try{var t=JSON.parse(e.data);x.SVGSets=t,x.currentSVGSet=Object.keys(t)[0]}catch(e){console.log(data),console.log(e),x.showErrorModal(0,"Error occurred while loading SVG icons")}}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while loading SVG icons",e.statusText,e.config.url)})},x.loadAttachmentSizes=function(e,a,n){var t={action:"ct_get_attachment_sizes",oxy_post_id:CtBuilderAjax.postId,oxy_attachment_id:e,nonce:CtBuilderAjax.nonce},o=x.getRepeaterOptions(n),r=x.getComponentById(n);r&&r.attr("data-oxy-loading-image","true"),v({url:x.getAJAXRequestURL(),method:"POST",params:t,data:o,transformResponse:!1}).then(function(e){var t=e.data;try{if((t=JSON.parse(t)).error){var o=x.component.options[n].nicename||"ID: "+n;x.unsetOptions(["attachment_height","attachment_width","attachment_url"],n),x.showErrorModal(0,t.error+" "+o)}else a(t)}catch(e){x.unsetOptions(["attachment_height","attachment_width","attachment_url"],n),console.log(t),console.log(e),x.showErrorModal(0,"Error occurred while loading attachment sizes")}r&&r.attr("data-oxy-loading-image","false")}).catch(function(e){console.log(e.data,e.status)}).then(null,function(e){x.showErrorModal(e.status,"Error occurred while loading attachment sizes",e.statusText,e.config.url)})},x.loadTemplateData=function(e,t,o){o||h.showLoadingOverlay("loadTemplateData()");var a={action:"ct_get_template_data",template_id:CtBuilderAjax.postId,preview_post_id:t,preview_type:x.previewType,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:a,transformResponse:!1}).then(function(t){try{t=JSON.parse(t.data),e(t)}catch(e){console.log(t.data),console.log(e),x.showErrorModal(0,"Failed to load template data",e)}h.hideLoadingOverlay("loadTemplateData()")}).catch(function(e){console.log(e.data,e.status),h.hideLoadingOverlay("loadTemplateData()")}).then(null,function(e){x.showErrorModal(e.status,"Failed to load template data",e.statusText,e.config.url)})},x.loadComponentsTemplates=function(){h.showLoadingOverlay("loadComponentsTemplates()");var e={action:"oxy_get_components_templates",nonce:CtBuilderAjax.nonce,post_id:CtBuilderAjax.postId};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:e,transformResponse:!1}).then(function(t){try{t=JSON.parse(t.data);x.componentsTemplates=t}catch(e){console.log(t.data),console.log(e),x.showErrorModal(0,"Failed to load templates",e),h.hideLoadingOverlay("loadComponentsTemplates()")}if(CtBuilderAjax.ctTemplate)x.loadTemplateData(x.setTemplateData,null,!0);else if(h.hideLoadingOverlay("loadComponentsTemplates()"),x.componentsTree.children){x.buildComponentsFromTree(x.componentsTree.children);!function e(t){t++,setTimeout(function(){0<x.buildingOxygenTreeCounter&&t<180?e(t):(x.classesCached=!1,x.outputCSSOptions(),x.component.id++),0<x.buildingOxygenTreeCounter&&180<=t&&console.log("Tree building timeout. Styles may not be fully applied and Structure panel is not updated.")},500)}(0)}x.waitOxygenTree(function(){x.$emit("oxygen_components_loaded",!0)})}).catch(function(e){console.log(e),CtBuilderAjax.ctTemplate?x.loadTemplateData(x.setTemplateData,null,!0):(h.hideLoadingOverlay("loadComponentsTemplates()"),x.componentsTree.children&&(x.buildComponentsFromTree(x.componentsTree.children),x.component.id++)),x.waitOxygenTree(function(){x.$emit("oxygen_components_loaded",!1)})}).then(null,function(e){var t=e.config?e.config.url:"";x.showErrorModal(e.status,"Failed to load templates",e.statusText,t)})},x.loadPostData=function(t,o,a){if(x.postsData[o])t(x.postsData[o],a);else{h.showLoadingOverlay("loadPostData()");var e={action:"ct_get_post_data",id:o,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,preview_post_id:x.template.postData.ID};v({url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),method:"POST",params:e,transformResponse:!1}).then(function(e){try{e=JSON.parse(e.data),t(e,a),x.postsData[o]=e}catch(e){console.log(data),console.log(e),x.showErrorModal(0,"Failed to load post data. ID: "+o,e)}h.hideLoadingOverlay("loadPostData()")}).catch(function(e){console.log(e.data,e.status),h.hideLoadingOverlay("loadPostData()")}).then(null,function(e){x.showErrorModal(e.status,"Failed to load post data. ID: "+o,e.statusText,e.config.url)})}},x.loadAJAXVars=function(t){h.showLoadingOverlay("loadAJAXVars()");var e={action:"oxy_load_ajax_vars",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,preview_post_id:x.template.postData.ID};v({url:x.stripURLProtocol(CtBuilderAjax.permalink),method:"POST",params:e,transformResponse:!1}).then(function(e){try{(e=JSON.parse(e.data)).adminURL&&(e.adminURL=e.adminURL.replace(/&amp;/g,"&")),CtBuilderAjax=e,x.ajaxVar=CtBuilderAjax,window.parent.history.replaceState({id:e.postId},null,e.builderLink),-1<e.builderLink.indexOf("ct_inner=true")?(jQuery("body").addClass("ct_inner"),jQuery("body",window.parent.document).addClass("ct_inner")):(jQuery("body").removeClass("ct_inner"),jQuery("body",window.parent.document).removeClass("ct_inner")),t(e)}catch(e){console.log(e),x.showErrorModal(0,"Failed to load post AJAX vars",e)}h.hideLoadingOverlay("loadAJAXVars()")}).catch(function(e){console.log(e),h.hideLoadingOverlay("loadAJAXVars()")}).then(null,function(e){x.showErrorModal(e.status,"Failed to load AJAX vars",e.statusText,e.config.url)})},x.execCode=function(e,o,a){var t=x.getAJAXRequestURL(),n={code:x.b64EncodeUnicode(e),query:CtBuilderAjax.query};n=JSON.stringify(n),v({method:"POST",transformResponse:!1,url:x.stripURLProtocol(t),params:{action:"ct_exec_code",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce},data:n}).then(function(e){var t=e.data;0===t.trim().length&&(t=""),-1<t.indexOf("<html")&&(t=jQuery("<div>").append(t).find(".ct-code-block").html()),(t=jQuery("<div>").append(t)).find("script").remove(),t=t.html(),a(t,o)}).catch(function(e){console.log(e.data,e.status)})},x.getStuffFromSource=function(t,e){void 0===e&&setTimeout(function(){angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).addClass("oxygen-small-progress")},100);var o={action:"ct_new_style_api_call",call_type:"get_stuff_from_source",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};if(0===parseInt(e))return angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).removeClass("oxygen-small-progress"),!1;null!=e&&(o.next=e),v({method:"GET",transformResponse:!1,url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),params:o}).then(function(e){t(e.data)}).catch(function(e){console.log(e.data,e.status)})},x.getComponentsListFromSource=function(r,s,i){setTimeout(function(){angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).addClass("oxygen-small-progress")},200),v({method:"GET",transformResponse:!1,url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),params:{action:"ct_new_style_api_call",call_type:"get_items_from_source",name:s,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce}}).then(function(e){var t=!1,o=e.data;if(o&&""!=o.trim()||(t=!0),t||(o=JSON.parse(o)),t||!o.components)return x.showErrorModal(0,"Items not loaded. "+(o.error?o.error:"Try again!")),void angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).removeClass("oxygen-small-progress");if(angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).removeClass("oxygen-small-progress"),delete x.experimental_components[s].fresh,x.experimental_components[s].items={},_.each(o.components,function(e){var t=e.category;t&&(x.experimental_components[s].items[t]=x.experimental_components[s].items[t]||{},x.experimental_components[s].items[t].slug=btoa(t).replace(/=/g,""),x.experimental_components[s].items[t].contents=x.experimental_components[s].items[t].contents||[],x.experimental_components[s].items[t].contents.push(e))}),CtBuilderAjax.freeVersion&&_.each(x.experimental_components[s].items,function(e,t){var o=Math.round(e.contents.length/10);o<1?o=1:4<o&&(o=4);for(var a=0;a<e.contents.length;a++)e.contents[a].firstFew=a<o?1:0}),x.experimental_components[s].pages=x.experimental_components[s].pages||[],x.experimental_components[s].templates=x.experimental_components[s].templates||[],_.each(o.pages,function(e){"ct_template"===e.type?x.experimental_components[s].templates.push(e):x.experimental_components[s].pages.push(e)}),CtBuilderAjax.freeVersion){var a=Math.round(x.experimental_components[s].pages.length/10);a<1?a=1:4<a&&(a=4);for(var n=0;n<x.experimental_components[s].pages.length;n++)x.experimental_components[s].pages[n].firstFew=n<a?1:0;(a=Math.round(x.experimental_components[s].templates.length/10))<1?a=1:4<a&&(a=4);for(n=0;n<x.experimental_components[s].templates.length;n++)x.experimental_components[s].templates[n].firstFew=n<a?1:0}i(r),angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).removeClass("oxygen-small-progress")}).catch(function(e){console.log(e.data,e.status),angular.element(".oxygen-sidebar-breadcrumb",window.parent.document).removeClass("oxygen-small-progress")})},x.getPageFromSource=function(e,t,o,a){h.showLoadingOverlay("getPageFromSource()"),v({method:"GET",transformResponse:!1,url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),params:{action:"ct_new_style_api_call",nonce:CtBuilderAjax.nonce,call_type:"get_page_from_source",id:e,post_id:CtBuilderAjax.postId,source:btoa(t)}}).then(function(e){a(e.data,t,o),h.hideLoadingOverlay()}).catch(function(e){h.hideLoadingOverlay(),console.log(e.data,e.status)})},x.getComponentFromSource=function(e,t,o,a,n){h.showLoadingOverlay("getComponentFromSource()"),v({method:"GET",transformResponse:!1,url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),params:{action:"ct_new_style_api_call",nonce:CtBuilderAjax.nonce,post_id:CtBuilderAjax.postId,call_type:"get_component_from_source",id:e,page:a,source:btoa(t)}}).then(function(e){h.hideLoadingOverlay(),n(e.data,!1,t,o)}).catch(function(e){h.hideLoadingOverlay(),console.log(e.data,e.status)})},x.loadedControllers=[],x.loadControlsWithAJAX=function(e){if(!x.loadedControllers[e]){x.loadedControllers[e]=!0,h.showSidebarLoader=!0;var t=CtBuilderAjax.ajaxUrl,o={action:"oxy_load_controls_"+e,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({method:"POST",url:x.stripURLProtocol(t),params:o}).then(function(e){e.data&&h.compileInsertUI(e.data,"#oxygen-sidebar-control-panel-basic-styles",0),h.showSidebarLoader=!1}).catch(function(e){console.log(e.data,e.status),h.showSidebarLoader=!1})}},x.loadElementsPresets=function(e){x.elementPresets={},h.showLoadingOverlay("loadElementsPresets()");var t=CtBuilderAjax.ajaxUrl,o={action:"oxy_load_elements_presets",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({method:"POST",url:t,params:o}).then(function(e){e.data?x.elementPresets=e.data:console.log("No default presets loaded"),h.hideLoadingOverlay("loadElementsPresets()")}).catch(function(e){console.log(e.data,e.status),h.hideLoadingOverlay("loadElementsPresets()")})},x.getSoundCloudTrackID=function(e){h.showLoadingOverlay("getSoundCloudTrackID()");var t=CtBuilderAjax.ajaxUrl,o={action:"oxy_get_soundcloud_track_id",soundcloud_url:e,post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};v({method:"POST",url:x.stripURLProtocol(t),params:o}).then(function(e){e.data?x.setOptionModel("soundcloud_track_id",e.data):x.showErrorModal(0,"Error retrieving SoundCloud Track ID. Please check the URL you specified"),h.hideLoadingOverlay()}).catch(function(e){console.log(e.data,e.status),h.hideLoadingOverlay()})},x.loadConditionsOptions=function(t,e){var o=x.component.active.id,a=iframeScope.component.options[o].model.globalconditions[t].searchValue,n=CtBuilderAjax.ajaxUrl,r={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:e,search_value:a};jQuery(".oxygen-select-box-options",h.oxygenUIElement).css({opacity:"0.5",pointerEvents:"none"}),v({method:"POST",url:x.stripURLProtocol(n),params:r}).then(function(e){x.updateConditionOptions(t,e.data,a),jQuery(".oxygen-select-box-options",h.oxygenUIElement).css({opacity:"",pointerEvents:""})}).catch(function(e){console.log(e.data,e.status),jQuery(".oxygen-select-box-options",h.oxygenUIElement).css({opacity:"",pointerEvents:""})})},x.loadEditingList=function(){var e=CtBuilderAjax.ajaxUrl,t={post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce,action:"oxy_load_editing_list",query:h.currentlyEditingFilter};v({method:"POST",url:x.stripURLProtocol(e),params:t}).then(function(e){console.log(e),x.editingList=e.data,x.currentPreview=e.data[0]?e.data[0].post_title:""}).catch(function(e){console.log(e)})},x.getAJAXRequestURL=function(){var e=CtBuilderAjax.permalink;return CtBuilderAjax.oxyTemplate&&(e=x.template.postData&&x.template.postData.permalink?x.addTrailingSlash(x.template.postData.permalink):CtBuilderAjax.oxyReusable?x.addTrailingSlash(CtBuilderAjax.ctSiteUrl)+"?post_id="+CtBuilderAjax.postId:CtBuilderAjax.ajaxUrl),e=e.replace("https:","").replace("http:","")},x.stripURLProtocol=function(e){return e.replace("https:","").replace("http:","")},x.addTrailingSlash=function(e){var t=new URL(e);return e=e.replace(/\/+$/,""),t.search&&0<t.search.length?e:e+"/"},x.setPostEditLockTransient=function(e){var t={action:"set_oxygen_edit_post_lock_transient",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};void 0!==e&&!1===e&&(t.action="unset_oxygen_edit_post_lock_transient"),v({method:"POST",url:x.stripURLProtocol(CtBuilderAjax.ajaxUrl),params:t}).catch(function(e,t,o,a){console.log(e,t)})},setInterval(function(){x.setPostEditLockTransient()},1e4)}]);
CTFrontendBuilder.controller("ControllerHeader",["$scope","$timeout",function(t,e){t.emptyHeaderRowComponent=[],t.checkEmptyHeaderRow=function(e){if(t.emptyHeaderRowComponent[e]=!1,t.findComponentItem(t.componentsTree.children,e,t.checkEmptyHeaderRowCallback),!t.emptyHeaderRowComponent[e])return"oxy-header-row-empty"},t.checkEmptyHeaderRowCallback=function(e,n,o){angular.forEach(n.children,function(e){e.children&&(t.emptyHeaderRowComponent[n.id]=!0)})},t.isLastRow=function(e){void 0===e&&(e=t.component.active.id);var n=t.getComponentById(e);return!!jQuery(n).hasClass("oxy-header-row")&&0===jQuery(n).siblings(".oxy-header-row").length},t.isBuiltIn=function(e){if(void 0===e&&(e=t.component.active.id),t.component.options[e].original&&"true"==t.component.options[e].original.oxy_builtin)return!0},t.isTemplateInnerContent=function(e){if(e&&"ct_inner_content"==e.name&&1e5<=e.id)return!0}}]);
CTFrontendBuilder.controller("ControllerClasses",["$scope","$parentScope","$timeout",function(i,t,s){i.currentClass=!1,i.activeSelectors={},i.componentsClasses=[],i.classes={},i.suggestedClasses=[],i.newcomponentclass={name:""},i.updateTreeComponentClasses=function(e,o,n){n?(index=o.options.classes.indexOf(n),-1<index&&o.options.classes.splice(index,1)):(o.options.classes||(o.options.classes=[]),o.options.classes.push(i.currentClass))},i.setCurrentClass=function(e,o){i.log&&console.log("setCurrentClass()",e),i.switchState("original"),!1!==(i.currentClass=e)&&(i.activeSelectors=i.activeSelectors||{},i.activeSelectors[i.component.active.id]=e),i.showClasses=!1,o||(i.applyModelOptions(),i.outputCSSOptions(i.component.active.id),t.checkTabs())},i.removeComponentClass=function(e,o){if(i.log&&console.log("removeComponentClass()",e,o),i.switchEditToId(),void 0===o&&(o=i.component.active.id),i.componentsClasses[o]?key=i.componentsClasses[o].indexOf(e):key=-1,-1<key){i.componentsClasses[o].splice(key,1);var n=e}i.activeSelectors[o]===e&&(i.activeSelectors[o]=!1,i.switchEditToId()),i.findComponentItem(i.componentsTree.children,o,i.updateTreeComponentClasses,n),i.unsavedChanges();var s=iframeScope.getComponentById(o).closest(".oxy-dynamic-list");0<s.length&&iframeScope.dynamicListAction(s.attr("ng-attr-component-id"),o)},i.tryAddClassToComponent=function(e){i.cancelDeleteUndo();var o=i.newcomponentclass.name;if(void 0!==o&&""!==o.trim()||(o=prompt("Class name:")),null!=o){if(!i.validateClassName(o))return alert("Wrong selector name. Name must begin with an underscore (_), a hyphen (-), or a letter(a–z), followed by any number of hyphens, underscores or letters."),!1;i.addClassToComponent(e,o),i.newcomponentclass.name="";var n=iframeScope.getComponentById(e).closest(".oxy-dynamic-list");0<n.length&&iframeScope.dynamicListAction(n.attr("ng-attr-component-id"),e)}},i.processClassNameInput=function(e,o){if(13===e.keyCode){i.tryAddClassToComponent(o);var n=s(function(){jQuery(".oxygen-select",t.oxygenUIElement).trigger("click"),s.cancel(n)},0,!1)}},i.onSelectorDropdown=function(){t.ctSelectBoxFocus=!0},i.isNotSelectedYet=function(e){return(!i.activeSelectors||void 0===i.activeSelectors[e])&&!!(i.justaddedcomponents&&-1<i.justaddedcomponents.indexOf(e))},i.addClassToComponent=function(e,o,n){i.log&&console.log("addClassToComponent()",e,o),void 0===n&&(n=!0),i.componentsClasses[e]?key=i.componentsClasses[e].indexOf(o):(i.componentsClasses[e]=[],key=-1);var s=!1;if(i.classes[o]||(i.classes[o]={},i.classes[o].original={},s=!0),-1<key)return n&&i.setCurrentClass(o),!1;i.componentsClasses[e].push(o),n&&i.setCurrentClass(o),s&&e==i.component.active.id&&t.isActiveName("ct_div_block")&&t.isActiveParentName("ct_new_columns")&&i.setOptionModel("width-unit","%",e,"ct_div_block"),i.findComponentItem(i.componentsTree.children,e,i.updateTreeComponentClasses),i.unsavedChanges()},i.addClassToComponentSafe=function(e,o){i.currentClass=o,i.addClassToComponent(e,o,!1),i.currentClass=!1},i.isComponentHasClass=function(e,o){return!!i.componentsClasses[e]&&(key=i.componentsClasses[e].indexOf(o),-1<key)},i.isComponentHasClasses=function(e){return void 0===e&&(e=i.component.active.id),!!(i.componentsClasses[e]&&0<i.componentsClasses[e].length)},i.tryDeleteClass=function(e){if(i.cancelDeleteUndo(),!confirm('Delete "'+e+'" from install? (Changes will take effect on Save)'))return!1;i.deleteClass(e)},i.deleteClass=function(s){i.log&&console.log("deleteClass()",s),delete i.classes[s],i.selectorToEdit=!1,i.currentClass=!1,angular.forEach(i.componentsClasses,function(e,o){var n=e.indexOf(s);-1<n&&(e.splice(n,1),i.findComponentItem(i.componentsTree.children,o,i.updateTreeComponentClasses,s))}),-1==i.component.active.id&&i.activateComponent(0,"root"),delete i.cache.classStyles[i.currentClass],i.outputCSSOptions(),i.unsavedChanges()},i.getGlobalConditionsClass=function(e){var o=iframeScope.component.options[e].model.globalConditionsResult;return!1===o&&void 0!==o?" ct_hidden_by_conditional_logic":""},i.getComponentsClasses=function(e,o){if(!iframeScope.component.options[e])return"";var n="ct-component "+o,s=iframeScope.component.options[e].model.conditionsresult;if(1!==s&&void 0!==s&&(n+=" ct_hidden_by_conditional_logic"),n+=i.getGlobalConditionsClass(e),"ct_section"!=o&&"ct_columns"!=o&&"ct_column"!=o&&(n+=" "+o.replace(new RegExp("_","g"),"-")),i.componentsClasses[e]){var t=angular.copy(i.componentsClasses[e]);for(var a in t)if(t.hasOwnProperty(a)){var l=t[a];l&&0<l.indexOf("-tab-active")&&0===l.indexOf("tabs")&&(t[a]=null),l&&0<l.indexOf("-expanded")&&0===l.indexOf("toggle-")&&(t[a]=null)}n+=" "+t.join(" ")}return"ct_svg_icon"==o&&(n+=" ct-"+i.component.options[e].model["icon-id"]),"ct_link"!=o&&"ct_link_text"!=o&&"ct_link_button"!=o||(n+=" ct-links"),"ct_section"==o&&i.component.options[e].model.video_background&&(n+=" oxy-video-background"),"oxy_header"==o&&"yes"==i.component.options[e].model.sticky_header&&(n+=" oxy-sticky-header"),"oxy_header"==o&&i.component.options[e].model["overlay-header-above"]&&"never"!=i.component.options[e].model["overlay-header-above"]&&(n+=" oxy-overlay-header"),"oxy_header_row"==o&&"yes"==i.component.options[e].model.hide_in_sticky&&(n+=" oxygen-hide-in-sticky"),"oxy_header_row"==o&&"yes"==i.component.options[e].model.show_in_sticky_only&&(n+=" oxygen-show-in-sticky-only"),"oxy_header_row"==o&&"only_show_in_overlay"==i.component.options[e].model.overlay_display&&(n+=" oxygen-only-show-in-overlay"),"oxy_header_row"==o&&"hide_in_overlay"==i.component.options[e].model.overlay_display&&(n+=" oxygen-hide-in-overlay"),"oxy_nav_menu"==o&&"on"==i.component.options[e].model.dropdowns&&(n+=" oxy-nav-menu-dropdowns"),"oxy_nav_menu"==o&&"on"==i.component.options[e].model.menu_dropdown_arrow&&(n+=" oxy-nav-menu-dropdown-arrow"),"oxy_nav_menu"==o&&"on"==i.component.options[e].model.menu_responsive_dropdowns&&(n+=" oxy-nav-menu-responsive-dropdowns"),"oxy_nav_menu"==o&&"column"==i.component.options[e].model["menu_flex-direction"]&&(n+=" oxy-nav-menu-vertical"),"oxy_gallery"==o&&("masonry"==i.component.options[e].model.layout?n+=" oxy-gallery-masonry":"grid"==i.component.options[e].model.display?n+=" oxy-gallery-grid":n+=" oxy-gallery-flex","yes"==i.component.options[e].model.gallery_captions&&(n+=" oxy-gallery-captions")),"true"==i.component.options[e].model.dont_render&&(n+=" oxy-placeholder-element"),"oxy_testimonial"==o&&("vertical"==i.component.options[e].model.testimonial_layout?n+=" oxy-testimonial-vertical":n+=" oxy-testimonial-horizontal"),"oxy_superbox"==o&&"live"!=i.component.options[e].model.superbox_editing_mode&&(n+=" oxy-superbox-editing-"+i.component.options[e].model.superbox_editing_mode),n},i.addClass=function(e){return!i.classes[e]&&(i.classes[e]={},i.classes[e].original={},!0)},i.validateClassName=function(e){return/^[a-z_-][a-z\d_-]*$/i.test(e)},i.checkComponentClasses=function(e){if(0===e||"0"===e)return!1;var o=i.activeSelectors[e];if(o&&void 0===i.classes[o]&&(i.activeSelectors[e]=!1),i.componentsClasses[e]){var n=angular.copy(i.componentsClasses[e]);for(var s in n)if(n.hasOwnProperty(s)){var t=n[s];void 0===i.classes[t]&&i.removeComponentClass(t,e)}}},i.updateSuggestedClasses=function(){var t=i.newcomponentclass.name;if(i.suggestedClasses=[],t){var e=Object.keys(i.classes);if(e.length){var o=e.filter(function(e){return-1!==e.indexOf(t)});if(i.componentsClasses&&i.component.active.id){var n=i.componentsClasses[i.component.active.id];n&&(o=o.filter(function(e){return 0==n.includes(e)}))}o.sort(function(e,o){var n=e.indexOf(t),s=o.indexOf(t);return s<n?1:n<s?-1:0});var s=parseInt(i.globalSettings.classSuggestionsLimit);s&&o.length>s&&(o=o.slice(0,s)),i.suggestedClasses=o}}},i.addSuggestedClassToComponent=function(e){i.newcomponentclass.name=e,i.suggestedClasses=[],i.tryAddClassToComponent(i.component.active.id)},i.updateClassSuggestionsLimit=function(){var e=parseInt(i.globalSettings.classSuggestionsLimit);(!e||e<0)&&(i.globalSettings.classSuggestionsLimit=i.globalSettingsDefaults.classSuggestionsLimit),i.suggestedClasses.length&&i.updateSuggestedClasses()},i.isSelectorLocked=function(e){return!(!i.classes[e]||!i.classes[e].original||"true"!=i.classes[e].original["selector-locked"])},i.getAllElementsClasses=function(e){var o=[];if(e.options&&e.options.classes&&(o=e.options.classes),e.children)for(var n in e.children)if(Object.hasOwnProperty.call(e.children,n)){var s=e.children[n];o=o.concat(i.getAllElementsClasses(s))}return o},i.getClassesWithStyles=function(e){var o={};for(var n in e)if(Object.hasOwnProperty.call(e,n)){var s=e[n];i.classes[s]&&(o[s]=i.classes[s],o[s].key=s)}return o}}]);
CTFrontendBuilder.controller("ControllerOptions",["$scope","$parentScope","$timeout",function(b,y,_){b.changesToApply=[],b.optionsHierarchy={background:{color:["background-color"],image:["background","background-image","overlay-color","video_background","video_background_overlay","background-blend-mode"],size:["background-size","background-repeat","background-attachment","background-position-left","background-position-top","background-size-width","background-size-height","background-clip"]},position:{margin_padding:["container-padding-top","container-padding-right","container-padding-bottom","container-padding-left","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","container-padding-top-unit","container-padding-right-unit","container-padding-bottom-unit","container-padding-left-unit","padding-top-unit","padding-right-unit","padding-bottom-unit","padding-left-unit","margin-top-unit","margin-right-unit","margin-bottom-unit","margin-left-unit"],size:["width","min-width","max-width","height","min-height","max-height","section-width","header-width","header-row-width","width-unit","min-width-unit","max-width-unit","height-unit","min-height-unit","max-height-unit"]},layout:{position:["display","float","visibility","z-index","clear","overflow","position","top","right","bottom","left","flex-direction","align-items","justify-content","flex-wrap","flex-reverse","align-content","order"]},typography:{typography:["font-family","font-size","font-weight","color","text-align","line-height","letter-spacing","text-decoration","font-style","text-transform","-webkit-font-smoothing"]},borders:{border:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width"],radius:["border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border-radius"]},effects:{opacity:["opacity"],transform:["transform"],transition:["transition-duration","transition-duration-unit","transition-timing-function","transition-delay","transition-delay-unit","transition-property"],"box-shadow":["box-shadow-inset","box-shadow-color","box-shadow-horizontal-offset","box-shadow-vertical-offset","box-shadow-blur","box-shadow-spread"],"text-shadow":["text-shadow-color","text-shadow-horizontal-offset","text-shadow-vertical-offset","text-shadow-blur"],"css-filter":["filter"],"animation-on-scroll":["aos-enable","aos-type","aos-easing","aos-duration","aos-offset","aos-delay","aos-anchor","aos-anchor-placement","aos-once"]},cssjs:{css:["custom-css"],js:["custom-js"]},"code-php":{"code-php":["code-php"]},"code-css":{"code-css":["code-css"]},"code-js":{"code-js":["code-js"]},"custom-attributes":{"custom-attributes":["custom-attributes"]}},b.builtinComponents={},b.lastSetEasyPostsTemplate=[],b.addNewColor=function(e,o,t){if(b.log&&console.log("addNewColor()",e,o,t),CtBuilderAjax.freeVersion)return y.hideAddNewColorDialog(),y.showDialogWindow(),void(y.dialogForms.showProGlobalColorEditDialog=!0);if("latest"==t&&(t=y.addNewColorDialogValue),void 0===t||""==t)return b.showErrorModal(0,"Color value is not defined"),y.hideAddNewColorDialog(),!1;if(void 0===e||""==e)return b.showErrorModal(0,"Color name is not defined"),y.hideAddNewColorDialog(),!1;var n=b.getGlobalColorSet(o);if(b.getGlobalColorbyName(e,n.name))return b.showErrorModal(0,"'"+e+"' already exist in '"+n.name+"' set"),y.newGlobalSettingsColorName="",y.hideAddNewColorDialog(),!1;void 0!==o&&""!==o||(o=0),b.globalColorSets.colorsIncrement++,b.globalColorSets.colors.push({id:b.globalColorSets.colorsIncrement,name:e,value:t,set:o}),b.parentScope.setGlobalColor(b.globalColorSets.colorsIncrement),y.hideAddNewColorDialog(),y.newGlobalColorName="",y.newGlobalColorValue="",y.newGlobalSettingsColorName="",y.showAddGlobalColorPanel=!1},b.addNewColorSet=function(e){return b.log&&console.log("addNewColorSet()",e),CtBuilderAjax.freeVersion?(y.showDialogWindow(),void(y.dialogForms.showProGlobalColorEditDialog=!0)):null==e||""==e?(b.showErrorModal(0,"Color Set name is not defined"),!1):b.getGlobalColorSetbyName(e)?(b.showErrorModal(0,"'"+e+"' name is already taken"),!1):(b.globalColorSets.setsIncrement++,b.globalColorSets.sets.push({id:b.globalColorSets.setsIncrement,name:e}),y.newGlobalColorSetName="",void(y.addGlobalColorSetPanel=!1))},b.isGlobalColorValue=function(e){return 0===e.indexOf("color(")},b.getGlobalColorID=function(e){if(b.log&&console.log("getGlobalColorID()",e),!e||"string"!=typeof e)return!1;if(0!==e.indexOf("color("))return!1;var o=/\(([^)]+)\)/.exec(e);return null!=o&&o[1]},b.getGlobalColorValue=function(e){b.log&&console.log("getGlobalColorValue()",e);var o=b.getGlobalColorID(e);if(!1===o)return e;var t=b.globalColorSets.colors.find(function(e){return e.id==o});return void 0===t||void 0===t.value?e:t.value},b.getGlobalColorNiceName=function(e){b.log&&console.log("getGlobalColorValue()",e);var o=b.getGlobalColorID(e);if(!1===o)return!1;var t=b.globalColorSets.colors.find(function(e){return e.id==o});if(void 0===t||void 0===t.value)return!1;var n=b.getGlobalColorSet(t.set);return void 0!==n&&void 0!==n.name&&n.name+" - "+t.name},b.getGlobalColor=function(o){return b.log&&console.log("getGlobalColor()",o),b.globalColorSets.colors.find(function(e){return e.id==o})},b.getGlobalColorbyName=function(o,e){b.log&&console.log("getGlobalColorbyName()",o,e);var t=b.getGlobalColorSetbyName(e);return b.globalColorSets.colors.find(function(e){return e.name==o&&e.set==t.id})},b.getGlobalColorSet=function(o){return b.log&&console.log("getGlobalColorSet()",o,b.globalColorSets.sets),b.globalColorSets.sets.find(function(e){return e.id==o})},b.getGlobalColorSetbyName=function(o){return b.log&&console.log("getGlobalColorSet()",o,b.globalColorSets.sets),b.globalColorSets.sets.find(function(e){return e.name==o})},b.deleteGlobalColorSet=function(o,e){if(!confirm("Are you sure to delete this set?"))return!1;var t=b.globalColorSets.sets.findIndex(function(e){return e.id==o});for(var t in b.globalColorSets.sets.splice(t,1),b.globalColorSets.colors){if(b.globalColorSets.colors.hasOwnProperty(t))b.globalColorSets.colors[t].set===o&&(b.globalColorSets.colors[t]=null)}b.globalColorSets.colors=b.globalColorSets.colors.filter(function(e){return null!==e}),!0===e&&(y.toggleSettingsPanel(!0),y.switchTab("settings","colors")),b.unsavedChanges()},b.deleteGlobalColor=function(o,e){var t=b.globalColorSets.colors.findIndex(function(e){return e.id==o});b.globalColorSets.colors.splice(t,1),b.unsavedChanges()},b.globalColorSetHasColors=function(o){return b.globalColorSets.colors.find(function(e){return e.set==o})},b.replaceGlobalColors=function(e){return void 0===e?e:e.replace(/color\(\d+\)/g,function(e){return b.getGlobalColorValue(e)})},b.replaceGlobalWooSettings=function(e){return void 0===e?e:(e=e.replace(/%%ASSETS_PATH%%/g,CtBuilderAjax.wooAssetsPath)).replace(/var\(.*?\)/g,function(e){if(variable=e.replace("var(",""),variable=variable.replace(")",""),b.globalSettings.woo&&b.globalSettings.woo[variable]){var o="";b.globalSettings.woo[variable+"-unit"]&&(o=b.globalSettings.woo[variable+"-unit"]),e=b.globalSettings.woo[variable]+o}return e=b.getGlobalColorValue(e)})},b.parseAPIOptions=function(e,o,t){return b.log&&console.log("replaceComponentOptions()",e,o,t),void 0!==e&&void 0!==o&&e&&o?e.replace(/%%\S+%%/g,function(e){return"%%ELEMENT_ID%%"===e?b.component.options[o].selector:(e=e.replace(/%%/g,""),"{{component.options["+o+"]['model']['"+e+"']}}")}):e},b.replaceComponentOptions=function(e,o,t){return b.log&&console.log("replaceComponentOptions()",e,o,t),void 0!==e&&void 0!==o&&e&&o?e.replace(/%%\S+%%/g,function(e){return"%%ELEMENT_ID%%"===e?b.component.options[o].selector:(e=e.replace(/%%/g,""),b.APIPresets.typography&&-1<b.APIPresets.typography.indexOf(e)?b.generateTypographyCSS(t,e):t?t[e]?t[e]+b.getOptionUnit(e):"":b.getOption(e,o)+b.getOptionUnit(e))}):e},b.updateTreeComponentOptions=function(e,o,t){b.log&&console.log("updateTreeComponentOptions()",e,o,t);var n=b.defaultOptions[o.name];b.currentState;n.ct_content&&(o.options.ct_content=n.ct_content)},b.updateTreeComponentOption=function(e,o,t){b.log&&console.log("updateTreeComponentOption()",e,o,t);var n=b.defaultOptions[o.name],i=b.currentState,s=t.optionName,a="";if(-1===b.optionsWhiteList.indexOf(s)&&-1===b.optionsWhiteListNoMedia.indexOf(s)&&(i="original"),0<=t.optionName.indexOf("fake_")&&0<=t.optionName.indexOf("hover_")&&(i="hover",s=s.replace("fake_","")),a="selector"==s?b.component.options[t.id][s]:!b.isEditing("id")||b.isEditing("state")||b.isEditing("media")?b.component.options[t.id].model[s]:b.component.options[t.id].id[s],0<=t.optionName.indexOf("fake_")&&0<=t.optionName.indexOf("hover_")&&(s=s.replace("hover_","")),"ct_column"==t.tag&&"width"==s)return(!o.options[i]||Array.isArray(o.options[i])&&0===o.options[i].length)&&(o.options[i]={}),o.options[i][s]=a,b.component.options[t.id][i][s]=a,!0;if(b.isEditing("class")&&(0<=b.optionsWhiteList.indexOf(s)||0<=b.optionsWhiteListNoMedia.indexOf(s)||"icon-style"==s||"button-style"==s||"gradient"==s))b.classes[b.currentClass]&&(b.cache.classStyles[b.currentClass]="","icon-style"==s||"button-style"==s?b.classes[b.currentClass].original[s]=a:"selector"==s||"ct_id"==s||"ct_parent"==s||"ct_content"==s||"classes"==s||"url"==s&&t.isShortcode||(!b.isEditing("media")||0<=b.optionsWhiteListNoMedia.indexOf(s)?((!b.classes[b.currentClass][i]||Array.isArray(b.classes[b.currentClass][i])&&0===b.classes[b.currentClass][i].length)&&(b.classes[b.currentClass][i]={}),""==a?delete b.classes[b.currentClass][i][s]:b.classes[b.currentClass][i][s]=angular.copy(a)):(b.classes[b.currentClass].media||(b.classes[b.currentClass].media={}),b.classes[b.currentClass].media[b.currentMedia]||(b.classes[b.currentClass].media[b.currentMedia]={}),b.classes[b.currentClass].media[b.currentMedia][i]||(b.classes[b.currentClass].media[b.currentMedia][i]={}),""==a?delete b.classes[b.currentClass].media[b.currentMedia][i][s]:b.classes[b.currentClass].media[b.currentMedia][i][s]=a)));else if(b.isEditing("media")&&0<=b.optionsWhiteList.indexOf(s)&&"selector"!=s&&"ct_id"!=s&&"ct_parent"!=s)b.setMediaParameter(t.id,s,a,i),(!o.options.media||Array.isArray(o.options.media)&&0===o.options.media.length)&&(o.options.media={}),(!o.options.media[b.currentMedia]||Array.isArray(o.options.media[b.currentMedia])&&0===o.options.media[b.currentMedia].length)&&(o.options.media[b.currentMedia]={}),(!o.options.media[b.currentMedia][i]||Array.isArray(o.options.media[b.currentMedia][i])&&0===o.options.media[b.currentMedia][i].length)&&(o.options.media[b.currentMedia][i]={}),""==a||null==a?(delete o.options.media[b.currentMedia][i][s],delete b.component.options[t.id].media[b.currentMedia][i][s],b.isObjectEmpty(o.options.media[b.currentMedia][i])&&delete o.options.media[b.currentMedia][i],b.isObjectEmpty(o.options.media[b.currentMedia])&&delete o.options.media[b.currentMedia],b.isObjectEmpty(o.options.media)&&delete o.options.media):o.options.media[b.currentMedia][i][s]=a;else if(b.component.options[t.id][i]||(b.component.options[t.id][i]={}),(!o.options[i]||Array.isArray(o.options[i])&&0===o.options[i].length)&&(o.options[i]={}),-1<b.allowedEmptyOptions.indexOf(s)&&"original"==i?b.component.options[t.id][i][s]=a:void 0===a&&"original"==i?b.component.options[t.id][i][s]=n[s]:""===a?delete b.component.options[t.id][i][s]:b.component.options[t.id][i][s]=a,0<s.indexOf("-unit")){var r=s.replace("-unit","");b.component.options[t.id][i][s]!=n[s]||b.component.options[t.id][i][r]!=n[r]||b.component.options[t.id].id[r]?b.component.options[t.id][i][s]==n[s]?delete o.options[i][s]:(o.options[i][s]=a,o.options[i][r]=b.component.options[t.id][i][r]):(delete o.options[i][s],delete o.options[i][r])}else if(void 0!==n[s+"-unit"]&&n[s+"-unit"]!==b.component.options[t.id][i][s+"-unit"])""!=a&&null!=a?o.options[i][s]=a:(delete o.options[i][s],delete b.component.options[t.id][i][s],"original"==i&&(b.component.options[t.id][i][s]=n[s]));else if("ct_content"==s){var l=b.getComponentById(t.id),c=!1;if(l&&(c=l.attr("contenteditable")),c){var d=angular.element("<span>"+a+"</span>"),p=!1;angular.forEach(d.find("*"),function(e){var o=angular.element(e),t=o.attr("ng-attr-component-id");t&&(o.replaceWith('<span id="ct-placeholder-'+t+'"></span>'),p=!0)}),o.options[s]=p?d.prop("innerHTML"):a}else o.options[s]=a}else"selector"==s||"ct_id"==s||"ct_parent"==s||"classes"==s||"url"==s&&t.isShortcode?o.options[s]=a:i&&(""!==a&&void 0!==a||-1!==b.allowedEmptyOptions.indexOf(s)?o.options[i][s]=a:delete o.options[i][s])},b.updateTreeComponentTag=function(e,o,t){"ct_shortcode"==(o.name=t)&&(o.options.ct_shortcode=!0),b.component.active.id==e&&(b.component.active.name=t),b.component.options[e].nicename&&""!==b.component.options[e].nicename.trim()&&(b.component.options[o.id].nicename=b.calcDefaultComponentTitle(o),o.options.nicename=b.component.options[o.id].nicename,b.updateBreadcrumbs(o.id));var n=_(function(){b.rebuildDOM(e),_.cancel(n)},0,!1)},b.applyComponentDefaultOptions=function(e,o,t){for(var n in b.log&&console.log("applyComponentDefaultOptions()",e,o),b.component.options[e]||(b.component.options[e]={}),b.component.options[e].original||(b.component.options[e].original={}),b.component.options[e].id||(b.component.options[e].id={}),b.defaultOptions[o])if(b.defaultOptions[o].hasOwnProperty(n)){var i=b.defaultOptions[o][n];b.component.options[e].original[n]=i,("font-family"==n||-1<n.indexOf("font-family"))&&b.loadWebFont(i)}b.component.options[e].selector||(b.component.options[e].selector=o.slice(3)+"-"+e+"-"+CtBuilderAjax.postId),t&&!b.component.options[e].source_id&&(b.component.options[e].source_id=t.source_id),b.component.options[e].name||(b.component.options[e].name=o),t&&t.options&&t.options.ct_category&&(b.component.options[e].ct_category=t.options.ct_category),b.component.options[e].model=angular.copy(b.component.options[e].original)},b.applyComponentSavedOptions=function(e,o){for(var t in b.log&&console.log("applyComponentSavedOptions()",e,o),b.checkGlobalFont(o.options),o.options)if(o.options.hasOwnProperty(t)){var n=o.options[t];if("object"==typeof n&&"classes"!=t){for(var i in b.component.options[e][t]||(b.component.options[e][t]={}),n)if(n.hasOwnProperty(i)){var s=n[i];"original"==t&&(b.component.options[e].id[i]=s),b.component.options[e][t][i]=s,b.log,("font-family"==i||-1<i.indexOf("font-family"))&&b.loadWebFont(s)}}else"object"!=typeof n&&("selector"==t?b.component.options[e][t]=n:b.component.options[e].original[t]=n)}b.component.options[e].model=angular.copy(b.component.options[e].original),o.options.oxy_builtin&&(b.builtinComponents[e]=!0)},b.haveNotRegisteredElements=function(){for(var e in b.notRegisteredElements)if(b.notRegisteredElements.hasOwnProperty(e)&&b.getComponentById(e)&&e<1e5)return!0;return!1},b.applyModelOptions=function(s,e){if(void 0===s&&(s=b.component.active.id),void 0===e&&(e=b.component.active.name),b.log&&console.log("applyModelOptions()",s,e),0!==s&&"0"!==s){if(b.component.options[s]||(b.component.options[s]={}),b.component.options[s].model={},e&&(b.defaultOptions[e]&&!b.defaultOptions[e]["not-registered"]||(b.component.options[s].model["not-registered"]=!0,b.defaultOptions[e]={},b.defaultOptions[e]["not-registered"]=!0,b.notRegisteredElements[s]=!0)),angular.extend(b.component.options[s].model,b.component.options[s].original),b.isEditing("id")&&(b.isEditing("media")?(b.component.options[s].model={},b.component.options[s].media&&b.component.options[s].media[b.currentMedia]&&(b.component.options[s].model=angular.copy(b.component.options[s].media[b.currentMedia][b.currentState]||{}))):b.isEditing("state")&&(b.component.options[s].model=angular.copy(b.component.options[s][b.currentState]||{}))),b.isEditing("class")&&"object"==typeof b.classes[b.currentClass])if(b.component.options[s].model=angular.copy(b.classes[b.currentClass].original||{}),b.isEditing("media"))for(var o in b.component.options[s].model={},b.classes[b.currentClass].media&&b.classes[b.currentClass].media[b.currentMedia]&&(b.component.options[s].model=angular.copy(b.classes[b.currentClass].media[b.currentMedia][b.currentState]||{})),b.classes[b.currentClass][b.currentState])b.classes[b.currentClass][b.currentState].hasOwnProperty(o)&&-1<b.optionsWhiteListNoMedia.indexOf(o)&&(b.component.options[s].model[o]=b.classes[b.currentClass][b.currentState][o]);else b.component.options[s].model={},b.classes[b.currentClass]&&b.classes[b.currentClass][b.currentState]&&(b.component.options[s].model=angular.copy(b.classes[b.currentClass][b.currentState]||{}));for(var t in b.isEditing("custom-selector")&&!b.isEditing("class")&&b.customSelectors[b.selectorToEdit]&&(b.isEditing("media")?(b.component.options[s].model={},b.customSelectors[b.selectorToEdit].media&&b.customSelectors[b.selectorToEdit].media[b.currentMedia]&&(b.component.options[s].model=angular.copy(b.customSelectors[b.selectorToEdit].media[b.currentMedia][b.currentState]||{}))):(b.component.options[s].model={},b.customSelectors[b.selectorToEdit]&&b.customSelectors[b.selectorToEdit][b.currentState]&&(b.component.options[s].model=angular.copy(b.customSelectors[b.selectorToEdit][b.currentState]||{})))),b.component.options[s].model)(b.component.options[s].model.hasOwnProperty(t)&&"font-family"==t||-1<t.indexOf("font-family"))&&b.loadWebFont(b.component.options[s].model[t]);for(var t in b.component.options[s].model)b.component.options[s].model.hasOwnProperty(t)&&b.component.options[s].model[t+"-unit"]&&(!b.isEditing("id")||b.isEditing("media")||b.isEditing("state")||b.component.options[s].model[t+"-unit"]==b.defaultOptions[e][t+"-unit"]||b.component.options[s].id[t]||delete b.component.options[s].model[t]);if(!b.isEditing("custom-selector"))for(var o in b.component.options[s].original)b.component.options[s].original.hasOwnProperty(o)&&-1===b.optionsWhiteList.indexOf(o)&&(!b.isEditing("class")||"icon-style"!=o&&"button-style"!=o&&"gradient"!=o?b.isEditing("class")&&-1<b.optionsWhiteListNoMedia.indexOf(o)||(b.component.options[s].model[o]=b.component.options[s].original[o]):null!=b.classes[b.currentClass].original&&(b.component.options[s].model[o]=angular.copy(b.classes[b.currentClass].original[o])));if(b.isEditing("id")){for(var n in c(b.component.options[s]),b.component.options[s].media){if(b.component.options[s].media.hasOwnProperty(n))c(b.component.options[s].media[n])}if(b.isEditing("media"))for(var o in b.component.options[s][b.currentState])if(b.component.options[s][b.currentState].hasOwnProperty(o)){var i=b.component.options[s][b.currentState][o];""!==b.component.options[s].model[o]&&void 0!==b.component.options[s].model[o]||(b.component.options[s].model[o]=i)}}if(b.isEditing("class")){for(var n in c(b.component.options[b.classes[b.currentClass]]),b.classes[b.currentClass].media){if(b.classes[b.currentClass].media.hasOwnProperty(n))c(b.classes[b.currentClass].media[n])}if(b.isEditing("media")&&b.classes[b.currentClass][b.currentState])for(var o in b.classes[b.currentClass][b.currentState])if(b.classes[b.currentClass][b.currentState].hasOwnProperty(o)){i=b.classes[b.currentClass][b.currentState][o];""!==b.component.options[s].model[o]&&void 0!==b.component.options[s].model[o]||(b.component.options[s].model[o]=i)}}if(b.isEditing("custom-selector")&&!b.isEditing("class")&&void 0!==b.customSelectors[b.selectorToEdit]){for(var n in c(b.customSelectors[b.selectorToEdit]),b.customSelectors[b.selectorToEdit].media){if(b.customSelectors[b.selectorToEdit].media.hasOwnProperty(n))c(b.customSelectors[b.selectorToEdit].media[n])}if(b.isEditing("media")&&b.customSelectors[b.selectorToEdit][b.currentState])for(var o in b.customSelectors[b.selectorToEdit][b.currentState])if(b.customSelectors[b.selectorToEdit][b.currentState].hasOwnProperty(o)){i=b.customSelectors[b.selectorToEdit][b.currentState][o];""!==b.component.options[s].model[o]&&void 0!==b.component.options[s].model[o]||(b.component.options[s].model[o]=i)}}if("ct_section"==e){var a=["container-padding-top","container-padding-top-unit","container-padding-bottom","container-padding-bottom-unit","container-padding-left","container-padding-left-unit","container-padding-right","container-padding-right-unit"];for(var r in a)a.hasOwnProperty(r)&&(o=a[r],null!=b.component.options[s].model[o]&&""!=b.component.options[s].model[o]||(b.component.options[s].model[o]=b.globalSettings.sections[o]))}if(b.isEditing("class")){var l=["grid-column-count","grid-columns-auto-fit","grid-column-min-width","grid-column-max-width","grid-column-gap","grid-justify-items","grid-match-height-of-tallest-child","grid-row-behavior","grid-row-count","grid-row-min-height","grid-row-max-height","grid-row-gap","grid-align-items"];for(var r in l)l.hasOwnProperty(r)&&(o=l[r],null!=b.component.options[s].model[o]&&""!=b.component.options[s].model[o]||(b.component.options[s].model[o]=b.defaultOptions[e][o]||b.defaultOptions.all[o]))}}function c(e){for(var o in e)if(e.hasOwnProperty(o)){var t=e[o];for(var n in t)if(t.hasOwnProperty(n)){var i=b.component.options[s].model[n];""!==i&&void 0!==i||(b.component.options[s].model[n]=b.getClosestBreakpointValue(n))}}}},b.setOption=function(t,o,e,n,i){("wp_query_advanced"==e&&b.parentScope.dialogForms.advancedquery&&(b.component.options[b.component.active.id].model.wp_query_advanced_preset="Custom Settings",b.setOption(b.component.active.id,b.component.active.name,"wp_query_advanced_preset")),b.cancelDeleteUndo(),b.log&&(console.log("setOption() '"+e+"' for '"+o+"' id:"+t+" tag to '"+b.component.options[t].model[e]+"'"),b.functionStart("setOption()")),null==b.component.options[t].model[e]&&(b.component.options[t].model[e]=""),b.adjustResizeBox(),y.disableSelectorDetectorMode&&y.disableSelectorDetectorMode(),e&&0===e.indexOf("aos-")&&"aos-enable"!==e&&"aos-type"!==e)&&(s=b.getComponentById(t)).attr("data-"+e,b.component.options[t].model[e]);if("aos-type"==e){var s=b.getComponentById(t),a=b.getOption("aos-type",t)||b.pageSettingsMeta.aos.type||b.pageSettings.aos.type||b.globalSettings.aos.type;a?s.attr("data-aos",a):s.removeAttr("data-aos")}if(!b.isEditing("id")||b.isEditing("media")||b.isEditing("state")||(void 0!==b.component.options[t].model[e]?(b.component.options[t].id||(b.component.options[t].id={}),b.component.options[t].id[e]=angular.copy(b.component.options[t].model[e])):""==b.component.options[t].model[e]&&(-1===b.allowedEmptyOptions.indexOf(e)?(delete b.component.options[t].id[e],b.component.options[t].model[e+"-unit"]?b.component.options[t].model[e+"-unit"]==b.defaultOptions[o][e+"-unit"]&&(b.component.options[t].model[e]=b.defaultOptions[o][e],b.component.options[t].original[e]=b.defaultOptions[o][e]):"ct_content"!=e&&(b.component.options[t].model[e]=b.defaultOptions[o][e],b.component.options[t].original[e]=b.defaultOptions[o][e])):(b.component.options[t].id||(b.component.options[t].id={}),b.component.options[t].id[e]=b.component.options[t].model[e]))),b.isEditing("class")&&""==b.currentClass)return alert("Please choose the class from the list or set a new one."),b.functionEnd("setOption()"),!1;if("ct_column"==o&&"width"==e&&(100<b.component.options[t].model[e]&&(b.component.options[t].model[e]=100),b.component.options[t].model[e]<0&&(b.component.options[t].model[e]=0)),e&&"custom-css"==e){var r=b.component.options[t].model[e],l=!0,c="";if(0<r.length&&(-1<r.indexOf("{")||-1<r.indexOf("}")?(l=!1,c="The Custom CSS field contains one or more curly braces. The CSS will not be saved until all curly braces are removed."):-1==r.indexOf(":")&&(l=!1,c="The Custom CSS field contains invalid CSS. The CSS will not be saved until this is corrected."),!l))return jQuery(".oxygen-code-error-container",y.oxygenUIElement).show().html(c),!1;jQuery(".oxygen-code-error-container",y.oxygenUIElement).hide().html("")}if(e&&-1<e.indexOf("border-all")&&($newOptValue=b.component.options[t].model[e],b.setOptionModel(e.replace("-all-","-top-"),$newOptValue,void 0,void 0,!1,!0),b.setOptionModel(e.replace("-all-","-right-"),$newOptValue,void 0,void 0,!1,!0),b.setOptionModel(e.replace("-all-","-bottom-"),$newOptValue,void 0,void 0,!1,!0),b.setOptionModel(e.replace("-all-","-left-"),$newOptValue,void 0,void 0,!1,!0),b.component.options[t].model[e]=$newOptValue,b.classesCached=!1,b.functionEnd("setOption()")),"flex-direction"==e&&("column"==b.component.options[t].model[e]||"row"==b.component.options[t].model[e]))var d=_(function(){b.setOptionModel("display","flex",t,o),_.cancel(d)},0,!1);if("display"==e&&""!=b.component.options[t].model[e]&&"flex"!=b.component.options[t].model[e])d=_(function(){b.setOptionModel("flex-direction","",t,o),_.cancel(d)},0,!1);if("display"==e&&"oxy_gallery"==o&&"grid"===b.component.options[t].model[e])d=_(function(){b.setOptionModel("grid","true",t,o),b.setOptionModel("layout","false",t,o),_.cancel(d)},0,!1);if("display"==e&&"oxy_gallery"==o&&""!=b.component.options[t].model[e]&&"grid"!==b.component.options[t].model[e]&&b.unsetOptions(["layout","grid"]),"layout"==e&&("flex"==b.component.options[t].model[e]||"masonry"==b.component.options[t].model[e])&&"grid"==b.component.options[t].model.display)d=_(function(){b.unsetOptions(["display"]),_.cancel(d)},0,!1);if(0<=["container-padding-top","container-padding-bottom","container-padding-left","container-padding-right"].indexOf(e)&&""==b.component.options[t].model[e])d=_(function(){b.applyModelOptions(t,o),b.parentScope.safeApply(),_.cancel(d)},0,!1);if(-1<["layout","link","lightbox","image_aspect_ratio","images_per_row","space_around_image","image_min_width","gallery_captions","caption_color","caption_background_color","gallery_captions_only_hover","hide_captions_below","image_opacity_hover","image_opacity","transition_duration","gallery_thumbnail_size","set_image_fit_to_cover"].indexOf(e)&&"oxy_gallery"==o)d=_(function(){b.renderComponentWithAJAX("oxy_render_gallery"),_.cancel(d)},0,!1);if(void 0!==b.componentsTemplates&&b.componentsTemplates[o]&&(componentTemplate=b.componentsTemplates[o],componentTemplate.rebuildTriggerOptions&&-1<componentTemplate.rebuildTriggerOptions.indexOf(e)))d=_(function(){b.renderComponentWithAJAX("oxy_render_"+o,t),_.cancel(d)},0,!1);if("selector"==e&&"oxy_tabs_contents"==o)d=_(function(){var e=jQuery(b.getComponentById(t)).data("oxy-tabs-wrapper"),o=jQuery("#"+e).attr("ng-attr-component-id");b.setOptionModel("tabs_contents_wrapper",b.component.options[t].selector,o,"oxy_tabs"),b.$apply(),_.cancel(d)},0,!1);if("selector"==e&&"oxy_tabs"==o)d=_(function(){var e=jQuery(b.getComponentById(t)).data("oxy-tabs-contents-wrapper"),o=jQuery("#"+e).attr("ng-attr-component-id");b.setOptionModel("tabs_wrapper",b.component.options[t].selector,o,"oxy_tabs_contents"),b.$apply(),_.cancel(d)},0,!1);if("dont_render"==e&&"ct_widget"==o)d=_(function(){b.renderWidget(t,!1),_.cancel(d)},0,!1);if("oxy_social_icons"==o&&e&&0<=b.socialIcons.networks.indexOf(e.replace("icon-",""))&&(""==b.component.options[t].model[e]||""!=b.component.options[t].model[e]&&!b.component.options[t].original[e]))d=_(function(){b.rebuildDOM(t),_.cancel(d)},0,!1);if(-1<["progress_bar_animation_stripes","progress_bar_animate_width","progress_bar_animation_stripes_duration","progress_bar_animation_width_duration"].indexOf(e))d=_(function(){b.rebuildDOM(t),_.cancel(d)},0,!1);"soundcloud_url"==e&&b.getSoundCloudTrackID(b.component.options[t].model[e]),"hide_in_sticky"==e&&"yes"==b.component.options[t].model[e]&&"yes"==b.getOption("show_in_sticky_only",t)&&b.setOptionModel("show_in_sticky_only","",t,o),"show_in_sticky_only"==e&&"yes"==b.component.options[t].model[e]&&"yes"==b.getOption("hide_in_sticky",t)&&b.setOptionModel("hide_in_sticky","",t,o);var p={id:t,tag:o,optionName:e,isShortcode:n,isData:0===o.lastIndexOf("ct_data",0)};if(b.isEditing("custom-selector")){var m=p.optionName,u=b.component.options[p.id].model[m];if(!("selector"==m||"ct_id"==m||"ct_parent"==m||"ct_content"==m||"classes"==m||"url"==m&&p.isShortcode))return b.updateCustomSelectorValue(m,u),delete b.cache.classStyles[b.currentClass],b.outputCSSOptions(),b.unsavedChanges(),void b.functionEnd("setOption()")}else void 0!==e?(b.findComponentItem(b.componentsTree.children,t,b.updateTreeComponentOption,p),0<=e.indexOf("hover_")&&"oxy_posts_grid"!=o&&(p.optionName="fake_"+p.optionName,b.findComponentItem(b.componentsTree.children,t,b.updateTreeComponentOption,p))):b.findComponentItem(b.componentsTree.children,t,b.updateTreeComponentOptions,p);if(b.unsavedChanges(),void 0!==e&&0===e.indexOf("aos-")){if("undefined"!=typeof AOS)d=_(function(){AOS.refreshHard(),_.cancel(d)},0,!1)}else if("undefined"!=typeof AOS)d=_(function(){AOS.refresh(),_.cancel(d)},0,!1);if("aos-type"==e)var g=b.getComponentById(t),f=_(function(){g.css("transitionDuration","0s").removeClass("aos-animate"),_.cancel(f)},100,!1),h=_(function(){g.css("transitionDuration","").addClass("aos-animate"),_.cancel(h)},200,!1);if(n&&b.renderShortcode(t,o),p.isData&&b.renderDataComponent(t,o),"ct_content"==e||i)b.functionEnd("setOption()");else{if("ct_video"===o&&"src"===e)if(-1!==b.component.options[t].model[e].indexOf("[oxygen")){b.applyShortcodeResults(t,b.component.options[t].model[e],function(e){b.setOptionModel("embed_src",b.getYoutubeVimeoEmbedUrl(e.trim()),t,o)})}else b.setOptionModel("embed_src",b.getYoutubeVimeoEmbedUrl(b.component.options[t].model[e]),t,o);if("background-image"===e||"ct_image"===o&&"src"===e)if(-1!==b.component.options[t].model[e].indexOf("[oxygen"))b.component.options[t].model[e+"dynamic"]=!0,b.setOption(t,o,e+"dynamic",!1,!0);else if(!0===b.component.options[t].original[e+"dynamic"]&&-1===b.component.options[t].model[e].indexOf("[oxygen")){b.component.options[t].model[e+"dynamic"]=!1,b.setOption(t,o,e+"dynamic",!1,!0);var v=(p=b.getComponentById(t)).closest(".oxy-dynamic-list");0<v.length&&!v.hasClass("oxy-dynamic-list-edit")?b.updateRepeaterQuery(parseInt(v.attr("ng-attr-component-id"))):b.rebuildDOM(t)}e&&b.isEditing("media")&&(b.defaultOptions.all[e+"-unit"]||e.indexOf(!1))&&b.applyModelOptions(t,o),b.outputCSSOptions(t),b.isNotSelectedYet(t)&&void 0!==e&&b.switchEditToId(!0),b.functionEnd("setOption()")}},b.setOptionModel=function(e,o,t,n,i,s){void 0===t&&(t=b.component.active.id),void 0===n&&(n=b.component.active.name),void 0===s&&(s=!1),b.classesCached=s,b.log&&(console.log("setOptionModel()",e,o,t,n,i),b.functionStart("setOptionModel()")),-1<e.indexOf(".")?(2==(e=e.split(".")).length&&(b.component.options[t].model[e[0]]||(b.component.options[t].model[e[0]]={}),console.log(e[0],e[1]),b.component.options[t].model[e[0]][e[1]]=o),3==e.length&&(b.component.options[t].model[e[0]]||(b.component.options[t].model[e[0]]={},b.component.options[t].model[e[0]][e[1]]={}),b.component.options[t].model[e[0]][e[1]]||(b.component.options[t].model[e[0]][e[1]]={}),b.component.options[t].model[e[0]][e[1]][e[2]]=o),b.setOption(t,n,e[0],!1,i)):(b.component.options[t].model[e]=o,b.setOption(t,n,e,!1,i)),b.functionEnd("setOptionModel()")},b.getOption=function(e,o){return void 0===o&&(o=b.component.active.id),-1<e.indexOf(".")?2==(e=e.split(".")).length&&b.component.options[o].model[e[0]]&&b.component.options[o].model[e[0]][e[1]]?b.component.options[o].model[e[0]][e[1]]:3==e.length&&b.component.options[o].model[e[0]]&&b.component.options[o].model[e[0]][e[1]]&&b.component.options[o].model[e[0]][e[1]][e[2]]?b.component.options[o].model[e[0]][e[1]][e[2]]:void 0:b.component.options[o]&&b.component.options[o].model&&void 0!==b.component.options[o].model[e]?b.component.options[o].model[e]:""},b.getCSSOptions=function(e,o,t,n,i,s){b.defaultOptions[n]||(b.defaultOptions[n]={},b.defaultOptions[n]["not-registered"]=!0);var a={};if(t)a=angular.copy(t);else{if(void 0===e)return{};void 0===o&&(o=b.currentState),b.component.options[e]&&(a=angular.copy(b.component.options[e][o]))}for(var r in a=a||{},b.log&&console.log("getCSSOptions()",e,o,a),a)if(a.hasOwnProperty(r)&&("ct_video"!=n||"padding-bottom"!=r))if(r.indexOf("-unit")<0){if(n||(n=e&&0<e?b.component.options[e].name:"all"),"container-padding-top"==r||"container-padding-bottom"==r||"container-padding-left"==r||"container-padding-right"==r){var l=a[r+"-unit"]?a[r+"-unit"]:b.globalSettings.sections[r+"-unit"];!a[r+"-unit"]&&i&&s&&(l=b.getClosestBreakpointValue(r+"-unit",i,s)?b.getClosestBreakpointValue(r+"-unit",i,s):b.defaultOptions[n][r+"-unit"]),a[r]&&(a[r]+=l)}else{if(null==b.defaultOptions[n][r+"-unit"])continue;if("auto"==a[r+"-unit"])a[r]="auto";else{l=a[r+"-unit"]?a[r+"-unit"]:b.defaultOptions[n][r+"-unit"];!a[r+"-unit"]&&i&&s&&(l=b.getClosestBreakpointValue(r+"-unit",i,s)?b.getClosestBreakpointValue(r+"-unit",i,s):b.defaultOptions[n][r+"-unit"]),a[r]&&(a[r]+=l)}}delete a[r+"-unit"]}else"auto"==a[r]&&(a[r.replace("-unit","")]="auto");for(var r in a)a.hasOwnProperty(r)&&0<r.indexOf("-unit")&&delete a[r];if(a["background-position-top"]||a["background-position-left"]){var c=a["background-position-top"]||"0%",d=a["background-position-left"]||"0%";a["background-position"]=d,a["background-position"]+=" "+c}if(a["background-position-top"]=null,a["background-position-left"]=null,"manual"==a["background-size"]){var p=a["background-size-width"]||"auto",m=a["background-size-height"]||"auto";a["background-size"]=p,a["background-size"]+=" "+m}for(var r in a["background-size-width"]=null,a["background-size-height"]=null,a)a.hasOwnProperty(r)&&-1<r.indexOf("font-family")&&"global"==a[r][0]&&(a[r]=t?b.getGlobalFont(a[r][1]):b.getComponentFont(e,!1,o));return a},b.checkOptionChanged=function(e,o){if(b.log,b.isEditing("custom-selector"))return!1;var t=!1,n=!1;if(b.isEditing("state")&&b.isEditing("id")){if(b.component.options[e][b.currentState]&&(n=b.component.options[e][b.currentState][o]),!n)return!1;if(t=b.component.options[e].original[o],"font-family"==o&&n&&"global"==n[0]&&"global"==t[0]&&n[1]==t[1])return!1;if(t&&n!=t)return"ct-option-different"}else if(b.classes[b.currentClass]&&b.classes[b.currentClass][b.currentState]&&b.classes[b.currentClass][b.currentState][o])return"ct-option-different"},b.isEditing=function(e){switch(e){case"id":return!1===b.currentClass&&0<=b.component.active.id;case"class":return!1!==b.currentClass;case"state":return"original"!=b.currentState;case"pseudo-element":return!!b.isPseudoElement(b.currentState);case"custom-selector":return!1!==b.selectorToEdit;case"style-sheet":return!1!==b.stylesheetToEdit&&void 0!==b.stylesheetToEdit;case"media":return"default"!==b.currentMedia;default:return!1}},b.switchEditToId=function(e){b.log&&console.log("switchEditToId()",b.component.active.id);var o=b.isEditing("id");if(!0!==e&&b.setCustomSelectorToEdit(!1),b.activeSelectors[b.component.active.id]||!0===e||b.setCurrentClass(!1),void 0!==e&&!0===e&&(b.activeSelectors=b.activeSelectors||{},b.activeSelectors[b.component.active.id]=!1,b.setCurrentClass(!1)),b.switchState("original"),b.showClasses=!1,o)return!1},b.setEditingStateToDefault=function(e){b.log&&console.log("setEditingStateToDefault()"),b.switchEditToId(!0),e||b.setCurrentMedia("default");var o=_(function(){b.$apply(),_.cancel(o)},0,!1)},b.pageSettingsUpdate=function(){var e=b.getPageWidth();b.mediaList["page-width"]={maxSize:e+"px",title:"Page container ("+e+"px) and below"},b.mediaListAbove["page-width"]={minSize:e+1+"px",title:"Above page container ("+e+"px)"},b.getPageSetting("overlay-header-above")&&"never"!=b.getPageSetting("overlay-header-above")?jQuery("body").addClass("oxy-overlay-header"):jQuery("body").removeClass("oxy-overlay-header"),b.updateAllComponentsCacheStyles(),b.outputCSSOptions(),b.outputPageSettingsCSS(),y.adjustViewportContainer()},b.pagePageWidthUpdate=function(){if(""!==b.pageSettingsMeta["max-width"]){var e=parseInt(b.pageSettingsMeta["max-width"])||0,o=b.getBreakPointWidth("tablet")+1;if(e<o)return b.showNoticeModal("<div>Page width value must be greater than or equal to "+o+"</div>"),void(b.pageSettingsMeta["max-width"]=b.previousBreakPointsValues["page-width"].page)}b.previousBreakPointsValues["page-width"].page=b.pageSettingsMeta["max-width"],b.pageSettingsUpdate(),b.unsavedChanges()},b.globalPageWidthUpdate=function(){var e=parseInt(b.globalSettings["max-width"])||0,o=b.getBreakPointWidth("tablet")+1;if(e<o)return b.showNoticeModal("<div>Page width value must be greater than or equal to "+o+"</div>"),void(b.globalSettings["max-width"]=b.previousBreakPointsValues["page-width"].global);b.previousBreakPointsValues["page-width"].global=b.globalSettings["max-width"],b.pageSettingsUpdate(),b.unsavedChanges()},b.breakPointsUpdate=function(e){var o,t,n,i=b.getBreakPointWidth(e),s=!0,a=!1;switch(e){case"tablet":o=b.getBreakPointWidth("phone-landscape")+1,t=b.getPageWidth()-1,n="Tablet";break;case"phone-landscape":o=b.getBreakPointWidth("phone-portrait")+1,t=b.getBreakPointWidth("tablet")-1,n="Landscape";break;case"phone-portrait":o=320,t=b.getBreakPointWidth("phone-landscape")-1,n="Portrait";break;default:s=!1}if(s){if(i<o?a="<div>"+n+" value must be greater than or equal to "+o+"</div>":t<i&&(a="<div>"+n+" value must be less than or equal to "+t+"</div>"),a)return b.globalSettings.breakpoints[e]=b.previousBreakPointsValues[e],void b.showNoticeModal(a);b.previousBreakPointsValues[e]=b.globalSettings.breakpoints[e]}b.mediaList[e]={maxSize:i-1+"px",title:"Less than "+i+"px"},b.mediaListAbove[e]={minSize:i+"px",title:"At or above "+i+"px"},b.updateAllComponentsCacheStyles(),b.outputCSSOptions(),b.outputPageSettingsCSS(),y.adjustViewportContainer(),b.unsavedChanges()},b.$watch("globalSettings.scripts",function(){b.updateScriptsSettings()},!0),b.$watch("pageSettingsMeta.scripts",function(){b.updateScriptsSettings()},!0),b.updateScriptsSettings=function(){var e=!1;b.pageSettingsMeta.scripts&&"true"==b.pageSettingsMeta.scripts.scroll_to_hash?(e=b.pageSettingsMeta.scripts,""===b.pageSettingsMeta.scripts.scroll_to_hash_time&&(e.scroll_to_hash_time=b.pageSettings.scripts.scroll_to_hash_time)):e=b.pageSettings.scripts&&"true"==b.pageSettings.scripts.scroll_to_hash?b.pageSettings.scripts:b.globalSettings.scripts;var o=e.scroll_to_hash_offset;o||(o=b.globalSettings.scripts.scroll_to_hash_offset),e&&"true"==e.scroll_to_hash?(jQuery("body").addClass("oxygen-scroll-to-hash-links"),jQuery("body").attr("data-oxygen-scroll-to-hash-links",e.scroll_to_hash_time),jQuery("body").attr("data-oxygen-scroll-to-hash-links-offset",o)):jQuery("body").removeClass("oxygen-scroll-to-hash-links")},b.getPageSetting=function(e,o){return void 0!==b.pageSettingsMeta[e]&&""!==b.pageSettingsMeta[e]?b.pageSettingsMeta[e]:void 0!==b.pageSettings[e]&&""!==b.pageSettings[e]?b.pageSettings[e]:1==o&&void 0!==b.globalSettings[e]&&""!==b.globalSettings[e]?b.globalSettings[e]:""},b.setOptionUnit=function(e,o,t){var n=e+"-unit",i=b.component.active.id,s=b.component.active.name;-1<n.indexOf(".")?(2==(n=n.split(".")).length&&b.component.options[i].model[n[0]]&&(b.component.options[i].model[n[0]][n[1]]=o),3==n.length&&b.component.options[i].model[n[0]]&&b.component.options[i].model[n[0]][n[1]]&&(b.component.options[i].model[n[0]][n[1]][n[2]]=o),b.setOption(i,s,n[0],!1,t)):(b.component.options[i].model[n]=o,b.setOption(i,s,n,!1,t)),b.applyModelOptions()},b.getOptionUnit=function(e){var o=e+"-unit",t=b.component.active.id;if(-1<o.indexOf(".")){if(2==(o=o.split(".")).length)return b.component.options[t].model[o[0]]&&b.component.options[t].model[o[0]][o[1]]?b.component.options[t].model[o[0]][o[1]]:b.defaultOptions.all[o[1]];if(3==o.length)return b.component.options[t].model[o[0]]&&b.component.options[t].model[o[0]][o[1]]&&b.component.options[t].model[o[0]][o[1]][o[2]]?b.component.options[t].model[o[0]][o[1]][o[2]]:b.defaultOptions.all[o[2]]}else{if(b.component.options[t].model&&b.component.options[t].model[o])return b.component.options[t].model[o];if(b.defaultOptions.all[o])return b.defaultOptions.all[o]}return""},b.getUnitLabel=function(e){var o=e;return" "==e&&(o="–"),o},b.getOptionUnitLabel=function(e){var o=b.getOptionUnit(e);return b.getUnitLabel(o)},b.setGlobalOptionUnit=function(e,o,t){var n=o+"-unit",i="page"==e?b.pageSettingsMeta:b.globalSettings;objectPath.set(i,n,t),"page"==e?b.outputPageSettingsCSS():b.updateGlobalSettingsCSS(),b.unsavedChanges()},b.getGlobalOptionUnit=function(e,o){var t=o+"-unit",n="page"==e?b.pageSettingsMeta:b.globalSettings;return objectPath.get(n,t,"")},b.getGlobalOptionUnitLabel=function(e,o){var t=b.getGlobalOptionUnit(e,o);return b.getUnitLabel(t)},b.getComponentSelector=function(e){return null==e&&(e=b.component.active.id),b.component.options[e].selector},b.applyComponentJS=function(e,o,t){if(b.applyingComponentJS=!0,jQuery(".oxygen-code-error-container",y.oxygenUIElement).hide().html(""),b.log&&console.log("applyComponentJS()",e,o),null==e&&(e=b.component.active.id),null==o&&(o=b.component.active.name),b.defaultOptions[o]){null==t&&(t=!0),t&&b.setOption(e,o,"custom-js",!1,!1);var n=b.getOption("custom-js",e);b.defaultOptions[o]["custom-js"]!==n&&b.outputJSScript("ct_custom_js_",e,n),b.applyingComponentJS=!1}},b.isInherited=function(e,o,t){if(void 0===t&&(t=b.getOption(o,e)),b.getOption(o,e)!=t)return!1;if(""===t)return!0;if(Array.isArray(t)&&0===t.length)return!0;if(b.isEditing("id")&&!b.isEditing("media")&&!b.isEditing("state")&&(void 0===b.component.options[e].id||b.component.options[e].id[o]==t||angular.equals(t,b.component.options[e].id[o])))return!1;if(b.isEditing("id")&&!b.isEditing("media")&&b.isEditing("state")&&b.component.options[e][b.currentState]&&b.component.options[e][b.currentState][o]==t)return!1;if(b.isEditing("id")&&b.isEditing("media")&&b.component.options[e].media&&b.component.options[e].media[b.currentMedia]&&b.component.options[e].media[b.currentMedia][b.currentState]&&b.component.options[e].media[b.currentMedia][b.currentState][o]==t)return!1;if(b.isEditing("class")&&!b.isEditing("media")&&b.classes[b.currentClass]&&b.classes[b.currentClass][b.currentState]&&b.classes[b.currentClass][b.currentState][o]==t)return!1;if(b.isEditing("class")&&b.isEditing("media")&&b.classes[b.currentClass]&&b.classes[b.currentClass].media&&b.classes[b.currentClass].media[b.currentMedia]&&b.classes[b.currentClass].media[b.currentMedia][b.currentState]&&b.classes[b.currentClass].media[b.currentMedia][b.currentState][o]==t)return!1;if(b.isEditing("custom-selector")&&!b.isEditing("class"))if(b.isEditing("media")){if(b.customSelectors[b.selectorToEdit]&&b.customSelectors[b.selectorToEdit].media&&b.customSelectors[b.selectorToEdit].media[b.currentMedia]&&b.customSelectors[b.selectorToEdit].media[b.currentMedia][b.currentState]&&b.customSelectors[b.selectorToEdit].media[b.currentMedia][b.currentState][o]==t)return!1}else if(b.customSelectors[b.selectorToEdit]&&b.customSelectors[b.selectorToEdit][b.currentState]&&b.customSelectors[b.selectorToEdit][b.currentState][o]==t)return!1;return!0},b.isBorderHasStyles=function(e){var o=b.isInherited(b.component.active.id,"border-"+e+"-width");return style=b.isInherited(b.component.active.id,"border-"+e+"-style"),color=b.isInherited(b.component.active.id,"border-"+e+"-color"),!(o&&style&&color)},b.isTabHasOptions=function(e,o){if(void 0===e){for(var e in b.optionsHierarchy)if(b.optionsHierarchy.hasOwnProperty(e))for(var t in b.optionsHierarchy[e])if(b.optionsHierarchy[e].hasOwnProperty(t)){var n=b.optionsHierarchy[e][t];for(var i in n){var s=n[i];if(!1===b.isInherited(b.component.active.id,s))if(""!=(a=b.getOption(s,b.component.active.id))&&"false"!=a)return!0}}}else if(void 0===o){for(var t in b.optionsHierarchy[e])if(b.optionsHierarchy[e].hasOwnProperty(t)){n=b.optionsHierarchy[e][t];for(var i in n){s=n[i];if(!1===b.isInherited(b.component.active.id,s))if(""!=(a=b.getOption(s,b.component.active.id))&&"false"!=a)return!0}}}else{if(!b.optionsHierarchy[e][o])return!1;n=b.optionsHierarchy[e][o];for(var i in n){var a;s=n[i];if(!1===b.isInherited(b.component.active.id,s))if(""!=(a=b.getOption(s,b.component.active.id))&&"false"!=a)return!0}}},b.checkGlobalOptions=function(o){try{o=JSON.parse(o)}catch(e){return void console.log(o)}void 0!==o.display&&void 0!==o.text&&(b.globalSettings.fonts.Display==o.display&&b.globalSettings.fonts.Text==o.text||confirm("This Design Set's recommended fonts are:\rDisplay: "+o.display+"\rText: "+o.text+"\rWould you like to change your fonts to the recommended fonts?")&&(b.setGlobalFont("Display",o.display),b.setGlobalFont("Text",o.text)));void 0!==o["page-width"]&&(b.getPageWidth()!=o["page-width"]&&confirm("This Design Set's recommended page width is "+o["page-width"]+"px, but the width of this page is "+b.getPageWidth()+"px. Would you like to change your page width to "+o["page-width"]+"px?")&&(b.pageSettings["max-width"]=o["page-width"],b.pageSettingsUpdate(),b.unsavedChanges()))},b.resetGlobalStylesToDefault=function(){confirm("Are you sure you wish to reset your Global Settings to the defaults?")&&(angular.copy(b.globalSettingsDefaults.fonts,b.globalSettings.fonts),angular.copy(b.globalSettingsDefaults.headings,b.globalSettings.headings),angular.copy(b.globalSettingsDefaults.body_text,b.globalSettings.body_text),angular.copy(b.globalSettingsDefaults.links,b.globalSettings.links),angular.copy(b.globalSettingsDefaults.sections,b.globalSettings.sections),b.globalSettings["max-width"]=b.globalSettingsDefaults["max-width"],b.pageSettingsUpdate(),b.unsavedChanges())},b.setFirstTimeOptions=function(e,o){"ct_slider"==o&&(b.setOptionModel("slider-arrow-color","darker",e,o),b.setOptionModel("slider-dot-color","#ffffff",e,o),b.setOptionModel("slider-show-arrows","yes",e,o),b.setOptionModel("slider-show-dots","yes",e,o),b.setOptionModel("slider-autoplay","no",e,o),b.setOptionModel("slider-autoplay-delay","3000",e,o),b.setOptionModel("slider-infinite","no",e,o),b.setOptionModel("slider-animation","horizontal",e,o),b.setOptionModel("slider-animation-speed","750",e,o)),"oxy_nav_menu"==o&&(b.setOptionModel("menu_responsive","page-width",e,o),b.setOptionModel("menu_responsive_padding_size","0",e,o),b.setOptionModel("menu_responsive_icon_size","40",e,o),b.setOptionModel("menu_responsive_icon_margin","10",e,o),b.setOptionModel("dropdowns","on",e,o),b.setOptionModel("menu_dropdown_arrow","on",e,o),b.setOptionModel("menu_padding-top","20",e,o),b.setOptionModel("menu_padding-left","20",e,o),b.setOptionModel("menu_padding-right","20",e,o),b.setOptionModel("menu_padding-bottom","20",e,o),b.setOptionModel("menu_hover_background-color","#eee",e,o),b.setOptionModel("menu_hover_border-top-width","3",e,o),b.setOptionModel("menu_flex-direction","row",e,o)),"oxy_social_icons"==o&&(b.setOptionModel("icon-facebook","https://facebook.com"),b.setOptionModel("icon-instagram","https://instagram.com"),b.setOptionModel("icon-twitter","https://twitter.com")),"oxy_header"==o&&(b.setOptionModel("sticky-media","page-width"),b.setOptionModel("sticky_scroll_distance","300")),"oxy_soundcloud"==o&&(b.setOptionModel("height","300"),b.setOptionModel("height-unit","px"),b.setOptionModel("width","100"),b.setOptionModel("width-unit","%"),b.setOptionModel("soundcloud_url","https://soundcloud.com/nathaniel-eliason/13-learning-spanish-and-more"),b.setOptionModel("soundcloud_track_id","331837379")),"oxy_superbox"==o&&(b.setOptionModel("superbox_secondary_opacity_start","0"),b.setOptionModel("superbox_secondary_opacity_finish","1")),"oxy_posts_grid"==o&&b.applyElementPreset(0),"oxy_comments"==o&&b.applyElementPreset(0),"ct_image"==o&&(b.setOptionModel("image_type","2"),b.setOptionModel("attachment_size","full"))},b.isFlexPossible=function(e){return null==e&&(e=b.component.active.name),-1<["ct_div_block","ct_section","ct_link"].indexOf(e)},b.setTextAlign=function(){var o=_(function(){var e=b.component.active.id;if("column"==b.component.options[e].model["flex-direction"])switch(b.component.options[e].model["align-items"]){case"flex-start":b.setOptionModel("text-align","left");break;case"center":b.setOptionModel("text-align","center");break;case"flex-end":b.setOptionModel("text-align","right");break;case"stretch":b.setOptionModel("text-align","justify");break;default:b.setOptionModel("text-align","")}if("row"==b.component.options[e].model["flex-direction"])switch(b.component.options[e].model["justify-content"]){case"flex-start":b.setOptionModel("text-align","left");break;case"center":b.setOptionModel("text-align","center");break;case"flex-end":b.setOptionModel("text-align","right");break;case"space-between":case"space-around":b.setOptionModel("text-align","justify");break;default:b.setOptionModel("text-align","")}_.cancel(o)},11,!1)},b.setEasyPostsTemplate=function(e,o){if(void 0===o&&(o=!0),o&&!confirm("Current settings for this element will be overwritten. Are you sure?"))return!1;b.setOptionModel("code-php",e.code_php),b.setOption(b.component.active.id,b.component.active.name,"code-php"),b.setOptionModel("code-css",e.code_css),b.setOption(b.component.active.id,b.component.active.name,"code-css");var t=["title_size","title_size-unit","title_color","title_hover_color","meta_size","meta_size-unit","meta_color","content_size","content_size-unit","content_color","read_more_display_as","read_more_size","read_more_size-unit","read_more_text_color","read_more_text_hover_color","read_more_button_color","read_more_button_hover_color","paginate_color","paginate_alignment","paginate_link_color","paginate_link_hover_color","posts_per_page","posts_5050_below","posts_100_below"];for(var n in t){var i=t[n];b.setOptionModel(i,e[i])}b.lastSetEasyPostsTemplate[b.component.active.id]=e.name,b.renderComponentWithAJAX("oxy_render_easy_posts")},b.addEasyPostsTemplate=function(){if(b.newEasyPostsTemplate&&""!==b.newEasyPostsTemplate){var e={name:b.newEasyPostsTemplate,code_php:b.getOption("code-php"),code_css:b.getOption("code-css")},o=["title_size","title_size-unit","title_color","title_hover_color","meta_size","meta_size-unit","meta_color","content_size","content_size-unit","content_color","read_more_display_as","read_more_size","read_more_size-unit","read_more_text_color","read_more_text_hover_color","read_more_button_color","read_more_button_hover_color","paginate_color","paginate_alignment","paginate_link_color","paginate_link_hover_color","posts_per_page","posts_5050_below","posts_100_below"];for(var t in o){var n=o[t];e[n]=b.getOption(n)}b.easyPostsCustomTemplates.push(e),b.newEasyPostsTemplate="",alert("Your preset was saved successfully"),b.unsavedChanges()}else alert("Please set the preset name")},b.deleteEasyPostsTemplate=function(e,o){void 0!==o&&o.stopPropagation(),b.easyPostsCustomTemplates.splice(e,1)},b.setCommentsListTemplate=function(e){b.setOptionModel("code-php",e.code_php),b.setOption(b.component.active.id,b.component.active.name,"code-php"),b.setOptionModel("code-css",e.code_css),b.setOption(b.component.active.id,b.component.active.name,"code-css"),b.lastSetCommentsListTemplate=e.name,b.renderComponentWithAJAX("oxy_render_comments_list")},b.addCommentsListTemplate=function(){b.newCommentsListTemplate&&""!==b.newCommentsListTemplate?(b.commentsListCustomTemplates.push({name:b.newCommentsListTemplate,code_php:b.getOption("code-php"),code_css:b.getOption("code-css")}),b.newCommentsListTemplate="",alert("Your preset was saved successfully"),b.unsavedChanges()):alert("Please set the preset name")},b.deleteCommentsListTemplate=function(e,o){void 0!==o&&o.stopPropagation(),b.commentsListCustomTemplates.splice(e,1)},b.getPageWidth=function(e){return e||void 0===b.getPageSetting("max-width")||""==b.getPageSetting("max-width")?parseInt(b.globalSettings["max-width"]):parseInt(b.getPageSetting("max-width"))},b.getBreakPointWidth=function(e){return parseInt(b.globalSettings.breakpoints[e])||parseInt(b.globalSettingsDefaults.breakpoints[e])},b.reEnablePricingBoxText=function(){""==b.getOption("pricing_box_package_regular")&&b.setOptionModel("pricing_box_package_regular","monthly $399"),""==b.getOption("pricing_box_package_subtitle")&&b.setOptionModel("pricing_box_package_subtitle","for small business"),""!=b.getOption("pricing_box_content")&&"<br>"!=b.getOption("pricing_box_content")||b.setOptionModel("pricing_box_content","my features<br />another feature<br />my last feature<br />")},b.getSuperBoxEditingModeTitle=function(){switch(b.getOption("superbox_editing_mode")){case"primary_only":return"Show Primary Only";case"secondary_only":return"Show Secondary Only";case"as_hovered":return"As If Hovered";case"as_not_hovered":return"As If Not Hovered";default:return"Live"}},b.unsetAllBorders=function(e,o){null==e&&(e="");b.component.active.id;if(void 0===o)o=["border-all-width","border-all-width-unit","border-all-style","border-all-color"];for(var t in o){var n=o[t];b.setOptionModel(e+n,null)}},b.unsetOptions=function(e,o){var t=b.component.active.name;for(var n in void 0===o?o=b.component.active.id:t="all",e){var i=e[n],s=b.defaultOptions[t]?b.defaultOptions[t][i]:"";b.setOptionModel(i,null,o),b.component.options[o].id[i]=null,b.component.options[o].model[i]=s,b.component.options[o].original[i]=s}},b.addComponentTransform=function(){var e=b.objectToArrayObject(b.getOption("transform")),o=typeof e;"string"!==o&&"undefined"!==o||(e=[]),e.push({"transform-type":"rotate"}),b.setOptionModel("transform",e)},b.removeComponentTransform=function(e,o){var t=b.objectToArrayObject(b.getOption("transform"));t.splice(o,1),b.setOptionModel("transform",t)},b.addGridChildRule=function(e){e+=1;var o=b.getOption("grid-child-rules"),t=typeof o;"string"!==t&&"undefined"!==t||(o=[]),null!==o[e]&&void 0!==o[e]&&void 0!==o[e]["child-index"]||(o[e]={"child-index":e,"column-span":"","row-span":""}),b.setOptionModel("grid-child-rules",o)},b.resetGridChildRules=function(){!0===confirm("All Grid Childrens rules will be deleted. Are you sure?")&&b.setOptionModel("grid-child-rules",[])},b.isAJAXElement=function(e){return!!b.componentsTemplates[e]&&!(!b.componentsTemplates[e].phpCallback||"true"!=b.componentsTemplates[e].phpCallback)},b.isRepeaterGeneratedElement=function(e){return void 0===e&&(e=b.component.active.id),void 0!==b.component.options[e].source_id},b.saveElementPreset=function(){if(void 0!==b.newPresetName){if(/^[a-z\s_-][a-z\d\s_-]*$/i.test(b.newPresetName)){var e=b.component.active.id,o=b.component.active.name;if(b.isEditing("id")){var t=b.findComponentItem(b.componentsTree.children,e,b.getComponentItem),n=angular.copy(t.options),i=["activeselector","classes","ct_id","ct_content","ct_parent","selector","source_id"];for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];n[a]=null,delete n[a]}}else{if(!b.isEditing("class"))return void b.showNoticeModal("<div>Cannot save preset. Use class or ID selector</div>");n=angular.copy(b.classes[b.currentClass])}b.elementPresets&&null!=b.elementPresets||(b.elementPresets={}),b.elementPresets[o]&&null!=b.elementPresets[o]||(b.elementPresets[o]=[]);var r=b.elementPresets[o].push({name:b.newPresetName,options:angular.copy(n)});b.newPresetName="",b.currentPresetKey=r-1,console.log(b.elementPresets)}else alert("Bad Preset name. Should start with letters. Special characters are not allowed")}else b.showNoticeModal("<div>No preset name defined</div>")},b.applyElementPreset=function(e,o){if(void 0!==e){var t=b.component.active.id,n=b.component.active.name;if(void 0!==o);else{if(void 0===b.elementPresets[n]||void 0===b.elementPresets[n][e])return void b.showNoticeModal("<div>Preset doesn't exist</div>");o=b.elementPresets[n][e].options}if(b.isEditing("id")){var i=b.findComponentItem(b.componentsTree.children,t,b.getComponentItem),s=["activeselector","classes","ct_id","ct_content","ct_parent","selector","source_id","name","nicename"];for(var a in i.options)i.options.hasOwnProperty(a)&&-1===s.indexOf(a)&&(i.options[a]=null,delete i.options[a]);for(var a in b.component.options[t])b.component.options[t].hasOwnProperty(a)&&-1===s.indexOf(a)&&(b.component.options[t][a]=null,delete b.component.options[t][a]);jQuery.isEmptyObject(o)||angular.extend(i.options,angular.copy(o)),b.applyComponentDefaultOptions(t,n),b.applyComponentSavedOptions(t,i),b.applyModelOptions(t,n)}b.isEditing("class")&&(b.classes[b.currentClass]=angular.copy(o),b.classesCached=!1),b.currentPresetKey=e,b.rebuildDOM(t),b.outputCSSOptions(t,!0)}else b.showNoticeModal("<div>No preset key defined</div>")},b.deleteElementPreset=function(e,o){if(void 0!==o&&o.stopPropagation(),void 0!==e){var t=b.component.active.name;if(void 0!==b.elementPresets[t]&&void 0!==b.elementPresets[t][e]){if(void 0!==b.elementPresets[t][e])!0===confirm('"'+b.elementPresets[t][e].name+'" will be deleted forever from '+t+" presets. Are you sure?")&&b.elementPresets[t].splice(e,1)}else b.showNoticeModal("<div>No preset exist</div>")}else b.showNoticeModal("<div>No preset defined</div>")},b.isDefaultPreset=function(e,o){return void 0!==b.elementPresets[e]&&void 0!==b.elementPresets[e][o]&&void 0!==b.elementPresets[e][o].slug},b.deleteCurrentElementPreset=function(){b.deleteElementPreset(b.currentPresetKey),b.currentPresetKey=!1},b.getCurrentPresetName=function(){return b.getPresetName(b.currentPresetKey)},b.getPresetName=function(e){var o=b.getPreset(e);return null==o?"":o.name},b.getPreset=function(e){return null==e||null==b.elementPresets||null==b.elementPresets[b.component.active.name]?{}:b.elementPresets[b.component.active.name][e]},b.exportCurrentPreset=function(){var e=b.getPreset(b.currentPresetKey);b.parentScope.showPresetsDialog=!0,b.presetExportJSON=angular.toJson(e)},b.copyPresetExportJSON=function(){b.copyToClipboard(b.presetExportJSON)},b.copyToClipboard=function(e){var o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},b.importPreset=function(){var e=prompt("Enter preset JSON code");if(e){e=e.trim();var o=angular.fromJson(e),t=b.component.active.name;b.elementPresets&&null!=b.elementPresets||(b.elementPresets={}),b.elementPresets[t]&&null!=b.elementPresets[t]||(b.elementPresets[t]=[]),b.elementPresets[t].push(o)}},b.clearCurrentElementStyles=function(){!0===confirm("All element's styles will be deleted for "+b.component.options[b.component.active.id].nicename+". Are you sure?")&&b.applyElementPreset(!1,{})},b.getGlobalCondition=function(e){var o=b.component.active.id;return null!=b.component.options[o].model.globalconditions&&null!=b.component.options[o].model.globalconditions[e]&&null!=b.component.options[o].model.globalconditions[e].name&&b.globalConditions[b.component.options[o].model.globalconditions[e].name]},b.getConditionValue=function(e,o){var t=b.getGlobalCondition(e);return null==t||null==t.values?"":t.values.keys&&t.values.options[o.value]?t.values.options[o.value]:o.value},b.getConditionPlaceholder=function(e){var o=b.getGlobalCondition(e);return null==o||null==o.values?"Custom Value...":o.values.placeholder?o.values.placeholder:"Custom Value..."},b.isCustomCondition=function(e){var o=b.getGlobalCondition(e);return null!=o&&null!=o.values&&o.values.custom},b.isAJAXCondition=function(e){var o=b.getGlobalCondition(e);return null!=o&&null!=o.values&&o.values.ajax},b.updateConditionOptions=function(e,o,t){if(null!=e&&null!=o){if(""!==t){var n=!1;for(var i in o)if(o.hasOwnProperty(i)&&o[i]==t){b.setConditionValue(e,i,t),n=!0;break}n||b.setConditionValue(e,-1,t)}var s=b.getGlobalCondition(e);null!=s?s.values.options=o:console.log("No global condition found with index: "+e)}},b.getConditionName=function(e){var o=b.component.active.id;return b.component.options[o].model.globalconditions&&b.component.options[o].model.globalconditions[e]&&b.component.options[o].model.globalconditions[e].name?b.component.options[o].model.globalconditions[e].name:""},b.isKeysCondition=function(e){var o=b.getConditionName(e);return!!(b.globalConditions[o]&&b.globalConditions[o].values&&b.globalConditions[o].values.keys)},b.setConditionValue=function(e,o,t){var n=b.component.active.id;b.isKeysCondition(e)&&void 0!==o?b.component.options[n].model.globalconditions[e].value=o:b.component.options[n].model.globalconditions[e].value=t,b.component.options[n].model.globalconditions[e].searchValue=t,b.setOptionModel("globalconditions",b.component.options[n].model.globalconditions)},b.validateCustomAttributeName=function(e){var o=b.component.active.id,t=b.getOption("custom-attributes",o);if(void 0!==t[e]){var n=t[e].name;if(void 0!==n){var i=RegExp("[^a-z-_]+","gi");i.test(n)&&(t[e].name=n.replace(i,""),b.setOptionModel("custom-attributes",t,o),b.showNoticeModal("<div>Name may only contain underscores (_), hyphens (-) and letters (a–z and A-Z).</div>"))}}},b.validateCustomTag=function(e){var o=b.component.active.id,t=b.getOption(e,o);if(!b.regexTestCustomTag(t)){var n=RegExp("[a-z]+[a-z0-9-]*","gi"),i=t.match(n);t=i&&i[0]?i[0]:"",b.setOptionModel(e,t,o),b.showNoticeModal("<div>Tag must begin with a letter and may only contain letters (a-z and A-Z) and numbers (0-9).</div>")}},b.regexTestCustomTag=function(e){if(!e)return!1;var o=RegExp("[a-z]+[a-z0-9-]*","gi");return!(!e.match(o)||e.match(o)[0]!=e)},b.filterCustomTag=function(e){if(!e)return"div";var o=RegExp("[a-z]+[a-z0-9]*","gi"),t=e.match(o);return t&&t[0]?t[0]:"div"},b.validateCustomAttributeValue=function(e){var o=b.component.active.id,t=b.getOption("custom-attributes",o);if(void 0!==t[e]){var n=t[e].value;if(void 0!==n){var i=b.replaceSpecialChars(n);i!==n&&(t[e].value=i,b.setOptionModel("custom-attributes",t,o),b.showNoticeModal("<div>Value may NOT contain quotes and '&lt;', '&gt;' characters. These were auto converted to corresponding HTML enteties.</div>"))}}},b.validateHTMLAttributeValue=function(e){var o=b.component.active.id,t=b.getOption(e,o);if(void 0!==t){var n=b.replaceSpecialChars(t);n!==t&&(b.setOptionModel(e,n,o),b.showNoticeModal("<div>Value may NOT contain quotes and '&lt;', '&gt;' characters. These were auto converted to corresponding HTML enteties.</div>"))}},b.replaceSpecialChars=function(e){return void 0===e||void 0===e.replace?e:e=e.replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&apos;").replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;")},b.applyCustomAttributes=function(e){var o=b.getOption("custom-attributes",e);for(var t in o)if(o.hasOwnProperty(t)){var n=o[t];if(!n||!n.name)continue;var i=n.name.match(/\[oxygen[^\]]*\]/gi),s=n.value.match(/\[oxygen[^\]]*\]/gi);if((i||s)&&b.renderCustomAttributeDynamicData(e,n.name,n.value),!i&&!s){var a=b.getComponentById(e);a.attr&&n.name&&a.attr(n.name,n.value)}}},b.isIDLocked=function(e){return null==e&&(e=b.component.active.id),!(!b.component.options[e]||!b.component.options[e].id||"true"!=b.component.options[e].id["selector-locked"])}}]);
CTFrontendBuilder.controller("ControllerPresets",["$scope","$parentScope","$timeout",function(s,r,e){s.saveElementPreset=function(){if(void 0!==s.newPresetName){if(/^[a-z\s_-][a-z\d\s_-]*$/i.test(s.newPresetName)){var e=s.getCurrentSelectorOptions();if(!1!==e){var t=s.component.active.name;s.elementPresets&&null!=s.elementPresets||(s.elementPresets={}),s.elementPresets[t]&&null!=s.elementPresets[t]||(s.elementPresets[t]=[]);var n=s.elementPresets[t].push({name:s.newPresetName,options:angular.copy(e)});s.newPresetName="",s.currentPresetKey=n-1}else s.showNoticeModal("<div>Cannot save preset. Use class or ID selector</div>")}else alert("Bad Preset name. Should start with letters. Special characters are not allowed")}else s.showNoticeModal("<div>No preset name defined</div>")},s.getCurrentSelectorOptions=function(){var e,t=s.component.active.id;if(s.isEditing("id")){var n=s.findComponentItem(s.componentsTree.children,t,s.getComponentItem);e=angular.copy(n.options)}else e=!!s.isEditing("class")&&angular.copy(s.classes[s.currentClass]);return s.clearPresetPrivateOptions(e),e},s.getIDOptionsToCopy=function(e){var t=s.findComponentItem(s.componentsTree.children,e,s.getComponentItem);if(t){var n=angular.copy(t.options);return s.clearPresetPrivateOptions(n),n}},s.getClassOptionsToCopy=function(e){var t=angular.copy(s.classes[e]);if(t)return s.clearPresetPrivateOptions(t),t},s.clearPresetPrivateOptions=function(e){for(var t in e)e.hasOwnProperty(t)&&(s.isPrivateOption(t)?(e[t]=null,delete e[t]):"object"!=typeof e[t]||Array.isArray(e[t])||s.clearPresetPrivateOptions(e[t]))},s.clearOptionsAndKeepPrivate=function(e){for(var t in e)e.hasOwnProperty(t)&&(s.isPrivateOption(t)||("object"!=typeof e[t]||Array.isArray(e[t])||"before"===t||"after"===t?(e[t]=null,delete e[t]):s.clearOptionsAndKeepPrivate(e[t])))},s.isPrivateOption=function(e){return-1<["activeselector","classes","ct_id","ct_content","ct_parent","selector","source_id","name","nicename","ct_shortcode","ct_widget","ct_data","ct_sidebar","ct_nav_menu","oxy_builtin","custom-attributes","custom-js","tabs_contents_wrapper","active_tab_class","image_ids","acf_field","woo_product_id","menu_id","icon-id"].indexOf(e)},s.applyElementPreset=function(e,t){if(void 0!==e){var n=s.component.active.id,r=s.component.active.name;if(void 0!==t);else{if(void 0===s.elementPresets[r]||void 0===s.elementPresets[r][e])return void s.showNoticeModal("<div>Preset doesn't exist</div>");t=s.elementPresets[r][e].options}if(s.isEditing("id")){var o=s.findComponentItem(s.componentsTree.children,n,s.getComponentItem);s.clearOptionsAndKeepPrivate(o.options),s.clearOptionsAndKeepPrivate(s.component.options[n]),jQuery.isEmptyObject(t)||jQuery.extend(!0,o.options,angular.copy(t)),s.applyComponentDefaultOptions(n,r),s.applyComponentSavedOptions(n,o),s.applyModelOptions(n,r)}s.isEditing("class")&&(s.classes[s.currentClass]=angular.copy(t),s.classesCached=!1),s.currentPresetKey=e,s.rebuildDOM(n),s.outputCSSOptions(n,!0)}else s.showNoticeModal("<div>No preset key defined</div>")},s.deleteElementPreset=function(e,t){if(void 0!==t&&t.stopPropagation(),void 0!==e){var n=s.component.active.name;if(void 0!==s.elementPresets[n]&&void 0!==s.elementPresets[n][e]){if(void 0!==s.elementPresets[n][e])!0===confirm('"'+s.elementPresets[n][e].name+'" will be deleted forever from '+n+" presets. Are you sure?")&&s.elementPresets[n].splice(e,1)}else s.showNoticeModal("<div>No preset exist</div>")}else s.showNoticeModal("<div>No preset defined</div>")},s.isDefaultPreset=function(e,t){return void 0!==s.elementPresets&&void 0!==s.elementPresets[e]&&void 0!==s.elementPresets[e][t]&&void 0!==s.elementPresets[e][t].slug},s.deleteCurrentElementPreset=function(){s.deleteElementPreset(s.currentPresetKey),s.currentPresetKey=!1},s.getCurrentPresetName=function(){return s.getPresetName(s.currentPresetKey)},s.getPresetName=function(e){var t=s.getPreset(e);return null==t?"":t.name},s.getPreset=function(e){return null==e||null==s.elementPresets||null==s.elementPresets[s.component.active.name]?{}:s.elementPresets[s.component.active.name][e]},s.exportCurrentPreset=function(){var e=s.getPreset(s.currentPresetKey);s.parentScope.showPresetsDialog=!0,s.presetExportJSON=angular.toJson(e)},s.copyPresetExportJSON=function(){var e=document.createElement("textarea");e.value=s.presetExportJSON,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},s.importPreset=function(){var e=prompt("Enter preset JSON code");if(e){e=e.trim();var t=angular.fromJson(e),n=s.component.active.name;s.elementPresets&&null!=s.elementPresets||(s.elementPresets={}),s.elementPresets[n]&&null!=s.elementPresets[n]||(s.elementPresets[n]=[]),s.elementPresets[n].push(t)}},s.clearCurrentSelectorOptions=function(e){if(!0===e)t=!0;else var t=confirm("Current selector styles will be deleted for "+s.component.options[s.component.active.id].nicename+". Are you sure?");!0===t&&(s.applyElementPreset(!1,{}),s.setFirstTimeOptions(s.component.active.id,s.component.active.name))},s.clearSelectorOptions=function(e){if(!0===(void 0!==e?confirm('"'+e+'" styles will be deleted. Are you sure?'):confirm("ID styles will be deleted for "+s.component.options[s.component.active.id].nicename+". Are you sure?"))){var t=!!s.currentClass&&s.currentClass;void 0!==e?s.setCurrentClass(e):s.switchEditToId(!0),s.applyElementPreset(!1,{}),s.setFirstTimeOptions(s.component.active.id,s.component.active.name),t?s.setCurrentClass(t):s.switchEditToId(!0)}},s.copySelectorOptions=function(e){var t;if(r.copySelectorFromID)t=s.getIDOptionsToCopy(r.copySelectorFromID);else{if(!r.copySelectorFromClass)return void s.showNoticeModal("<div>Nothing to copy from</div>");t=s.getClassOptionsToCopy(r.copySelectorFromClass)}var n=!!s.currentClass&&s.currentClass;void 0!==e?s.setCurrentClass(e):s.switchEditToId(!0),s.applyElementPreset(!1,t),n?s.setCurrentClass(n):s.copySelectorFromClass&&s.switchEditToId(!0),r.copySelectorFromID=!1,r.copySelectorFromClass=!1}}]);
CTFrontendBuilder.controller("ControllerConditions",["$scope","$parentScope","$timeout",function(a,o,n){a.getGlobalCondition=function(o){var n=a.component.active.id;return null!=a.component.options[n].model.globalconditions&&null!=a.component.options[n].model.globalconditions[o]&&null!=a.component.options[n].model.globalconditions[o].name&&a.globalConditions[a.component.options[n].model.globalconditions[o].name]},a.getConditionValue=function(o,n){var l=a.getGlobalCondition(o);return null==l||null==l.values?"":l.values.keys&&l.values.options[n.value]?l.values.options[n.value]:n.value},a.getConditionPlaceholder=function(o){var n=a.getGlobalCondition(o);return null==n||null==n.values?"Custom Value...":n.values.placeholder?n.values.placeholder:"Custom Value..."},a.isCustomCondition=function(o){var n=a.getGlobalCondition(o);return null!=n&&null!=n.values&&n.values.custom},a.isAJAXCondition=function(o){var n=a.getGlobalCondition(o);return null!=n&&null!=n.values&&n.values.ajax},a.updateConditionOptions=function(o,n,l){if(null!=o&&null!=n){if(""!==l){var i=!1;for(var t in n)if(n.hasOwnProperty(t)&&n[t]==l){a.setConditionValue(o,t,l),i=!0;break}i||a.setConditionValue(o,-1,l)}var e=a.getGlobalCondition(o);null!=e?e.values.options=n:console.log("No global condition found with index: "+o)}},a.getConditionName=function(o){var n=a.component.active.id;return a.component.options[n].model.globalconditions&&a.component.options[n].model.globalconditions[o]&&a.component.options[n].model.globalconditions[o].name?a.component.options[n].model.globalconditions[o].name:""},a.isKeysCondition=function(o){var n=a.getConditionName(o);return!!(a.globalConditions[n]&&a.globalConditions[n].values&&a.globalConditions[n].values.keys)},a.setConditionValue=function(o,n,l){var i=a.component.active.id;a.isKeysCondition(o)&&void 0!==n?a.component.options[i].model.globalconditions[o].value=n:a.component.options[i].model.globalconditions[o].value=l,a.component.options[i].model.globalconditions[o].searchValue=l,a.setOptionModel("globalconditions",a.component.options[i].model.globalconditions)}}]);
CTFrontendBuilder.controller("ControllerFonts",["$scope","$http","$timeout",function(s,n,o){s.APIKey="AIzaSyBlDz9OGMf_5_-QxgHPTjjmvYVzEauwcQE",s.WebFontsUrl="https://www.googleapis.com/webfonts/v1/webfonts",s.webSafeFonts=["Georgia, serif","Times New Roman, Times, serif","Arial, Helvetica, sans-serif","Arial Black, Gadget, sans-serif","Tahoma, Geneva, sans-serif","Verdana, Geneva, sans-serif","Courier New, Courier, monospace"],s.showFonts=[],s.loadedFonts=[],s.googleFontsList=[],s.getWebFontsList=function(){if(s.googleFontsCache){var o={action:"oxy_get_google_fonts",post_id:CtBuilderAjax.postId,nonce:CtBuilderAjax.nonce};n({method:"GET",url:CtBuilderAjax.ajaxUrl,params:o,transformResponse:!1}).then(function(o){fonts=JSON.parse(o.data),fonts||(fonts=[]),s.googleFontsList=fonts,s.loadSavedGlobalFonts()}).catch(function(o){console.log(o)})}else n({method:"GET",url:s.WebFontsUrl,params:{key:s.APIKey,sort:"popularity"}}).then(function(o){var n=o.data;angular.forEach(n.items,function(o){s.googleFontsList.push({family:o.family,variants:o.variants})}),s.loadSavedGlobalFonts()}).catch(function(o,n,t,e){console.log(o)})},s.getGoogleFont=function(n){var o=s.googleFontsList.find(function(o){return o.family===n});return void 0!==o&&o},s.setComponentFont=function(o,n,t,e){void 0===e&&(e="font-family"),s.loadWebFont(t),s.component.options[o].model[e]=t,s.setOption(o,n,e),s.showFonts=[],s.fontsFilter=""},s.getComponentFont=function(o,n,t,e){if(0==o)return"";if(t||(t="model"),null==e&&(e="font-family"),o||(o=s.component.active.id),s.component.options[o]&&void 0!==s.component.options[o][t])var a=s.component.options[o][t][e];return a?"global"==a[0]?!0===n?a[1]+" ("+s.getGlobalFont(a[1])+")":s.getGlobalFont(a[1]):a:void 0},s.setGlobalFont=function(o,n){s.globalSettings.fonts[o]=n,s.fontsFilter="",s.loadWebFont(["global",o]),s.classesCached=!1,s.updateAllComponentsCacheStyles(),s.outputCSSOptions(),s.unsavedChanges()},s.getGlobalFont=function(o){return s.globalSettings.fonts[o]},s.addGlobalFont=function(){var o=prompt("Custom global font name (i.e 'My Font'):");if(null!=o)return s.globalSettings.fonts[o]="Open Sans";s.unsavedChanges()},s.deleteGlobalFont=function(t){if(!confirm('Are you sure to delete "'+t+'" font?'))return!1;delete s.globalSettings.fonts[t],angular.forEach(s.classes,function(o,n){angular.forEach(o,function(o,n){o["font-family"]&&o["font-family"][1]==t&&delete o["font-family"]})}),s.unsavedChanges()},s.checkGlobalFont=function(o){angular.forEach(o,function(e,a){"object"==typeof e&&angular.forEach(e,function(o,n){if("object"==typeof o&&"media"==a)s.checkGlobalFont(o);else{var t=!0;"font-family"==n&&"global"==o[0]&&(t=s.getGlobalFont(o[1])),"string"==typeof n&&-1<n.indexOf("font-family")&&"global"==o[0]&&(t=s.getGlobalFont(o[1])),null==t&&delete e[n]}})})},s.loadWebFont=function(o,n){if("true"!=s.disableGoogleFonts){if("Inherit"==o)return!1;var t=":100,200,300,400,500,600,700,800,900";if("global"==o[0]){if(name=s.getGlobalFont(o[1]),!1===s.getGoogleFont(name))return!1;if(s.globalSettings.fontsOptions&&s.globalSettings.fontsOptions[o[1]]){for(var e in t=":",s.globalSettings.fontsOptions[o[1]])"true"==s.globalSettings.fontsOptions[o[1]][e]&&(t+=e+",");":"==t&&(t=":100,200,300,400,500,600,700,800,900")}}else name=o;if(-1<s.webSafeFonts.indexOf(name))return!1;if(s.elegantCustomFonts&&-1<s.elegantCustomFonts.indexOf(name))return!1;if(s.typeKitFonts)for(var a=0,l=s.typeKitFonts.length;a<l;a++)if(s.typeKitFonts[a].slug===name)return!1;if(-1<s.loadedFonts.indexOf(name)&&!0!==n)return!1;s.loadedFonts.push(name),name&&""!==name&&(name+=t,WebFont.load({google:{families:[name]}}))}},s.loadSavedGlobalFonts=function(){angular.forEach(s.globalSettings.fonts,function(o,n){s.loadWebFont(["global",n])})},s.globalFontExist=function(t){var e=!1;return angular.forEach(s.globalSettings.fonts,function(o,n){t==o&&(e=!0)}),e}}]);
CTFrontendBuilder.controller("ControllerSVGIcons",["$scope","$http","$timeout",function(i,t,n){i.setCurrentSVGSet=function(t){i.currentSVGSet=t,i.showSVGSets=!1},i.setSVGIcon=function(t,n,o){void 0===o&&(o="icon-id");var e=i.component.active.id,c=i.component.active.name;t=i.currentSVGSet.split(" ").join("")+t,i.component.options[e].model[o]=t,i.setOption(e,c,o),i.iconFilter.title=n,i.parentScope.switchActionTab("SVGIcons")}}]);
CTFrontendBuilder.controller("ControllerCSS",["$scope","$parentScope","$http","$timeout",function(Qe,s,e,t){var o,n;Qe.idStylesContainer=document.getElementById("ct-id-styles"),Qe.classStylesContainer=document.getElementById("ct-class-styles"),Qe.customSelectorsExample={"#my-custom-id":{original:{color:"red","font-size":"24px"}}},Qe.selectedCSSFolder=null,Qe.expandedFolder=[],Qe.expandedSelectorFolder=[],Qe.expandedStylesets=[],Qe.selectedSelectorFolder=null,Qe.selectedNodeType=null,Qe.selectedStyleSet=null,Qe.selectorDetector={mode:!1},Qe.cssFolderMenuOpen=!1,Qe.selectorFolderMenuOpen=!1,Qe.componentSelector={},Qe.selectorToEdit=!1,Qe.selectorHighlighted=!0,Qe.expandedStyleSets=[],Qe.APIElementsDefaultCSS=[],Qe.excludeProperties=["ct_content","ct_id","ct_parent","tag","url","src","alt","target","icon-id","section-width","custom-width","header-width","header-custom-width","header-row-width","header-row-custom-width","container-padding-top","container-padding-right","container-padding-bottom","container-padding-left","background-position-top","background-position-left","background-size-width","background-size-height","video-padding-bottom","use-custom","custom-code","embed-src","button-style","button-size","button-color","button-text-color","gradient","background","overlay-color","icon-size","icon-style","icon-color","icon-background-color","use-acf-repeater","acf-repeater","background-imagedynamic","srcdynamic","urldynamic","globalConditionsResult","conditionspreview","conditionstype","custom-js","border-all-width","border-all-style","border-all-color","function_name","full_shortcode","gutter","code-css","code-php","code-js","class_name","id_base","pretty_name","friendly_name","separator","date_format","size","meta_key","hover_color","flex-reverse","stack-columns-vertically","reverse-column-order","set-columns-width-50","menu_id","video_background","video_background_media","video_background_hide","aos-type","aos-duration","aos-easing","aos-offset","aos-delay","aos-anchor","aos-anchor-placement","aos-once","aos-enable","transform","grid-match-height-of-tallest-child","grid-column-count","grid-column-min-width","grid-column-max-width","grid-column-gap","grid-row-count","grid-row-behavior","grid-row-min-height","grid-row-max-height","grid-row-gap","grid-justify-items","grid-align-items","image-type","attachment-size"],Qe.cache.idCSS="",Qe.cache.idStyles={},Qe.cache.classCSS="",Qe.cache.classStyles={},Qe.cache.selectorCSS="",Qe.cache.selectorStyles={},Qe.cache.mediaCSS="",Qe.cache.mediaStyles={},Qe.contentAdded=[],Qe.socialIcons=[],Qe.socialIcons.networks=["facebook","instagram","twitter","linkedin","rss","youtube"],Qe.socialIcons.networkColors={facebook:"#3b5998",instagram:"#c32aa3",twitter:"#00b6f1",linkedin:"#007bb6",rss:"#ee802f",youtube:"#ff0000"},Qe.socialIcons.networkHoverColors={facebook:"#5b79b8",instagram:"#e34ac3",twitter:"#20d6ff",linkedin:"#209bd6",rss:"#ffa04f",youtube:"#ff4444"},Qe.mappedSelectors={},Qe.filterStylesheets=function(t){var e=Qe.styleSheets.filter(function(e){return e.id==t.parent});return!(0<e.length&&0===e[0].status)&&-1!==parseInt(t.parent)},Qe.setSelectedSelectorFolder=function(e){Qe.setSelectedNodeType("selectorfolder"),Qe.selectedSelectorFolder=e},Qe.getCSSFolder=function(e){return Qe.styleSheets.find(function(e){return e.id===iframeScope.selectedCSSFolder})},Qe.setSelectedCSSFolder=function(e){Qe.selectedCSSFolder=e},Qe.setActiveCSSFolder=function(e){Qe.setSelectedNodeType("cssfolder")},Qe.setSelectedNodeType=function(e){"stylesheet"!==e&&s.toggleSidebar(!0),Qe.selectedNodeType=e},Qe.greaterThan=function(t,o){return function(e){return e[t]>o}},Qe.equalsTo=function(t,o){return function(e){return e[t]===o}},Qe.toggleCSSFolder=function(e){Qe.cssFolderMenuOpen=null,e.status=1==e.status?0:1},Qe.toggleSelectorFolder=function(e){e.status=1==e.status?0:1},Qe.checkNewCustomSelector=function(e){void 0===Qe.customSelectors[e]&&(Qe.customSelectors[e]={set_name:"Uncategorized Custom Selectors",original:{}}),void 0===Qe.customSelectors[e].set_name&&(Qe.customSelectors[e].set_name="Uncategorized Custom Selectors"),void 0===Qe.customSelectors[e].original&&(Qe.customSelectors[e].original={})},Qe.setCustomSelectorToEdit=function(e){if(Qe.styleSetActive=!1,0<Qe.component.active.id&&(Qe.activeSelectors[Qe.component.active.id]=void 0!==Qe.activeSelectors[Qe.component.active.id]?Qe.activeSelectors[Qe.component.active.id]:Qe.component.options[Qe.component.active.id].model.activeselector,Qe.activeSelectors[Qe.component.active.id]&&Qe.setCurrentClass(!!Qe.activeSelectors[Qe.component.active.id]&&Qe.activeSelectors[Qe.component.active.id])),Qe.log&&console.log("setCustomSelectorToEdit()",e),"string"==typeof(Qe.selectorToEdit=e)){Qe.activateComponent(-1,"ct_selector");var t=e.substr(1);Qe.classes[t]?(Qe.setCurrentClass(t),Qe.populateSelectorFolderDropdown(!0),Qe.setSelectedNodeType("class")):(Qe.setCurrentClass(!1),Qe.populateSelectorFolderDropdown(),Qe.setSelectedNodeType("selector")),Qe.customSelectors[e]&&(Qe.expandedStyleSets[Qe.customSelectors[e].set_name]=!0)}Qe.highlightSelector(!0,e),s.cleanEmptySelectors&&""!==e&&s.cleanEmptySelectors()},Qe.setStyleSetActive=function(){Qe.setSelectedNodeType("styleset"),Qe.styleSetActive=!0,Qe.selectorToEdit=!1,Qe.currentClass=!1},Qe.populateSelectorFolderDropdown=function(e){var t,o="";e?(t=Qe.classes[Qe.currentClass])&&(o=t.parent):Qe.selectedStyleSet?o=Qe.styleSets[Qe.selectedStyleSet].parent:(t=Qe.customSelectors[Qe.selectorToEdit])&&(o=t.parent);Qe.currentActiveFolder=o},Qe.setStyleSheetToEdit=function(e){var t=_.findWhere(Qe.styleSheets,{id:e.parent});if(Qe.currentActiveStylesheetFolder=t?t.name:"",Qe.cancelDeleteUndo(),Qe.log&&console.log("setStyleSheetToEdit()",e),Qe.activateComponent(0),Qe.stylesheetToEdit=e,Qe.parentScope.switchActionTab("styleSheet"),Qe.setSelectedNodeType("stylesheet"),Qe.parentScope.expandSidebar(),window.parent.currentCMEditor){var o=window.parent.OxyCM,r=o.EditorState.create({extensions:[o.basicSetup,o.modules.keymap.of([o.modules.indentWithTab]),o.modules.css(),window.parent.currentCMWrap.of("true"===Qe.globalCodeMirrorWrap?[o.EditorView.lineWrapping,o.modules.search()]:o.modules.search()),window.parent.currentCMTheme.of(o.modules[Qe.globalCodeMirrorTheme])],doc:e.css});window.parent.currentCMEditor.setState(r)}},Qe.updateStylesheetCSS=function(e){Qe.stylesheetToEdit.css=e},Qe.highlightSelector=function(e,t,o){if(Qe.log&&console.log("highlightSelector()",e,t),!1===t)return Qe.outputCSSStyles("ct-selector-highlight",""),!1;o&&o.stopPropagation();var r="";if(void 0===t&&(t=Qe.selectorToEdit),Qe.selectorHighlighted=void 0===e?!Qe.selectorHighlighted:e,Qe.selectorHighlighted){var a=[];try{a=t.indexOf(".")<0&&t.indexOf("#")<0&&t.indexOf("body")<0?angular.element(t,".oxygen-body"):angular.element(t)}catch(e){console.log(e)}if(0==a.length)return Qe.selectorHighlighted=!1,Qe.outputCSSStyles("ct-selector-highlight",""),!1}var i="";i="original"==Qe.currentState||"hover"==Qe.currentState||"active"==Qe.currentState||"focus"==Qe.currentState?"":":"+Qe.currentState,Qe.selectorHighlighted&&(r=t+i+"{outline: 1px dashed rgb(19, 187, 38); outline-offset: 0px;}",t.indexOf(".")<0&&t.indexOf("#")<0&&t.indexOf("body")<0&&(r=".oxygen-body "+r)),Qe.outputCSSStyles("ct-selector-highlight",r)},Qe.deleteSelectorFolder=function(t){if(Qe.styleFolders.hasOwnProperty(t)){if((_.findWhere(Qe.styleSets,{parent:t})||_.findWhere(Qe.classes,{parent:t}))&&!confirm("Are you sure you wish to delete this folder and all classes and selectors inside it?"))return!1;angular.forEach(iframeScope.styleSets,function(e){e.parent===t&&delete iframeScope.styleSets[e.key]}),angular.forEach(iframeScope.classes,function(e){e.parent===t&&delete iframeScope.classes[e.key]}),delete Qe.styleFolders[t]}},Qe.toggleUncategorizedFolderContents=function(e){e?(_.each(_.filter(Qe.styleSets,function(e){return void 0===e.parent||null===e.parent}),function(e){e.parent=-1}),_.each(_.filter(Qe.classes,function(e){return void 0===e.parent||null===e.parent}),function(e){e.parent=-1})):(_.each(_.filter(Qe.styleSets,function(e){return-1===e.parent||"-1"===e.parent}),function(e){delete e.parent}),_.each(_.filter(Qe.classes,function(e){return-1===e.parent||"-1"===e.parent}),function(e){delete e.parent}))},Qe.toggleUncategorizedStyleSheets=function(e){e?_.each(_.filter(Qe.styleSheets,function(e){return void 0===e.parent||null===e.parent||0===parseInt(e.parent)}),function(e){e.parent=-1}):_.each(_.filter(Qe.styleSheets,function(e){return-1===e.parent||"-1"===e.parent}),function(e){e.parent=0})},Qe.addSelectorFolder=function(){Qe.cancelDeleteUndo();var e=prompt("Provide a name for the folder").trim();/^[a-z_-][a-z\d_-]*$/i.test(e)?Qe.styleFolders.hasOwnProperty(e)?alert("'"+e+"' already exist."):Qe.styleFolders[e]={status:1}:alert("Bad folder name. Special characters and spaces are not allowed")},Qe.addSelectorItem=function(){Qe.cancelDeleteUndo();var e=prompt("Type a valid CSS selector").trim();try{document.querySelector(e)}catch(e){return alert("Not a valid selector"),!1}if(Qe.customSelectors.hasOwnProperty(e))alert("'"+e+"' already exist.");else{Qe.customSelectors[e]={set_name:"Uncategorized Custom Selectors",original:{}},Qe.selectedSelectorFolder&&Qe.styleFolders.hasOwnProperty(Qe.selectedSelectorFolder)&&(Qe.customSelectors[e].parent=Qe.selectedSelectorFolder),Qe.setCustomSelectorToEdit(e),Qe.selectedStyleSet=e,Qe.expandedStyleSets["Uncategorized Custom Selectors"]=!0;var t=Qe.styleSets["Uncategorized Custom Selectors"].parent;void 0===t?iframeScope.expandedSelectorFolder[0]=!0:-1===t?iframeScope.expandedSelectorFolder.uncategorized=!0:iframeScope.expandedSelectorFolder[t]=!0}},Qe.addStyleSheet=function(e){Qe.cancelDeleteUndo();var t=prompt("Enter a name for the "+(e?"Folder":"Stylesheet"));if(t){t=t.trim();if(/^[a-z_-][a-z\d_-]*$/i.test(t))if(0<Qe.styleSheets.filter(function(e){return e.name==t}).length)alert("'"+t+"' already exist. Please choose another name.");else{var o=1;if(0<Qe.styleSheets.length&&(o=_.max(Qe.styleSheets,function(e){return e.id}).id+1),e)Qe.styleSheets.push({id:o,name:t,status:1,folder:1});else{var r=-1===Qe.selectedCSSFolder||null===Qe.selectedCSSFolder?0:Qe.selectedCSSFolder,a={id:o,name:t,css:"",parent:r};for(key in Qe.styleSheets.push(a),iframeScope.expandedFolder)iframeScope.expandedFolder[key]=!1;iframeScope.expandedFolder[r]=!0,iframeScope.setStyleSheetToEdit(a)}}else alert("Bad stylesheet name. Special characters and spaces are not allowed")}},Qe.deleteStyleSheet=function(t){if(Qe.cancelDeleteUndo(),t.folder){if(!confirm("Are you sure you wish to delete this folder and all stylesheets inside it?"))return!1}else if(!confirm('Delete "'+t.name+'" stylesheet from install? (Changes will take effect on Save).'))return!1;Qe.log&&console.log("deleteStyleSheet()",selector),Qe.styleSheets.splice(Qe.styleSheets.indexOf(t),1),t.folder&&(Qe.styleSheets=Qe.styleSheets.filter(function(e){return e.parent!=t.id})),angular.element(document.getElementById("ct-style-sheet-"+t.name)).remove(),Qe.stylesheetToEdit===t&&(Qe.stylesheetToEdit=!1,s.actionTabs.styleSheet=!1,s.toggleSidebar(!0)),Qe.selectedCSSFolder===t.id&&(Qe.selectedCSSFolder=null),Qe.selectedNodeType=null},Qe.deleteCustomSelector=function(e){return Qe.cancelDeleteUndo(),"Uncategorized Custom Selector"===e?(alert("Sorry, you can't delete the Style Set named Uncategorized Custom Selectors"),!1):!!confirm('Are you sure to delete "'+e+'" selector?')&&(Qe.log&&console.log("deleteCustomSelector()",e),delete Qe.customSelectors[e],Qe.selectorToEdit=!1,-1==Qe.component.active.id&&Qe.activateComponent(0,"root"),Qe.classesCached=!1,Qe.outputCSSOptions(),void Qe.unsavedChanges())},Qe.updateCustomSelectorValue=function(e,t){if(Qe.cancelDeleteUndo(),Qe.log&&console.log("updateCustomSelectorValue()",e,t),""===Qe.selectorToEdit)return!1;var o=Qe.currentState,r=Qe.selectorToEdit.substr(1);Qe.classes[r]?Qe.isEditing("media")?(Qe.classes[Qe.currentClass].media||(Qe.classes[Qe.currentClass].media={}),Qe.classes[Qe.currentClass].media[Qe.currentMedia]||(Qe.classes[Qe.currentClass].media[Qe.currentMedia]={}),Qe.classes[Qe.currentClass].media[Qe.currentMedia][o]||(Qe.classes[Qe.currentClass].media[Qe.currentMedia][o]={}),""==t?delete Qe.classes[Qe.currentClass].media[Qe.currentMedia][o][e]:Qe.classes[Qe.currentClass].media[Qe.currentMedia][o][e]=t):(Qe.classes[r][o]||(Qe.classes[r][o]={}),""==t?delete Qe.classes[r][o][e]:Qe.classes[r][o][e]=t):Qe.isEditing("media")?(Qe.customSelectors[Qe.selectorToEdit].media||(Qe.customSelectors[Qe.selectorToEdit].media={}),Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia]||(Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia]={}),Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia][o]||(Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia][o]={}),""==t?delete Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia][o][e]:Qe.customSelectors[Qe.selectorToEdit].media[Qe.currentMedia][o][e]=t):(Qe.customSelectors[Qe.selectorToEdit]||(Qe.customSelectors[Qe.selectorToEdit]={set_name:"Uncategorized Custom Selectors"}),Qe.customSelectors[Qe.selectorToEdit][o]||(Qe.customSelectors[Qe.selectorToEdit][o]={}),""==t?delete Qe.customSelectors[Qe.selectorToEdit][o][e]:Qe.customSelectors[Qe.selectorToEdit][o][e]=t)},Qe.outputCSSStyles=function(e,t){var o=document.getElementById(e),r="";r='<style id="'+e+'">',r+=t,r+="</style>",o?o.innerHTML=t:angular.element("head").append(r)},Qe.deleteCSSStyles=function(e){var t=document.getElementById(e);t&&angular.element(t).remove()},Qe.generateDynamicBackgrounds=function(o,e,r,a,t){void 0===t&&(t=Qe.componentsTree),Qe.dynamicBackgrounds=Qe.dynamicBackgrounds||{};var i={lock:!0};"id"===r?(Qe.dynamicBackgrounds[o]=Qe.dynamicBackgrounds[o]||{},Qe.dynamicBackgrounds[o]=i):"class"===r?(Qe.dynamicBackgrounds.classes=Qe.dynamicBackgrounds.classes||{},Qe.dynamicBackgrounds.classes[o]=Qe.dynamicBackgrounds.classes[o]||{},Qe.dynamicBackgrounds.classes[o]=i):"selector"===r&&(Qe.dynamicBackgrounds.selectors=Qe.dynamicBackgrounds.selectors||{},Qe.dynamicBackgrounds.selectors[o]=Qe.dynamicBackgrounds.selectors[o]||{},Qe.dynamicBackgrounds.selectors[o]=i);var n={};if("id"===r){var s=Qe.findComponentItem(t.children,o,Qe.getComponentItem);n=s?s.options:{}}else"class"===r?n=Qe.classes[o]||{}:"selector"===r&&(n=Qe.customSelectors[o]||{});var l=0;for(key in n)if(!(-1<["ct_id","ct_parent","set_name","parent","key","status","friendly_name","selector","activeselector","classes","nicename"].indexOf(key)))if("media"===key){i.media={};var c=n.media;for(bpKey in c)for(stateKey in i.media[bpKey]={},c[bpKey])"id"===r&&c[bpKey][stateKey]["background-image"]&&-1<c[bpKey][stateKey]["background-image"].indexOf("[oxygen")&&(i.media[bpKey][stateKey]=c[bpKey][stateKey]["background-image"],l++)}else"id"===r&&n[key]&&n[key]["background-image"]&&-1<n[key]["background-image"].indexOf("[oxygen")&&(i[key]=n[key]["background-image"],l++);for(key in i)if("lock"!==key)if("media"===key){c=i.media;for(bpKey in c)for(stateKey in c[bpKey])Qe.applyShortcodeResults(o,i.media[bpKey][stateKey],function(e,t){if("selector"===r?Qe.dynamicBackgrounds.selectors[o].media[t.bpKey][t.stateKey]=e.trim():"class"===r?Qe.dynamicBackgrounds.classes[o].media[t.bpKey][t.stateKey]=e.trim():"id"===r&&(Qe.dynamicBackgrounds[o].media[t.bpKey][t.stateKey]=e.trim()),0===--l)return delete i.lock,void a()},{id:o,bpKey:bpKey,stateKey:stateKey})}else Qe.applyShortcodeResults(o,i[key],function(e,t){if("selector"===r?Qe.dynamicBackgrounds.selectors[o][t.key]=e.trim():"class"===r?Qe.dynamicBackgrounds.classes[o][t.key]=e.trim():"id"===r&&(Qe.dynamicBackgrounds[o][t.key]=e.trim()),0===--l)return delete i.lock,void a()},{id:o,key:key});0===l&&(delete i.lock,a())},Qe.outputCSSOptions=function(e,r,t){Qe.APIElementsDefaultCSS=[],Qe.log&&(console.log("outputCSSOptions()",e),Qe.functionStart("outputCSSOptions()"));if(Qe.bufferedOutputStyles=Qe.bufferedOutputStyles||{},Qe.bufferedOutputStyles.keys=Qe.bufferedOutputStyles.keys||[],(Qe.isEditing("class")||Qe.isEditing("id")||1==r)&&Qe.bufferedOutputStyles.keys.indexOf("id")<0&&Qe.bufferedOutputStyles.keys.push("id"),!Qe.isEditing("class")&&Qe.classesCached||Qe.bufferedOutputStyles.keys.indexOf("classes")<0&&Qe.bufferedOutputStyles.keys.push("classes"),Qe.bufferedOutputStyles.keys.indexOf("selectors")<0&&Qe.bufferedOutputStyles.keys.push("selectors"),(Qe.isEditing("class")||Qe.isEditing("id")||1==r)&&(void 0!==e&&0<e?Qe.updateComponentCacheStyles(e,function(){Qe.cache.idCSS="",Object.keys(Qe.cache.idStyles).map(function(e,t){Qe.cache.idCSS+=Qe.cache.idStyles[e]}),Qe.outputCSSStylesAfterWait("id",Qe.cache.idCSS)}):(Object.keys(Qe.cache.idStyles).map(function(e,t){Qe.cache.idCSS+=Qe.cache.idStyles[e]}),Qe.outputCSSStylesAfterWait("id",Qe.cache.idCSS))),Qe.isEditing("class")||!Qe.classesCached)if(Qe.classesCached)void 0!==Qe.classes[Qe.currentClass]&&void 0!==Qe.classes[Qe.currentClass].parent&&void 0!==Qe.styleFolders[Qe.classes[Qe.currentClass].parent]&&1!==Qe.styleFolders[Qe.classes[Qe.currentClass].parent].status||-1!==parseInt(Qe.classes[Qe.currentClass].parent)&&(Qe.cache.classStyles[Qe.currentClass]=Qe.getSingleClassCSS(Qe.currentClass)),Qe.cache.classCSS="",Object.keys(Qe.cache.classStyles).map(function(e,t){Qe.cache.classCSS+=Qe.cache.classStyles[e]}),Qe.outputCSSStylesAfterWait("classes",Qe.cache.classCSS);else{var a=function(e){var t=function(){0<c.length&&a(c.shift())};if(Qe.classes.hasOwnProperty(e)){var o=Qe.classes[e];Qe.cache.classStyles[e]="",(void 0===Qe.classes[e].parent||void 0===Qe.styleFolders[Qe.classes[e].parent]||1===Qe.styleFolders[Qe.classes[e].parent].status)&&-1!==parseInt(Qe.classes[e].parent)?Qe.generateDynamicBackgrounds(e,r,"class",function(){Qe.cache.classStyles[e]=Qe.getSingleClassCSS(e,o),t()}):t()}else t()};Qe.cache.classStyles=[];var o=Object.keys(Qe.classes);if(0<o.length){var i=Math.ceil(o.length/1e3);if(i<=1)a((c=o).shift());else for(var n=0;n<i;n++){var s=1e3*n,l=s+1e3,c=o.slice(s,l);a(c.shift())}Qe.cache.classCSS="",Object.keys(Qe.cache.classStyles).map(function(e,t){Qe.cache.classCSS+=Qe.cache.classStyles[e]}),Qe.outputCSSStylesAfterWait("classes",Qe.cache.classCSS),Qe.classesCached=!0}else Qe.cache.classCSS="",Qe.outputCSSStylesAfterWait("classes",Qe.cache.classCSS),Qe.classesCached=!0}Qe.cache.selectorStyles=[],Qe.cache.selectorCSS="";var p=Object.keys(Qe.customSelectors),d=function(e){var t=function(){0<p.length?d(p.shift()):(Qe.cache.selectorCSS="",Object.keys(Qe.cache.selectorStyles).map(function(e,t){Qe.cache.selectorCSS+=Qe.cache.selectorStyles[e]}),Qe.outputCSSStylesAfterWait("selectors",Qe.cache.selectorCSS))};if(Qe.customSelectors.hasOwnProperty(e)){var o=Qe.customSelectors[e];Qe.cache.selectorStyles[e]="",!(void 0!==Qe.customSelectors[e].set_name&&void 0!==Qe.styleSets[Qe.customSelectors[e].set_name]&&void 0!==Qe.styleSets[Qe.customSelectors[e].set_name].parent&&void 0!==Qe.styleFolders[Qe.styleSets[Qe.customSelectors[e].set_name].parent]&&void 0!==Qe.styleFolders[Qe.styleSets[Qe.customSelectors[e].set_name].parent].status&&1!==Qe.styleFolders[Qe.styleSets[Qe.customSelectors[e].set_name].parent].status||void 0!==Qe.styleSets[Qe.customSelectors[e].set_name]&&-1===parseInt(Qe.styleSets[Qe.customSelectors[e].set_name].parent))?Qe.generateDynamicBackgrounds(e,r,"selector",function(){Qe.cache.selectorStyles[e]=Qe.getSingleSelectorCSS(e,o),t()}):t()}else t()};0<p.length?d(p.shift()):Qe.outputCSSStylesAfterWait("selectors",Qe.cache.selectorCSS),Qe.functionEnd("outputCSSOptions()")},Qe.outputCSSStylesAfterWait=function(e,t){"id"===e&&(Qe.idStylesContainer.innerHTML=t),"classes"===e&&(Qe.classStylesContainer.innerHTML=t),"selectors"===e&&Qe.outputCSSStyles("ct-custom-selectors",t)},Qe.updateComponentCacheStyles=function(e,t,o){Qe.contentAdded=[],Qe.log&&console.log("updateComponentCacheStyles()",e,Qe.component.options[e]),Qe.generateDynamicBackgrounds(e,!1,"id",function(){Qe.cache.idStyles[e]=Qe.getSingleComponentCSS(Qe.component.options[e],e,null,null,o),t&&t()})},Qe.updateAllComponentsCacheStyles=function(){for(var e in Qe.APIElementsDefaultCSS=[],Qe.functionStart("updateAllComponentsCacheStyles()"),Qe.component.options)Qe.component.options.hasOwnProperty(e)&&Qe.updateComponentCacheStyles(e,function(){Qe.cache.idCSS="",Object.keys(Qe.cache.idStyles).map(function(e,t){Qe.cache.idCSS+=Qe.cache.idStyles[e]}),Qe.outputCSSStylesAfterWait("id",Qe.cache.idCSS)});Qe.functionEnd("updateAllComponentsCacheStyles()")},Qe.removeComponentCacheStyles=function(e){delete Qe.cache.idStyles[e]},Qe.getDynamicBackground=function(e,t){var o;return"id"===e&&Qe.dynamicBackgrounds[t.id]?o=Qe.dynamicBackgrounds[t.id]:"class"===e&&Qe.dynamicBackgrounds.classes[t.id]?o=Qe.dynamicBackgrounds.classes[t.id]:"selector"===e&&Qe.dynamicBackgrounds.selectors[t.id]&&(o=Qe.dynamicBackgrounds.selectors[t.id]),t.media?o.media[t.media]["id"===t.stateName?"original":t.stateName]:o["id"===t.stateName?"original":t.stateName]},Qe.getSingleComponentCSS=function(e,t,o,r,a){if("ct_reusable"==e.name&&e.original){Qe.reusableCSS={},Qe.reusableCSS.styles="  ";var i=e.original.view_id;return Qe.postsData[i]&&(Qe.generateTreeCSS(Qe.postsData[i].post_tree,Qe.reusableCSS),Qe.outputCSSStyles("ct-re-usable-styles-"+i,Qe.reusableCSS.styles)),""}Qe.log&&(console.log("getSingleComponentCSS()",t,e,o),Qe.functionStart("getSingleComponentCSS()"));var n="",s="",l="",c=Qe.defaultOptions[e.name];for(var p in null==e.original&&(e.original=[]),e)if(e.hasOwnProperty(p)){var d=e[p];if("original"==p&&!o)continue;if(0!=t&&"object"==typeof d&&"model"!=p&&"classes"!=p&&"media"!=p){var g,m,u,_,y,h,b,x=angular.copy(e[p]),S=Qe.getCSSOptions(t,p,x,e.name,r,{id:t,state:p});if(mergedOriginalOptions=angular.copy(e.original),originalOptions=Qe.getCSSOptions(t,"original",mergedOriginalOptions,e.name,r,{id:t,state:p}),l="id"==p||o&&"original"==p||p==Qe.currentState&&t==Qe.component.active.id&&Qe.isEditing("id")&&("hover"==p||"active"==p||"focus"==p)?"":":"+p,s="ct_paragraph"==e.name?" p":"",a){n+="#"+e.selector+'[ng-attr-component-id="'+t+'"]'+s+l+"{",n+=Qe.getBackgroundLayersCSS(S,e.name,"id",t,r,p)||"",n+="}";continue}if("ct_columns"==e.name){var f=Qe.getWidth(e.original.gutter);n+="#"+e.selector+" .ct-column"+l+"{",n+="margin-right:"+f.value/2+f.unit+";",n+="margin-left:"+f.value/2+f.unit+";",n+="}"}if("true"==e.original.dont_render&&(n+="#"+e.selector+"{",e.original["placeholder-width"]&&(n+="width:"+e.original["placeholder-width"]+(e.original["placeholder-width-unit"]||c["placeholder-width-unit"])+";"),e.original["placeholder-height"]&&(n+="height:"+e.original["placeholder-height"]+(e.original["placeholder-height-unit"]||c["placeholder-height-unit"])+";"),n+="}"),"ct_section"==e.name){S.display&&"none"==S.display&&(n+="#"+e.selector+l+"{ display: "+S.display+"; }"),S.display&&"none"!=S.display&&(n+="#"+e.selector+l+"{ display: block; }"),n+="#"+e.selector+">.ct-section-inner-wrap"+l+"{",null==S["section-width"]&&(S["section-width"]=c["section-width"]),S["section-width"],"custom"==S["section-width"]&&S["custom-width"]&&(n+="max-width:"+S["custom-width"]+";"),"full-width"==S["section-width"]&&(n+="max-width:100%;"),S["container-padding-top"]&&(n+="padding-top:"+S["container-padding-top"]+";"),S["container-padding-right"]&&(n+="padding-right:"+S["container-padding-right"]+";"),S["container-padding-bottom"]&&(n+="padding-bottom:"+S["container-padding-bottom"]+";"),S["container-padding-left"]&&(n+="padding-left:"+S["container-padding-left"]+";"),S.display&&"grid"!=S["flex-direction"]&&(n+="display:"+S.display+";");var v="reverse"==S["flex-reverse"]?"-reverse":"";S["flex-direction"]&&"grid"!=S["flex-direction"]&&(n+="flex-direction:"+S["flex-direction"]+v+";"),S["justify-content"]&&(n+="justify-content:"+S["justify-content"]+";"),S["align-content"]&&(n+="align-content:"+S["align-content"]+";"),S["align-items"]&&(n+="align-items:"+S["align-items"]+";"),S["flex-wrap"]&&(n+="flex-wrap:"+S["flex-wrap"]+";"),S.gap&&(n+="gap:"+S.gap+";"),n+=Qe.getGridCSS(S,e.name)||"",n+="}",n+=Qe.getGridChildCSS(S,e.selector,l,"> .ct-section-inner-wrap"),e.original.video_background_hide&&(n+="@media (max-width: "+Qe.getMediaMaxSize(e.original.video_background_hide)+") {",n+="#"+e.selector+" .oxy-video-container { display: none; }",n+="}"),e.original.video_background_overlay&&(n+="#"+e.selector+" .oxy-video-overlay { background-color: "+e.original.video_background_overlay+"; }")}if("ct_section"==e.name&&(n+=Qe.getGridChildCSS(S,e.selector,l,!1)),"oxy_posts_grid"==e.name){var C=Qe.getGridCSS(S,e.name,"!important")||"";C&&(n+="#"+e.selector+"> .oxy-posts"+l+"{",n+=C,n+="}",n+="#"+e.selector+l+"{",n+="flex-direction: column",n+="}",n+=Qe.getGridChildCSS(S,e.selector,l,"> .oxy-posts"))}if("ct_section"!=e.name&&"oxy_posts_grid"!=e.name&&"oxy_dynamic_list"!=e.name&&(n+=Qe.getGridChildCSS(S,e.selector,l)),"oxy_dynamic_list"==e.name&&(n+=Qe.getGridChildCSS(S,e.selector,l,"",!1,"is repeater"),Qe.mapCSSProperty("paginate_size","font-size",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_color","color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_alignment","justify-content",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_wrap_alignment","justify-content",".oxy-repeater-pages-wrap"),Qe.mapCSSProperty("paginate_link_color","color",".oxy-repeater-pages a.page-numbers"),Qe.mapCSSProperty("paginate_link_hover_color","color",".oxy-repeater-pages a.page-numbers:hover"),Qe.mapCSSProperty("paginate_padding_top","padding-top",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_padding_left","padding-left",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_padding_right","padding-right",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_padding_bottom","padding-bottom",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_margin_top","margin-top",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_margin_left","margin-left",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_margin_right","margin-right",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_margin_bottom","margin-bottom",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_width","width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_min_width","min-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_max_width","max-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_height","height",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_min_height","min-height",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_max_height","max-height",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_flex_direction","flex-direction",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_flex_wrap","flex-wrap",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_all_color","border-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_top_color","border-top-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_left_color","border-left-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_bottom_color","border-bottom-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_right_color","border-right-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_all_width","border-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_top_width","border-top-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_left_width","border-left-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_bottom_width","border-bottom-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_right_width","border-right-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_all_style","border-style",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_top_style","border-top-style",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_left_style","border-left-style",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_bottom_style","border-bottom-style",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_right_style","border-right-style",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_radius","border-radius",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_top_left_radius","border-top-left-radius",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_top_right_radius","border-top-right-radius",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_bottom_right_radius","border-bottom-right-radius",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_border_bottom_left_radius","border-bottom-left-radius",".oxy-repeater-pages"),Qe.mapCSSProperty("paginatelink_border_all_color","border-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_top_color","border-top-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_left_color","border-left-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_bottom_color","border-bottom-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_right_color","border-right-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_all_width","border-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_top_width","border-top-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_left_width","border-left-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_bottom_width","border-bottom-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_right_width","border-right-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_all_style","border-style",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_top_style","border-top-style",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_left_style","border-left-style",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_bottom_style","border-bottom-style",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_right_style","border-right-style",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_radius","border-radius",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_top_left_radius","border-top-left-radius",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_top_right_radius","border-top-right-radius",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_bottom_right_radius","border-bottom-right-radius",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_border_bottom_left_radius","border-bottom-left-radius",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelinkactive_border_all_color","border-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_top_color","border-top-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_left_color","border-left-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_bottom_color","border-bottom-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_right_color","border-right-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_all_width","border-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_top_width","border-top-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_left_width","border-left-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_bottom_width","border-bottom-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_right_width","border-right-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_all_style","border-style",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_top_style","border-top-style",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_left_style","border-left-style",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_bottom_style","border-bottom-style",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_right_style","border-right-style",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_radius","border-radius",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_top_left_radius","border-top-left-radius",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_top_right_radius","border-top-right-radius",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_bottom_right_radius","border-bottom-right-radius",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_border_bottom_left_radius","border-bottom-left-radius",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginate_background_color","background-color",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_background_image","background-image",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_background_size","background-size",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_background_size_width","background-size-width",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_background_size_height","background-size-height",".oxy-repeater-pages"),Qe.mapCSSProperty("paginate_background_repeat","background-repeat",".oxy-repeater-pages"),Qe.mapCSSProperty("paginatelink_background_color","background-color",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_background_image","background-image",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_background_size","background-size",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_background_size_width","background-size-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_background_size_height","background-size-height",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_background_repeat","background-repeat",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelinkactive_background_color","background-color",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_background_image","background-image",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_background_size","background-size",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_background_size_width","background-size-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_background_size_height","background-size-height",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_background_repeat","background-repeat",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelink_padding_top","padding-top",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_padding_left","padding-left",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_padding_right","padding-right",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_padding_bottom","padding-bottom",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_margin_top","margin-top",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_margin_left","margin-left",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_margin_right","margin-right",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_margin_bottom","margin-bottom",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_width","width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_min_width","min-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_max_width","max-width",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_height","height",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_min_height","min-height",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelink_max_height","max-height",".oxy-repeater-pages a"),Qe.mapCSSProperty("paginatelinkactive_padding_top","padding-top",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_padding_left","padding-left",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_padding_right","padding-right",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_padding_bottom","padding-bottom",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_margin_top","margin-top",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_margin_left","margin-left",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_margin_right","margin-right",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_margin_bottom","margin-bottom",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_width","width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_min_width","min-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_max_width","max-width",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_height","height",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_min_height","min-height",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkactive_max_height","max-height",".oxy-repeater-pages span.current"),Qe.mapCSSProperty("paginatelinkhover_background_color","background-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_background_image","background-image",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_background_size","background-size",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_background_size_width","background-size-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_background_size_height","background-size-height",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_background_repeat","background-repeat",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_color","background-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_image","background-image",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_size","background-size",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_size_width","background-size-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_size_height","background-size-height",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_background_repeat","background-repeat",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkhover_padding_top","padding-top",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_padding_left","padding-left",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_padding_right","padding-right",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_padding_bottom","padding-bottom",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_margin_top","margin-top",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_margin_left","margin-left",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_margin_right","margin-right",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_margin_bottom","margin-bottom",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_width","width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_min_width","min-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_max_width","max-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_height","height",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_min_height","min-height",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_max_height","max-height",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkactivehover_padding_top","padding-top",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_padding_left","padding-left",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_padding_right","padding-right",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_padding_bottom","padding-bottom",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_margin_top","margin-top",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_margin_left","margin-left",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_margin_right","margin-right",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_margin_bottom","margin-bottom",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_width","width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_min_width","min-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_max_width","max-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_height","height",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_min_height","min-height",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_max_height","max-height",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkhover_border_all_color","border-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_top_color","border-top-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_left_color","border-left-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_bottom_color","border-bottom-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_right_color","border-right-color",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_all_width","border-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_top_width","border-top-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_left_width","border-left-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_bottom_width","border-bottom-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_right_width","border-right-width",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_all_style","border-style",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_top_style","border-top-style",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_left_style","border-left-style",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_bottom_style","border-bottom-style",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_right_style","border-right-style",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_radius","border-radius",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_top_left_radius","border-top-left-radius",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_top_right_radius","border-top-right-radius",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_bottom_right_radius","border-bottom-right-radius",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkhover_border_bottom_left_radius","border-bottom-left-radius",".oxy-repeater-pages a:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_all_color","border-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_top_color","border-top-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_left_color","border-left-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_bottom_color","border-bottom-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_right_color","border-right-color",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_all_width","border-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_top_width","border-top-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_left_width","border-left-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_bottom_width","border-bottom-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_right_width","border-right-width",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_all_style","border-style",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_top_style","border-top-style",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_left_style","border-left-style",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_bottom_style","border-bottom-style",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_right_style","border-right-style",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_radius","border-radius",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_top_left_radius","border-top-left-radius",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_top_right_radius","border-top-right-radius",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_bottom_right_radius","border-bottom-right-radius",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginatelinkactivehover_border_bottom_left_radius","border-bottom-left-radius",".oxy-repeater-pages span.current:hover"),Qe.mapCSSProperty("paginate_link_transition","transition",".oxy-repeater-pages > *")),"oxy_posts_grid"==e.name&&(Qe.mapCSSProperty("title_size","font-size",".oxy-post-title"),Qe.mapCSSProperty("title_color","color",".oxy-post-title"),Qe.mapCSSProperty("title_hover_color","color",".oxy-post-title:hover"),Qe.mapCSSProperty("meta_size","font-size",".oxy-post-meta"),Qe.mapCSSProperty("meta_color","color",".oxy-post-meta"),Qe.mapCSSProperty("content_size","font-size",".oxy-post-content"),Qe.mapCSSProperty("content_color","color",".oxy-post-content"),Qe.mapCSSProperty("read_more_size","font-size",".oxy-read-more"),Qe.mapCSSProperty("read_more_text_color","color",".oxy-read-more"),Qe.mapCSSProperty("read_more_button_color","background-color",".oxy-read-more"),Qe.mapCSSProperty("read_more_text_hover_color","color",".oxy-read-more:hover"),Qe.mapCSSProperty("read_more_button_hover_color","background-color",".oxy-read-more:hover"),Qe.mapCSSProperty("paginate_color","color",".oxy-easy-posts-pages"),Qe.mapCSSProperty("paginate_alignment","text-align",".oxy-easy-posts-pages"),Qe.mapCSSProperty("paginate_link_color","color",".oxy-easy-posts-pages a.page-numbers"),Qe.mapCSSProperty("paginate_link_hover_color","color",".oxy-easy-posts-pages a.page-numbers:hover"),"button"==e.original.read_more_display_as?(n+="#"+e.selector+" .oxy-read-more {",n+="text-decoration:none;",n+="padding:0.75em 1.5em;",n+="line-height:1;",n+="border-radius:3px;",n+="display:inline-block;",n+="}"):(Qe.unmapCSSProperty("background-color",".oxy-read-more"),Qe.unmapCSSProperty("background-color",".oxy-read-more:hover")),n+="@media (max-width: "+Qe.getMediaMaxSize(e.original.posts_5050_below)+") {",n+="#"+e.selector+" .oxy-post { width: 50% !important; }",n+="}",n+="@media (max-width: "+Qe.getMediaMaxSize(e.original.posts_100_below)+") {",n+="#"+e.selector+" .oxy-post { width: 100% !important; }",n+="}"),"oxy_comment_form"==e.name&&(Qe.mapCSSProperty("form_field_border_color","border-color","input, textarea"),Qe.mapCSSProperty("form_field_text_color","color","input, textarea"),Qe.mapCSSProperty("field_border_radius","border-radius","input, textarea"),Qe.mapCSSProperty("submit_button_background_color","background-color","#submit"),Qe.mapCSSProperty("submit_button_text_color","color","#submit")),"oxy_login_form"==e.name&&(Qe.mapCSSProperty("form_field_border_color","border-color","input, textarea"),Qe.mapCSSProperty("form_field_text_color","color","input, textarea"),Qe.mapCSSProperty("field_border_radius","border-radius","input, textarea"),Qe.mapCSSProperty("submit_button_background_color","background-color","input[type=submit]"),Qe.mapCSSProperty("submit_button_text_color","color","input[type=submit]")),"oxy_search_form"==e.name&&(Qe.mapCSSProperty("form_field_border_color","border-color","input, textarea"),Qe.mapCSSProperty("form_field_text_color","color","input, textarea"),Qe.mapCSSProperty("field_border_radius","border-radius","input, textarea"),Qe.mapCSSProperty("submit_button_background_color","background-color","input[type=submit]"),Qe.mapCSSProperty("submit_button_text_color","color","input[type=submit]")),"ct_video"==e.name){n=n+"#"+e.selector+">.oxygen-vsb-responsive-video-wrapper"+l+"{";var w=e.original["video-padding-bottom"]||c["video-padding-bottom"];w&&(n+="padding-bottom:"+w+";"),n+="}"}if("ct_new_columns"==e.name&&(g=e.original),"ct_new_columns"==e.name&&g["set-columns-width-50"]&&"never"!=g["set-columns-width-50"]&&(n+="@media (max-width: "+Qe.getMediaMaxSize(g["set-columns-width-50"])+") {",n+="#"+e.selector+"> .ct-div-block {width: 50% !important;}",n+="}"),"ct_new_columns"==e.name){var k=parseInt(Qe.getMediaMaxSize(g["reverse-column-order"]))||0,P=parseInt(Qe.getMediaMaxSize(g["stack-columns-vertically"]))||0,O="",z="";"always"==g["reverse-column-order"]&&(k=9999999999),g["stack-columns-vertically"]&&"never"!=g["stack-columns-vertically"]&&(z+="@media (max-width: "+Qe.getMediaMaxSize(g["stack-columns-vertically"])+") {",z+="#"+e.selector+"> .ct-div-block {",z+="width: 100% !important;",z+="}",z+="#"+e.selector+"{",z+=k<P?"flex-direction: column;":"flex-direction: column-reverse;",z+="}",z+="}"),g["reverse-column-order"]&&"never"!=g["reverse-column-order"]&&"always"!=g["reverse-column-order"]&&(O+="@media (max-width: "+Qe.getMediaMaxSize(g["reverse-column-order"])+") {",O+="#"+e.selector+"{",O+=P<k?"flex-direction: row-reverse;":"flex-direction: column-reverse;",O+="}",O+="}"),"always"==g["reverse-column-order"]&&(n+="#"+e.selector+"{flex-direction: row-reverse;}"),P<k?(n+=O,n+=z):(n+=z,n+=O)}if("oxy_header"==e.name){n+="#"+e.selector+" .oxy-header-container"+l+"{",null==S["header-width"]&&(S["header-width"]=c["header-width"]),"custom"==S["header-width"]&&S["header-custom-width"]&&(n+="max-width:"+S["header-custom-width"]+";"),"full-width"==S["header-width"]&&(n+="max-width:100%;"),n+="}",e.original["overlay-header-above"]&&"never"!=e.original["overlay-header-above"]&&("always"!=e.original["overlay-header-above"]&&(n+="@media (min-width: "+Qe.getMediaMinSize(e.original["overlay-header-above"])+") {"),n+="#"+e.selector+".oxy-header.oxy-overlay-header {position: absolute;left: 0;right: 0;z-index: 20;}#"+e.selector+".oxy-header.oxy-overlay-header:not(.oxy-sticky-header-active) .oxy-header-row,#"+e.selector+".oxy-header.oxy-overlay-header:not(.oxy-sticky-header-active){background-color: initial !important;}#"+e.selector+".oxy-header.oxy-overlay-header .oxygen-hide-in-overlay{display: none}#"+e.selector+".oxy-header.oxy-overlay-header .oxygen-only-show-in-overlay{display: block}","always"!=e.original["overlay-header-above"]&&(n+="}"));var T="";if(e.original["sticky-media"]&&"never"!=e.original["sticky-media"])"always"!=e.original["sticky-media"]&&(T+="@media (min-width: "+Qe.getMediaMinSize(e.original["sticky-media"])+") {"),T+="#"+e.selector+".oxy-header-wrapper.oxy-header.oxy-sticky-header.oxy-sticky-header-active {",T+="position: fixed; top: 0; left: 0; right: 0; z-index: "+(e.original.sticky_zindex||"2147483640")+";",T+=e.original["sticky-background-color"]?"background-color:"+Qe.getGlobalColorValue(e.original["sticky-background-color"])+";":"",T+="box-shadow:"+(e.original["sticky-box-shadow"]||c["sticky-box-shadow"])+";",T+="}",T+="#"+e.selector+".oxy-header.oxy-sticky-header-active .oxygen-hide-in-sticky {",T+="display:none;",T+="}",T+="#"+e.selector+".oxy-header.oxy-header .oxygen-show-in-sticky-only {",T+="display: none;",T+="}","always"!=e.original["sticky-media"]&&(T+="}");T&&(n+=T),e.original.sticky_header_fade_in_speed&&(n+="#"+e.selector+".oxy-sticky-header-active {animation-duration: "+e.original.sticky_header_fade_in_speed+"s;}")}if("oxy_header"==e.name||"oxy_header_row"==e.name){var G="";e.original["stack-header-vertically"]&&"never"!=e.original["stack-header-vertically"]&&(G+="@media (max-width: "+Qe.getMediaMaxSize(e.original["stack-header-vertically"])+") {",G+="#"+e.selector+" .oxy-header-container {",G+="flex-direction: column;",G+="}",G+="#"+e.selector+" .oxy-header-container > div{",G+="justify-content: center;",G+="}",G+="}"),G&&(n+=G)}if("oxy_header_row"==e.name){n+="#"+e.selector+".oxy-header-row .oxy-header-container"+l+"{",null==S["header-row-width"]&&(S["header-row-width"]=c["header-row-width"]),"custom"==S["header-row-width"]&&S["header-row-custom-width"]&&(n+="max-width:"+S["header-row-custom-width"]+";"),"full-width"==S["header-row-width"]&&(n+="max-width:100%;"),"page-width"==S["header-row-width"]&&(n+="max-width:"+Qe.getPageWidth()+"px;"),n+="}";var M="",V="";e.original["hide-row"]&&"never"!=e.original["hide-row"]&&(M+="@media (max-width: "+Qe.getMediaMaxSize(e.original["hide-row"])+") {",M+="#"+e.selector+" {",M+="display: none;",M+="}",M+="}"),M&&(n+=M);var A=S.display||"block";V+=".oxy-header.oxy-sticky-header-active > #"+e.selector+".oxygen-show-in-sticky-only {",V+="display: "+A+";",n+=V+="}"}if("ct_slider"==e.name&&(o||"id"!=p||(S["slider-arrow-color"]&&"lighter"==S["slider-arrow-color"]&&(n+="#"+e.selector+" .unslider-arrow {",n+="background-color: rgba(255,255,255,0.2); ",n+="}"),S["slider-dot-color"]&&(n+="#"+e.selector+" .unslider-nav ol li {",n+="border-color: "+Qe.getGlobalColorValue(S["slider-dot-color"])+"; ",n+="}",n+="#"+e.selector+" .unslider-nav ol li.unslider-active {",n+="background-color: "+Qe.getGlobalColorValue(S["slider-dot-color"])+"; ",n+="}"),S["slider-remove-padding"]&&"yes"==S["slider-remove-padding"]&&(n+="#"+e.selector+" .unslider {",n+="padding: 0px; ",n+="}",n+="#"+e.selector+" .unslider-wrap.unslider-carousel > li {",n+="padding: 0px; ",n+="}",n+="#"+e.selector+" .unslider-arrow.next {",n+="right: 10px; ",n+="z-index: 100; ",n+="}",n+="#"+e.selector+" .unslider-arrow.prev {",n+="left: 10px; ",n+="z-index: 100; ",n+="}"),S["slider-dots-overlay"]&&"yes"==S["slider-dots-overlay"]&&(n+="#"+e.selector+" .unslider .unslider-nav {",n+="position: absolute; bottom: 0; left: 0; right: 0; z-index:100",n+="}"),S["slider-stretch-slides"]&&"yes"==S["slider-stretch-slides"]&&(n+="#"+e.selector+" .unslider-wrap {",n+="display: flex;",n+="}",n+="#"+e.selector+" .ct-slide {",n+="height: 100%;",n+="}",n+="#"+e.selector+" .unslider,",n+="#"+e.selector+" .oxygen-unslider-container,",n+="#"+e.selector+" .unslider-wrap,",n+="#"+e.selector+" .unslider-wrap li {",n+="height: 100%;",n+="}"),S["slider-stretch-slides"]&&"yes"==S["slider-stretch-slides"]&&S["slider-animation"]&&"fade"==S["slider-animation"]&&(n+="#"+e.selector+" .unslider-fade ul li.unslider-active {",n+="width: 100%;",n+="}"),S["slider-slide-padding"]&&(n+="#"+e.selector+" .ct-slide {",n+="padding: "+S["slider-slide-padding"],n+="}"))),"ct_link_button"==e.name){if(o||"id"!=p)I=!!Qe.component.options[t]&&Qe.component.options[t].original["button-style"],E=Qe.getGlobalColorValue(S["button-color"]),F=S["button-size"],N=Qe.getGlobalColorValue(S["button-text-color"]);else var I=originalOptions["button-style"]||c["button-style"],E=Qe.getGlobalColorValue(S["button-color"]),F=S["button-size"],N=Qe.getGlobalColorValue(S["button-text-color"]);if(n=n+"#"+e.selector+l+"{",1==I&&E&&(n+="background-color: "+Qe.getGlobalColorValue(E)+";",n+="border: 1px solid "+E+";",N&&(n+="color: "+Qe.getGlobalColorValue(N)+";")),2==I&&(n+="background-color: transparent;",E?(n+="border: 1px solid "+Qe.getGlobalColorValue(E)+";",n+="color: "+Qe.getGlobalColorValue(E)+";"):n+="color: "+Qe.getGlobalColorValue(c["button-color"])+";"),F){var j=2==I?1:0;n+="padding: "+(parseInt(F)-j)+"px "+(1.6*parseInt(F)-j)+"px;"}n+="}"}if("ct_fancy_icon"==e.name){if(o||"id"!=p)K=!!Qe.component.options[t]&&Qe.component.options[t].original["icon-style"],B=Qe.getGlobalColorValue(S["icon-color"]),D=Qe.getGlobalColorValue(S["icon-background-color"]),H=S["icon-padding"],W=S["icon-size"];else var K=originalOptions["icon-style"]||c["icon-style"],B=Qe.getGlobalColorValue(S["icon-color"]),D=Qe.getGlobalColorValue(S["icon-background-color"])||c["icon-background-color"],H=S["icon-padding"]||c["icon-padding"]+c["icon-padding-unit"],W=S["icon-size"];n=n+"#"+e.selector+l+"{",1==K&&(n+="border: 1px solid;"),2==K&&D&&(n+="background-color: "+Qe.getGlobalColorValue(D)+";",n+="border: 1px solid "+Qe.getGlobalColorValue(D)+";"),1!=K&&2!=K||H&&(n+="padding:"+H+";"),B&&(n+="color:"+Qe.getGlobalColorValue(B)+";"),n+="}",W&&(n=n+"#"+e.selector+l+">svg {",n+="width: "+W+";",n+="height: "+W+";",n+="}")}if("oxy_social_icons"==e.name){K=e.original["icon-style"]||c["icon-style"];var X=Qe.getGlobalColorValue(e.original["icon-use-brand-colors"])||c["icon-use-brand-colors"];if(n+="#"+e.selector+".oxy-social-icons {",n+="flex-direction: "+(e.original["icon-layout"]||c["icon-layout"])+";",n+="margin-right: -"+(e.original["icon-space-between-icons"]||c["icon-space-between-icons"])+"px;",n+="margin-bottom: -"+(e.original["icon-space-between-icons"]||c["icon-space-between-icons"])+"px;",n+="}",n+="#"+e.selector+".oxy-social-icons a {",n+="font-size: "+(e.original["icon-size"]||c["icon-size"])+"px; ",n+="margin-right: "+(e.original["icon-space-between-icons"]||c["icon-space-between-icons"])+"px;",n+="margin-bottom: "+(e.original["icon-space-between-icons"]||c["icon-space-between-icons"])+"px;","circle"==K?n+="border-radius: 50%;":"square"==K&&(n+="border-radius: 0%;"),"blank"!=K&&(n+="background-color: "+(Qe.getGlobalColorValue(e.original["icon-background-color"])||c["icon-background-color"])+";"),n+="}",n+="#"+e.selector+".oxy-social-icons a:hover {","blank"!=K&&(n+="background-color: "+(Qe.getGlobalColorValue(e.original["icon-background-hover-color"])||c["icon-background-hover-color"])+";"),n+="}","yes"==X)for(var Y in Qe.socialIcons.networks)if(Qe.socialIcons.networks.hasOwnProperty(Y)){var L=Qe.socialIcons.networks[Y],U=Qe.socialIcons.networkColors[L],$=Qe.socialIcons.networkHoverColors[L];"blank"!=K?(n+="#"+e.selector+".oxy-social-icons a.oxy-social-icons-"+L+" {",n+="background-color: "+U+";",n+="}",n+="#"+e.selector+".oxy-social-icons a.oxy-social-icons-"+L+":hover {",n+="background-color: "+$+";",n+="}",e.original["icon-color"]="#ffffff",e.original["icon-hover-color"]="#ffffff"):(n+="#"+e.selector+".oxy-social-icons a.oxy-social-icons-"+L+" svg {",n+="color: "+U+";",n+="}",n+="#"+e.selector+".oxy-social-icons a.oxy-social-icons-"+L+":hover svg {",n+="color: "+$+";",n+="}")}n+="#"+e.selector+".oxy-social-icons a svg {",n+="blank"!=K?"width: 0.5em; height: 0.5em;":"width: 1em; height: 1em;",n+="color: "+(Qe.getGlobalColorValue(e.original["icon-color"])||c["icon-color"])+"; ",n+="}",n+="#"+e.selector+".oxy-social-icons a:hover svg {",n+="color: "+(Qe.getGlobalColorValue(e.original["icon-hover-color"])||c["icon-hover-color"])+"; ",n+="}"}if("oxy_testimonial"==e.name){var Z,Q,q,R,J,ee="",te=S.testimonial_image_spacing;if("vertical"==S.testimonial_layout?(ee="margin:0;",te=S.testimonial_image_spacing||c.testimonial_image_spacing+c["testimonial_image_spacing-unit"],"bottom"==S.testimonial_image_position?ee+="margin-top":ee+="margin-bottom"):"bottom"==S.testimonial_image_position?(ee="margin:0;",te=S.testimonial_image_spacing||c.testimonial_image_spacing+c["testimonial_image_spacing-unit"],ee+="margin-left"):ee+="margin-right",ee+=": "+te+";","left"==S.testimonial_content_alignment?(Z="flex-start",Q="left"):"center"==S.testimonial_content_alignment?Q=Z="center":"right"==S.testimonial_content_alignment&&(Z="flex-end",Q="right"),"left"==e.original.testimonial_mobile_content_alignment?(q="flex-start",R="left"):"center"==e.original.testimonial_mobile_content_alignment?R=q="center":"right"==e.original.testimonial_mobile_content_alignment&&(q="flex-end",R="right"),"vertical"==S.testimonial_layout?n+="#"+e.selector+" {flex-direction: column;}":"horizontal"==S.testimonial_layout&&(n+="#"+e.selector+" {flex-direction: row;align-items: center;}"),"top"==S.testimonial_image_position?n+="#"+e.selector+" .oxy-testimonial-photo-wrap {order: 1;}":"bottom"==S.testimonial_image_position&&(n+="#"+e.selector+" .oxy-testimonial-photo-wrap {order: 3;}"),n+="#"+e.selector+" .oxy-testimonial-photo {width:"+S.testimonial_image_size+";height:"+S.testimonial_image_size+";"+ee+"}",n+="#"+e.selector+" .oxy-testimonial-photo-wrap,#"+e.selector+" .oxy-testimonial-author-wrap,#"+e.selector+" .oxy-testimonial-content-wrap {align-items:"+Z+";text-align:"+Q+";}",n+="#"+e.selector+" .oxy-testimonial-text {margin-bottom:"+S.testimonial_text_space_below+";"+Qe.generateTypographyCSS(S,"testimonial_text_typography")+"}",n+="#"+e.selector+" .oxy-testimonial-author {margin-bottom:"+S.testimonial_author_space_below+";"+Qe.generateTypographyCSS(S,"testimonial_author_typography")+"}",n+="#"+e.selector+" .oxy-testimonial-author-info {margin-bottom:"+S.testimonial_author_info_space_below+";"+Qe.generateTypographyCSS(S,"testimonial_author_info_typography")+"}",maxSize=Qe.getMediaMaxSize(e.original.testimonial_vertical_layout_below),maxSize)J="bottom"==S.testimonial_image_position?"top":"bottom",n+="@media (max-width: "+maxSize+"){#"+e.selector+" {flex-direction: column !important;}#"+e.selector+" .oxy-testimonial-photo {margin: 0;margin-"+J+":"+S.testimonial_image_spacing+";}#"+e.selector+" .oxy-testimonial-photo-wrap, #"+e.selector+" .oxy-testimonial-author-wrap, #"+e.selector+" .oxy-testimonial-content-wrap {align-items:"+q+";text-align:"+R+";}}"}if("oxy_icon_box"==e.name){var oe,re,ae,ie,ne;if("top"==S.icon_box_icon_position?oe="column":"left"==S.icon_box_icon_position?oe="row":"right"==S.icon_box_icon_position?oe="row-reverse":"bottom"==S.icon_box_icon_position&&(oe="column-reverse"),"left"==S.icon_box_icon_position||"right"==S.icon_box_icon_position){var se=S.icon_box_icon_space_before||c.icon_box_icon_space_before+c["icon_box_icon_space_before-unit"];right=S.icon_box_icon_space_after||c.icon_box_icon_space_after+c["icon_box_icon_space_after-unit"],ae="margin-left: "+se+";\n",ae+="margin-right: "+right+";\n",ae+="margin-bottom: 0; margin-top: 0;"}else ae="margin-top: "+S.icon_box_icon_space_before+";\n",ae+="margin-bottom: "+S.icon_box_icon_space_after+";\n";"left"==S.icon_box_icon_position||"right"==S.icon_box_icon_position?re=S.icon_box_icon_vertical_alignment:"left"==S.icon_box_content_alignment?re="flex-start":"center"==S.icon_box_content_alignment?re="center":"right"==S.icon_box_content_alignment&&(re="flex-end"),ne="left"==S.icon_box_mobile_content_alignment?(ie="flex-start","left"):"center"==S.icon_box_mobile_content_alignment?ie="center":"right"==S.icon_box_mobile_content_alignment?(ie="flex-end","right"):(ie="flex-start","left"),n+="#"+e.selector+" {text-align: "+S.icon_box_content_alignment+";flex-direction: "+oe+";}",n+="#"+e.selector+" .oxy-icon-box-icon {"+ae+"align-self: "+re+";}",n+="#"+e.selector+" .oxy-icon-box-heading {"+Qe.generateTypographyCSS(S,"icon_box_heading_typography")+"margin-top: "+S.icon_box_heading_space_above+";margin-bottom: "+S.icon_box_heading_space_below+";}",n+="#"+e.selector+" .oxy-icon-box-text {"+Qe.generateTypographyCSS(S,"icon_box_text_typography")+"margin-top: "+S.icon_box_text_space_above+";margin-bottom: "+S.icon_box_text_space_below+";align-self: "+re+";}",n+="#"+e.selector+" .oxy-icon-box-link {margin-top: "+S.icon_box_link_space_above+";margin-bottom: "+S.icon_box_link_space_below+";}",maxSize=Qe.getMediaMaxSize(S.icon_box_vertical_layout_below),maxSize&&!o&&(n+="@media (max-width: "+maxSize+"){#"+e.selector+".oxy-icon-box {flex-direction: column !important;text-align: "+ne+";}#"+e.selector+" .oxy-icon-box-icon {margin-left: 0;margin-right: 0;margin-top: "+S.icon_box_icon_space_before+";margin-bottom: "+S.icon_box_icon_space_after+";}#"+e.selector+" .oxy-icon-box-icon, .oxy-icon-box-text {align-self: "+ie+";}}")}if("oxy_pricing_box"==e.name)"vertical"==S.pricing_box_price_layout?(u="column","left"==S.pricing_box_price_alignment?m="flex-start":"center"==S.pricing_box_price_alignment?m="center":"right"==S.pricing_box_price_alignment&&(m="flex-end")):"horizontal"==S.pricing_box_price_layout&&(u="row"),"horizontal"==S.pricing_box_price_layout&&("left"==S.pricing_box_price_alignment?_="flex-start":"center"==S.pricing_box_price_alignment?_="center":"right"==S.pricing_box_price_alignment&&(_="flex-end")),"left"==S.pricing_box_global_alignment?y="flex-start":"center"==S.pricing_box_global_alignment?y="center":"right"==S.pricing_box_global_alignment&&(y="flex-end"),"left"==S.pricing_box_graphic_alignment?h="flex-start":"center"==S.pricing_box_graphic_alignment?h="center":"right"==S.pricing_box_graphic_alignment?h="flex-end":y&&(iamge_justify_content=y),"left"==S.pricing_box_cta_alignment?b="flex-start":"center"==S.pricing_box_cta_alignment?b="center":"right"==S.pricing_box_cta_alignment?b="flex-end":y&&(b=y),n+="#"+e.selector+" .oxy-pricing-box-section {"+Qe.generateArrayOptionsCSS(S,"pricing_box_global")+"text-align:"+S.pricing_box_global_alignment+";}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-price {justify-content:"+y+";}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-graphic {"+Qe.generateArrayOptionsCSS(S,"pricing_box_graphic")+"background-color:"+Qe.getGlobalColorValue(S.pricing_box_graphic_background)+";text-align:"+S.pricing_box_graphic_alignment+";justify-content:"+h+";}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-title {"+Qe.generateArrayOptionsCSS(S,"pricing_box_title")+"text-align:"+S.pricing_box_title_alignment+";background-color:"+Qe.getGlobalColorValue(S.pricing_box_title_background)+";}",n+="#"+e.selector+" .oxy-pricing-box-title-title {"+Qe.generateTypographyCSS(S,"pricing_box_title_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-title-subtitle {"+Qe.generateTypographyCSS(S,"pricing_box_subtitle_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-price {"+Qe.generateArrayOptionsCSS(S,"pricing_box_price")+"text-align:"+S.pricing_box_price_alignment+";background-color:"+Qe.getGlobalColorValue(S.pricing_box_price_background)+";flex-direction:"+u+";justify-content:"+_+";align-items:"+m+";}",n+="#"+e.selector+" .oxy-pricing-box-currency {"+Qe.generateTypographyCSS(S,"pricing_box_price_amount_currency_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-amount-main {"+Qe.generateTypographyCSS(S,"pricing_box_price_amount_main_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-amount-decimal {"+Qe.generateTypographyCSS(S,"pricing_box_price_amount_decimal_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-term {"+Qe.generateTypographyCSS(S,"pricing_box_price_amount_term_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-sale-price {"+Qe.generateTypographyCSS(S,"pricing_box_price_sale_typography")+"margin-bottom:"+S.pricing_box_price_sale_space_below+";}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-content {background-color:"+Qe.getGlobalColorValue(S.pricing_box_content_background)+";text-align:"+S.pricing_box_content_alignment+";"+Qe.generateTypographyCSS(S,"pricing_box_content_typography")+"}",n+="#"+e.selector+" .oxy-pricing-box-section.oxy-pricing-box-cta {"+Qe.generateArrayOptionsCSS(S,"pricing_box_cta")+"background-color:"+Qe.getGlobalColorValue(S.pricing_box_cta_background)+";text-align:"+S.pricing_box_cta_alignment+";justify-content:"+b+";}";if("oxy_progress_bar"==e.name){var le="",ce=[];if("true"==S.progress_bar_stripes&&(le="background-image: linear-gradient(-45deg,rgba(255,255,255,.12) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.12) 50%,rgba(255,255,255,.12) 75%,transparent 75%,transparent);"),"false"==S.progress_bar_stripes&&(le="background-image:none;"),"true"==S.progress_bar_animation_stripes){var pe=S.progress_bar_animation_stripes_duration||c.progress_bar_animation_stripes_duration;ce.stripes="oxy_progress_bar_stripes "+pe+" linear infinite"}if("false"==S.progress_bar_animation_stripes&&(ce.stripes="none 0s paused"),"true"==S.progress_bar_animate_width){var de=S.progress_bar_animation_width_duration||c.progress_bar_animation_width_duration;ce.width="oxy_progress_bar_width "+de+" ease-out 1"}"false"==S.progress_bar_animate_width&&(ce.width="none 0s paused");var ge=[];for(var Y in ce)ge.push(ce[Y]);n+="#"+e.selector+l+" .oxy-progress-bar-background {background-color:"+Qe.getGlobalColorValue(S.progress_bar_background_color)+";"+le,ce.stripes&&(n+="animation:"+ce.stripes+";"),n+="}",n+="#"+e.selector+l+" .oxy-progress-bar-progress-wrap {width:"+S.progress_bar_progress+";}",n+="#"+e.selector+l+" .oxy-progress-bar-progress {background-color:"+Qe.getGlobalColorValue(S.progress_bar_bar_color)+";padding:"+S.progress_bar_bar_padding+";"+le+"animation:"+ge.join()+";}",n+="#"+e.selector+l+" .oxy-progress-bar-overlay-text {"+Qe.generateTypographyCSS(S,"progress_bar_left_text_typography")+"}",n+="#"+e.selector+l+" .oxy-progress-bar-overlay-percent {"+Qe.generateTypographyCSS(S,"progress_bar_right_text_typography")+"}"}if("oxy_toggle"==e.name&&(n+="#"+e.selector+l+" .oxy-expand-collapse-icon {font-size:"+S.toggle_icon_size+";}",n+="#"+e.selector+l+" .oxy-expand-collapse-icon::before,#"+e.selector+l+" .oxy-expand-collapse-icon::after {background-color:"+Qe.getGlobalColorValue(S.toggle_icon_color)+";}"),"oxy_superbox"==e.name){var me,ue,_e,ye,he,be=S.superbox_secondary_scale_start,xe=S.superbox_secondary_scale_finish,Se=S.superbox_primary_scale_start,fe=S.superbox_primary_scale_finish,ve="",Ce="",we="",ke="",Pe=":hover";"as_hovered"==e.original.superbox_editing_mode&&(Pe=""),void 0!==be&&(ue="transform: scale("+be+");"),void 0!==xe&&(_e="transform: scale("+xe+");"),void 0!==Se&&(ye="transform: scale("+Se+");"),void 0!==fe&&(he="transform: scale("+fe+");"),S.superbox_secondary_slide_direction&&(me=Qe.slide_position(S.superbox_secondary_slide_direction,(S.superbox_secondary_slide_distance||"")+"px"),"in"==S.superbox_secondary_slide_inorout?(ve=me.out_css,Ce=me.in_css):"out"==S.superbox_secondary_slide_inorout&&(ve=me.in_css,Ce=me.out_css)),S.superbox_primary_slide_direction&&(me=Qe.slide_position(S.superbox_primary_slide_direction,(S.superbox_primary_slide_distance||"")+"px"),"in"==S.superbox_primary_slide_inorout?(we=me.out_css,ke=me.in_css):"out"==S.superbox_primary_slide_inorout&&(we=me.in_css,ke=me.out_css));var Oe=S.superbox_transition_duration;n+="#"+e.selector+" .oxy-superbox-secondary, #"+e.selector+" .oxy-superbox-primary {transition-duration:"+Oe+";}",n+="#"+e.selector+" .oxy-superbox-secondary {opacity:"+S.superbox_secondary_opacity_start+";"+ve+ue+"}","as_not_hovered"!==e.original.superbox_editing_mode&&(n+="#"+e.selector+Pe+" .oxy-superbox-secondary {opacity:"+S.superbox_secondary_opacity_finish+";z-index: 2147483642;"+Ce+_e+"}"),n+="#"+e.selector+" .oxy-superbox-primary {opacity:"+S.superbox_primary_opacity_start+";"+we+ye+"}","as_not_hovered"!==e.original.superbox_editing_mode&&(n+="#"+e.selector+Pe+" .oxy-superbox-primary {opacity:"+S.superbox_primary_opacity_finish+";"+ke+he+"}")}if("oxy_nav_menu"==e.name){oxyNavMenuStyle="#"+e.selector+" .oxy-nav-menu-list"+l+"{",oxyNavMenuStyleItem="#"+e.selector+" .menu-item"+l+" a {",oxyNavMenuStyleActive="#"+e.selector+" .current-menu-item a"+l+"{",oxyNavMenuStyleDropdowns="#"+e.selector+".oxy-nav-menu:not(.oxy-nav-menu-open) .sub-menu"+l+"{",oxyNavMenuStyleDropdownsItem="#"+e.selector+".oxy-nav-menu:not(.oxy-nav-menu-open) .sub-menu .menu-item a"+l+"{",oxyNavMenuStyleNotOpenItem="#"+e.selector+".oxy-nav-menu:not(.oxy-nav-menu-open) .menu-item a"+l+"{",oxyNavMenuStyleDropdownsItemHover="#"+e.selector+".oxy-nav-menu:not(.oxy-nav-menu-open) .oxy-nav-menu-list .sub-menu .menu-item a:hover{",e.original["menu_dropdowns_background-color"]||(oxyNavMenuStyleDropdowns+="background-color:"+Qe.getGlobalColorValue(e.original["menu_hover_background-color"])+";"),oxyNavMenuStyleDropdownsItem+="border: 0;","row"==e.original["menu_flex-direction"]?(oxyNavMenuStyleDropdownsItem+="padding-top:"+e.original["menu_padding-top"]+"px;",oxyNavMenuStyleDropdownsItem+="padding-bottom:"+e.original["menu_padding-bottom"]+"px;"):(oxyNavMenuStyleDropdownsItem+="padding-left:"+e.original["menu_padding-top"]+"px;",oxyNavMenuStyleDropdownsItem+="padding-rigth:"+e.original["menu_padding-bottom"]+"px;"),e.original["menu_justify-content"]&&(oxyNavMenuStyleNotOpenItem+="justify-content:"+e.original["menu_justify-content"]+";"),"never"!=e.original.menu_responsive&&("always"!=e.original.menu_responsive&&(n+="@media (max-width: "+Qe.getMediaMaxSize(e.original.menu_responsive)+") {"),n+="#"+e.selector+" .oxy-nav-menu-list {display: none;}",n+="#"+e.selector+" .oxy-menu-toggle {display: initial;}",n+="#"+e.selector+".oxy-nav-menu.oxy-nav-menu-open .oxy-nav-menu-list {display: initial;}","always"!=e.original.menu_responsive&&(n+="}"));var ze=parseInt(e.original.menu_responsive_icon_size||40),Te=parseInt(e.original.menu_responsive_icon_size||40)+2*parseInt(e.original.menu_responsive_padding_size||0),Ge=parseInt(.8*ze),Me=parseInt(.15*ze),Ve=Ge/2-Me/2;o||"id"!=p||(n+="#"+e.selector+".oxy-nav-menu.oxy-nav-menu-open {background-color:"+Qe.getGlobalColorValue(e.original.menu_responsive_background_color)+";margin-top: 0 !important;margin-right: 0 !important;margin-left: 0 !important;margin-bottom: 0 !important;} #"+e.selector+".oxy-nav-menu.oxy-nav-menu-open .menu-item a {color:"+Qe.getGlobalColorValue(e.original.menu_responsive_link_color)+";padding-top:"+(e.original.menu_responsive_padding_top||e.original["menu_padding-top"])+"px;padding-right:"+(e.original.menu_responsive_padding_right||e.original["menu_padding-right"])+"px;padding-bottom:"+(e.original.menu_responsive_padding_bottom||e.original["menu_padding-bottom"])+"px;padding-left:"+(e.original.menu_responsive_padding_left||e.original["menu_padding-left"])+"px;} #"+e.selector+".oxy-nav-menu.oxy-nav-menu-open .menu-item a:hover {color:"+Qe.getGlobalColorValue(e.original.menu_responsive_hover_link_color)+"} #"+e.selector+".oxy-nav-menu .menu-item a:hover {text-decoration:"+e.original["menu_text-decoration"]+"} #"+e.selector+" .oxy-nav-menu-hamburger-wrap {width:"+Te+"px;height:"+Te+"px;margin-top:"+e.original.menu_responsive_icon_margin+"px;margin-bottom:"+e.original.menu_responsive_icon_margin+"px;background-color:"+Qe.getGlobalColorValue(e.original.menu_responsive_padding_color)+";} #"+e.selector+" .oxy-nav-menu-hamburger-wrap:hover {background-color:"+Qe.getGlobalColorValue(e.original.menu_responsive_padding_hover_color)+";} #"+e.selector+" .oxy-nav-menu-hamburger {width:"+ze+"px;height:"+Ge+"px;} #"+e.selector+" .oxy-nav-menu-hamburger .oxy-nav-menu-hamburger-line {height:"+Me+"px;background-color:"+Qe.getGlobalColorValue(e.original.menu_responsive_icon_color)+";} #"+e.selector+" .oxy-nav-menu-hamburger-wrap:hover  .oxy-nav-menu-hamburger-line {background-color:"+Qe.getGlobalColorValue(e.original.menu_responsive_icon_hover_color)+";} #"+e.selector+".oxy-nav-menu-open .oxy-nav-menu-hamburger .oxy-nav-menu-hamburger-line:first-child {top:"+Ve+"px;} #"+e.selector+".oxy-nav-menu-open .oxy-nav-menu-hamburger .oxy-nav-menu-hamburger-line:last-child {top:-"+Ve+"px;}",n+="#"+e.selector+" .menu-item > .sub-menu {transition-duration:"+e.original["menu_transition-duration"]+"s; }")}if("oxy_nav_menu"==e.name&&e.original.menu_color&&(n+="#"+e.selector+" .oxy-nav-menu-hamburger-line{",n+="background-color:"+Qe.getGlobalColorValue(e.original.menu_color)+";",n+="}"),"oxy_header"!=e.name&&"oxy_header_row"!=e.name||!e.original["background-color"]||(n+="#"+e.selector+" .oxy-nav-menu-open,",n+="#"+e.selector+" .oxy-nav-menu:not(.oxy-nav-menu-open) .sub-menu{",n+="background-color:"+Qe.getGlobalColorValue(e.original["background-color"])+";",n+="}"),S["box-shadow-color"]){var Ae="inset"==S["box-shadow-inset"]?S["box-shadow-inset"]+" ":"",Ie=S["box-shadow-horizontal-offset"]?S["box-shadow-horizontal-offset"]+"px ":"",Ee=S["box-shadow-vertical-offset"]?S["box-shadow-vertical-offset"]+"px ":"",Fe=S["box-shadow-blur"]?S["box-shadow-blur"]+"px ":"0px ",Ne=S["box-shadow-spread"]?S["box-shadow-spread"]+"px ":"";S["box-shadow"]=Ae+Ie+Ee+Fe+Ne+Qe.getGlobalColorValue(S["box-shadow-color"])}if(S["text-shadow-color"]){Ie=S["text-shadow-horizontal-offset"]?S["text-shadow-horizontal-offset"]+"px ":"",Ee=S["text-shadow-vertical-offset"]?S["text-shadow-vertical-offset"]+"px ":"",Fe=S["text-shadow-blur"]?S["text-shadow-blur"]+"px ":"0px ";S["text-shadow"]=Ie+Ee+Fe+Qe.getGlobalColorValue(S["text-shadow-color"])}if(n+="#"+e.selector+s+l+"{",Qe.component.options[t]&&Qe.component.options[t].selector!==e.selector&&!e.original);else if("object"==typeof S)for(var je in n+=Qe.getBackgroundLayersCSS(S,e.name,"id",t,r,p)||"",n+=Qe.getTransformCSS(S)||"","ct_section"!=e.name&&"oxy_posts_grid"!=e.name&&(n+=Qe.getGridCSS(S,e.name)||"","grid"==S["flex-direction"]&&(S.display="",S["flex-direction"]="")),S)if(!(0<=je.indexOf("hover_"))&&!(0<=je.indexOf("responsive"))&&!(0<=je.indexOf("slider"))&&!(0<=je.indexOf("icon"))&&!(0<=je.indexOf("soundcloud"))&&"background-size"!=je&&"background"!=je&&S.hasOwnProperty(je)){var Ke=S[je];if("custom-css"==je)continue;if("ct_fancy_icon"==e.name&&("background"==je||"icon-background-color"==je||"icon-color"==je||"padding"==je||"icon-size"==je))continue;if(0<=["display","flex-direction","flex-wrap","align-items","align-content","justify-content","gap"].indexOf(je)&&"ct_section"==e.name)continue;if(("font-family"==je||-1<je.indexOf("font-family"))&&(Qe.loadWebFont(Ke),-1===Ke.indexOf(",")&&"inherit"!==Ke.toLowerCase()&&(Ke="'"+Ke+"'")),Ke=Qe.getGlobalColorValue(Ke),"content"==je.trim().toLowerCase()&&(Ke='"'+Ke.replace('"','\\"')+'"',Qe.contentAdded["#"+e.selector+s+l]=!0),"flex-direction"==je){n+=je+":"+Ke+(v="reverse"==S["flex-reverse"]?"-reverse":"")+";";continue}if("filter"==je&&S["filter-amount-"+Ke])Ke+="("+S["filter-amount-"+Ke]+")";else if("filter"==je)continue;if("oxy_nav_menu"==e.name&&0===je.indexOf("menu_dropdowns_"))"menu_dropdowns_background-color"==je&&"hover"!==p?oxyNavMenuStyleDropdowns+=je.replace("menu_dropdowns_","")+":"+Ke+";":Ke&&Qe.excludeProperties.indexOf(je)<0&&je&&(oxyNavMenuStyleDropdownsItem+=je.replace("menu_dropdowns_","")+":"+Ke+";"),0==je.indexOf("menu_dropdowns_padding")&&(oxyNavMenuStyleDropdownsItemHover+=je.replace("menu_dropdowns_","")+":"+Ke+";");else if("oxy_nav_menu"==e.name&&0===je.indexOf("menu_active_")){if("menu_active_border-bottom-width"==je&&void 0!==e.original["menu_padding-bottom"])De=0<(De=parseInt(e.original["menu_padding-bottom"])-parseInt(S["menu_active_border-bottom-width"]))?De:0,oxyNavMenuStyleActive+="padding-bottom:"+De+"px;";if("menu_active_border-top-width"==je&&void 0!==e.original["menu_padding-top"])De=0<(De=parseInt(e.original["menu_padding-top"])-parseInt(S["menu_active_border-top-width"]))?De:0,oxyNavMenuStyleActive+="padding-top:"+De+"px;";Ke&&Qe.excludeProperties.indexOf(je)<0&&je&&(oxyNavMenuStyleActive+=je.replace("menu_active_","")+":"+Ke+";")}else if("oxy_nav_menu"==e.name&&0===je.indexOf("menu_")){if("menu_flex-direction"==je){oxyNavMenuStyle+="flex-direction:"+Ke;continue}if("menu_justify-content"==je||"menu_dropdown_arrow"==je)continue;if("menu_border-bottom-width"==je&&"hover"==p&&void 0!==e.original["menu_padding-bottom"]){if(De=0<(De=parseInt(e.original["menu_padding-bottom"])-parseInt(S["menu_border-bottom-width"]))?De:0,"row"==e.original["menu_flex-direction"])var Be="padding-bottom:";else{Be="padding-right:";je="border-right-width"}oxyNavMenuStyleItem+=Be+De+"px;"}if("menu_border-top-width"==je&&"hover"==p&&void 0!==e.original["menu_padding-top"]){var De;if(De=0<(De=parseInt(e.original["menu_padding-top"])-parseInt(S["menu_border-top-width"]))?De:0,"row"==e.original["menu_flex-direction"])Be="padding-top:";else{Be="padding-left:";je="border-left-width"}oxyNavMenuStyleItem+=Be+De+"px;"}"menu_-webkit-font-smoothing"==je&&(oxyNavMenuStyleItem+="-moz-osx-font-smoothing:"+("antialiased"===Ke?"grayscale":"unset")+";"),"menu_transition-duration"==je&&(Ke+="s"),Ke&&Qe.excludeProperties.indexOf(je)<0&&je&&(oxyNavMenuStyleItem+=je.replace("menu_","")+":"+Ke+";")}else{if("background-image"==je)continue;Ke&&Qe.excludeProperties.indexOf(je)<0&&"background-layers"!==je&&(void 0===Qe.notCSSOptions[e.name]||Qe.notCSSOptions[e.name].indexOf(je.replace(/-/g,"_"))<0)&&(n+=je+":"+Ke+";"),"-webkit-font-smoothing"==je&&(n+="-moz-osx-font-smoothing:"+("antialiased"===Ke?"grayscale":"unset")+";")}}"before"!=p&&"after"!=p||Qe.contentAdded["#"+e.selector+s+l]||(n+='content:"";',Qe.contentAdded["#"+e.selector+s+l]=!0),S["custom-css"]&&(n+=Qe.replaceGlobalColors(S["custom-css"])),n+="}","oxy_nav_menu"==e.name&&(n+=oxyNavMenuStyle+"}"+oxyNavMenuStyleItem+"}"+oxyNavMenuStyleActive+"}"+oxyNavMenuStyleDropdowns+"}"+oxyNavMenuStyleNotOpenItem+"}"+oxyNavMenuStyleDropdownsItem+"}"+oxyNavMenuStyleDropdownsItemHover+"}")}if(void 0!==Qe.componentsTemplates&&Qe.componentsTemplates[e.name]&&Qe.componentsTemplates[e.name].pageCSS&&!0!==Qe.APIElementsDefaultCSS[e.name]){var He=Qe.componentsTemplates[e.name].pageCSS;He=Qe.replaceGlobalWooSettings(He),Qe.APIElementsDefaultCSS[e.name]=!0,n+=He}if(void 0!==Qe.componentsTemplates&&Qe.componentsTemplates[e.name]&&Qe.componentsTemplates[e.name].registeredSelectors&&(n+=Qe.generateAPISelectorsCSS(e.name,e.selector,S)),S&&void 0!==Qe.componentsTemplates&&Qe.componentsTemplates[e.name]){var We=Qe.componentsTemplates[e.name].valuesCSS;for(var Xe in We)if(We.hasOwnProperty(Xe)&&We[Xe][S[Xe]]){var Ye=We[Xe][S[Xe]];n+=Qe.prefixCSSSelectors(Ye,e.selector)}}}if(n+=Qe.getMappedCSS(e.selector,e.original),e.media){var Le=angular.copy(e.media),Ue=Qe.sortedMediaList();for(var $e in Ue){var Ze=Ue[$e];Le[Ze]&&(Le[Ze].name=e.name,Le[Ze].selector=e.selector,n+="@media (max-width: "+Qe.mediaList[Ze].maxSize+") {",n+=Qe.getSingleComponentCSS(Le[Ze],t,!0,Ze,a),n+="}")}}return Qe.functionEnd("getSingleComponentCSS()"),n},Qe.prefixCSSSelectors=function(e,t,o){if(void 0===e||void 0===t)return e;var r=e.split("}");for(var a in r)if(r.hasOwnProperty(a)){var i=r[a],n=i.split("{");if(3==i.split("{").length){var s=n[0]+"{";n[0]=n[1];var l=!0}var c=n[0].split(",");for(var p in c)c[p]=(o?".":"#")+t+" "+c[p];3==i.split("{").length?r[a]=s+"\n"+c.join(", ")+"{"+n[2]:i[0]&&0!==i[0].length||!l?n[1]&&(r[a]=c.join(", ")+"{"+n[1]):(l=!1,r[a]=c.join(", ")+"{"+n[2]+"}\n")}return e=r.join("}\n")},Qe.getGridCSS=function(e,t,o){var r="";if(null==t&&(t="all"),e.display&&"grid"==e.display||e["flex-direction"]&&"grid"==e["flex-direction"]){o&&(r+="display: grid !important;");var a=e["grid-column-count"]?e["grid-column-count"]:Qe.defaultOptions[t]["grid-column-count"]||Qe.defaultOptions.all["grid-column-count"],i=e["grid-column-min-width"]?e["grid-column-min-width"]:Qe.defaultOptions[t]["grid-column-min-width"],n=e["grid-column-min-width"]?"":Qe.defaultOptions[t]["grid-column-min-width-unit"],s=e["grid-column-max-width"]?e["grid-column-max-width"]:Qe.defaultOptions[t]["grid-column-max-width"];max_width_unit=e["grid-column-max-width"]?"":Qe.defaultOptions[t]["grid-column-max-width-unit"],"true"==e["grid-columns-auto-fit"]&&(a="auto-fit"),e["grid-justify-items"]?r+="justify-items: "+e["grid-justify-items"]+";":r+="justify-items: stretch;",e["grid-align-items"]&&(r+="align-items: "+e["grid-align-items"]+";"),void 0!==a&&void 0!==i&&void 0!==s&&(r+="grid-template-columns: repeat("+a+", minmax("+i+n+", "+s+max_width_unit+"));");var l=e["grid-column-gap"]?e["grid-column-gap"]:Qe.defaultOptions[t]["grid-column-gap"];if(gap_unit=e["grid-column-gap"]?"":Qe.defaultOptions[t]["grid-column-gap-unit"],r+="grid-column-gap: "+l+gap_unit+";",e["grid-row-behavior"]&&"Explicit"==e["grid-row-behavior"]){var c=e["grid-row-count"]?e["grid-row-count"]:Qe.defaultOptions[t]["grid-row-count"],p=e["grid-row-min-height"]?e["grid-row-min-height"]:Qe.defaultOptions[t]["grid-row-min-height"],d=e["grid-row-min-height"]?"":Qe.defaultOptions[t]["grid-row-min-height-unit"],g=e["grid-row-max-height"]?e["grid-row-max-height"]:Qe.defaultOptions[t]["grid-row-max-height"];max_height_unit=e["grid-row-max-height"]?"":Qe.defaultOptions[t]["grid-row-max-height-unit"],null!=c&&null!=p&&null!=g&&(r+="grid-template-rows: repeat("+c+", minmax("+p+d+", "+g+max_height_unit+"));")}l=e["grid-row-gap"]?e["grid-row-gap"]:Qe.defaultOptions[t]["grid-row-gap"],gap_unit=e["grid-row-gap"]?"":Qe.defaultOptions[t]["grid-row-gap-unit"],r+="grid-row-gap: "+l+gap_unit+";","true"==e["grid-match-height-of-tallest-child"]&&(r+="grid-auto-rows: minmax(min-content,1fr);")}return r},Qe.getGridChildCSS=function(e,t,o,r,a,i,n){var s="";if(void 0===r&&(r=""),(e["flex-direction"]&&"grid"==e["flex-direction"]||e.display&&"grid"==e.display)&&e["grid-all-children-rule"]&&(s+=Qe.getGridSingleChildCSS(e["grid-all-children-rule"],"*",t,o,r,a)),(e["flex-direction"]&&"grid"==e["flex-direction"]||e.display&&"grid"==e.display)&&e["grid-child-rules"])for(var l in e["grid-child-rules"]){var c="",p=e["grid-child-rules"][l];if(p&&void 0!==p["child-index"]){var d=parseInt(p["child-index"]);if(i&&1<d?d++:!n&&"true"==e.grid&&d&&(d+=3),c+=p["column-span"]?"grid-column: span "+p["column-span"]+";":"",c+=p["row-span"]?"grid-row: span "+p["row-span"]+";":"",p["row-span"]&&1!=p["row-span"]&&(c+="height: 100%;"),""==c)continue;var g=0==d?":last-child":":nth-child("+d+")";a?o&&"original"!=o?(s+="."+t+":not(.ct-section):not(.oxy-easy-posts):"+o+",\r\n",Qe.isPseudoElement(o)?(s+="."+t+".ct-section .ct-section-inner-wrap:"+o+" > "+g+",\r\n",s+="."+t+".oxy-easy-posts .oxy-posts:"+o+" > "+g+"{\r\n"):(s+="."+t+".ct-section:"+o+" .ct-section-inner-wrap > "+g+",\r\n",s+="."+t+".oxy-easy-posts:"+o+" .oxy-posts > "+g+"{\r\n")):(s+="."+t+":not(.ct-section):not(.oxy-easy-posts) > "+g+",\r\n",s+="."+t+".ct-section .ct-section-inner-wrap > "+g+",\r\n",s+="."+t+".oxy-easy-posts .oxy-posts > "+g+"{\r\n"):s+=o&&"original"!=o?"#"+t+" "+r+":"+o+"> "+g+"{\r\n":"#"+t+" "+r+"> "+g+"{\r\n",s+=c,s+="}\r\n"}}return s},Qe.getGridSingleChildCSS=function(e,t,o,r,a,i){var n="";return pre_styles=e["column-span"]?"grid-column: span "+e["column-span"]+";":"",pre_styles+=e["row-span"]?"grid-row: span "+e["row-span"]+";":"",e["row-span"]&&1!=e["row-span"]&&(pre_styles+="height: 100%;"),""!=pre_styles&&(i?r&&"original"!=r?(n+="."+o+":not(.ct-section):not(.oxy-easy-posts):"+r+",\r\n",Qe.isPseudoElement(r)?(n+="."+o+".ct-section .ct-section-inner-wrap:"+r+" > "+t+",\r\n",n+="."+o+".oxy-easy-posts .oxy-posts:"+r+" > "+t+"{\r\n"):(n+="."+o+".ct-section:"+r+" .ct-section-inner-wrap > "+t+",\r\n",n+="."+o+".oxy-easy-posts:"+r+" .oxy-posts > "+t+"{\r\n")):(n+="."+o+":not(.ct-section):not(.oxy-easy-posts) > "+t+",\r\n",n+="."+o+".ct-section .ct-section-inner-wrap > "+t+",\r\n",n+="."+o+".oxy-easy-posts .oxy-posts > "+t+"{\r\n"):n+=r&&"original"!=r?"#"+o+" "+a+":"+r+"> "+t+"{\r\n":"#"+o+" "+a+"> "+t+"{\r\n",n+=pre_styles,n+="}\r\n"),n},Qe.getTransformCSS=function(e){if(e.transform){var t=Qe.objectToArrayObject(e.transform),o="";for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];"skew"==a["transform-type"]&&(a.skewX&&a.skewY?o+=a["transform-type"]+"("+a.skewX+"deg,"+a.skewY+"deg)":a.skewX&&(o+=a["transform-type"]+"("+a.skewX+"deg)")),"translate"==a["transform-type"]&&(a.translateX&&a.translateY&&a.translateZ?o+="translate3d("+a.translateX+(a["translateX-unit"]||Qe.defaultOptions.all["translateX-unit"])+","+a.translateY+(a["translateY-unit"]||Qe.defaultOptions.all["translateY-unit"])+","+a.translateZ+(a["translateZ-unit"]||Qe.defaultOptions.all["translateZ-unit"])+")":a.translateX&&a.translateY?o+=a["transform-type"]+"("+a.translateX+(a["translateX-unit"]||Qe.defaultOptions.all["translateX-unit"])+","+a.translateY+(a["translateY-unit"]||Qe.defaultOptions.all["translateY-unit"])+")":a.translateX?o+=a["transform-type"]+"("+a.translateX+(a["translateX-unit"]||Qe.defaultOptions.all["translateX-unit"])+")":a.translateY&&(o+="translateY("+a.translateY+(a["translateY-unit"]||Qe.defaultOptions.all["translateY-unit"])+")")),"rotate"==a["transform-type"]&&a.rotateAngle&&(o+=a["transform-type"]+"("+a.rotateAngle+"deg)"),"rotateX"==a["transform-type"]&&a.rotateXAngle&&(o+=a["transform-type"]+"("+a.rotateXAngle+"deg)"),"rotateY"==a["transform-type"]&&a.rotateYAngle&&(o+=a["transform-type"]+"("+a.rotateYAngle+"deg)"),"perspective"==a["transform-type"]&&a.perspective&&(o+=a["transform-type"]+"("+a.perspective+(a["perspective-unit"]||Qe.defaultOptions.all["perspective-unit"])+")"),"rotate3d"==a["transform-type"]&&a.rotate3dX&&a.rotate3dY&&a.rotate3dZ&&a.rotate3dAngle&&(o+=a["transform-type"]+"("+a.rotate3dX+","+a.rotate3dY+","+a.rotate3dZ+","+a.rotate3dAngle+"deg)"),"scale"==a["transform-type"]&&(a.scaleX&&a.scaleY&&a.scaleZ?o+="scale3d("+a.scaleX+","+a.scaleY+","+a.scaleZ+")":a.scaleX&&a.scaleY?o+=a["transform-type"]+"("+a.scaleX+","+a.scaleY+")":(a.scaleX&&(o+=" scaleX("+a.scaleX+")"),a.scaleY&&(o+=" scaleY("+a.scaleY+")"),a.scaleZ&&(o+=" scaleZ("+a.scaleZ+")"))),r<t.length-1?o+=" ":o+=";"}return""!==o&&(o="transform:"+o),o}},Qe.getBackgroundLayersCSS=function(e,t,o,r,a,i){Qe.getGlobalColorValue(e["background-color"]);var n=[],s=[],l=[];e.gradient&&e.gradient.colors&&(l=e.gradient.colors);var c="";if(l=_.map(l,function(e){return e}),l=_.filter(l,function(e){return e.value}),0<(l=_.map(l,function(e){return e.value=Qe.getGlobalColorValue(e.value),e})).length){if("radial"===e.gradient["gradient-type"]){c+=" radial-gradient(";var p="";e.gradient["radial-shape"]&&(p+=" "+e.gradient["radial-shape"]),e.gradient["radial-size"]&&(p+=" "+e.gradient["radial-size"]),e.gradient["radial-position-left"]&&(p+=" at "+e.gradient["radial-position-left"]+(e.gradient["radial-position-left-unit"]||"px"),e.gradient["radial-position-top"]&&(p+=" "+e.gradient["radial-position-top"]+(e.gradient["radial-position-top-unit"]||"px"))),0<p.length&&(c+=p+", ")}else c+=" linear-gradient(",e.gradient["linear-angle"]&&(c+=e.gradient["linear-angle"]+"deg, ");if(l){var d=_.filter(l,function(e){return e.value&&0<e.value.length}),g=_.map(d,function(e){return e.value+(e.position?" "+e.position+e["position-unit"]:"")});1===g.length&&g.push(g[0]),c+=g.join(", ")}0<(c+=")").length&&(n.push(c),s.push("auto"))}if(e["overlay-color"]&&(n.push("linear-gradient("+Qe.getGlobalColorValue(e["overlay-color"])+", "+Qe.getGlobalColorValue(e["overlay-color"])+")"),s.push("auto")),e["background-size"]&&0<e["background-size"].trim().length?(c="","manual"===e["background-size"]?(e["background-size-width"]&&0<e["background-size-width"].trim().length?c+=" "+e["background-size-width"].trim()+e["background-size-width-unit"].trim():c+=" 0%",e["background-size-height"]&&0<e["background-size-height"].trim().length?c+=" "+e["background-size-height"].trim()+e["background-size-height-unit"].trim():c+=" 0%"):c+=" "+e["background-size"],0<c.length&&s.push(c)):s=[],e.background&&n.push("url("+e.background+")"),e["background-image"]){var m=e["background-image"];-1<m.indexOf("[")&&Qe.dynamicBackgrounds&&(m=Qe.getDynamicBackground(o?"id"===o?"id":"selector":"class",{id:r,media:a,stateName:i})),n.push("url("+m+")")}var u=n.join(", ").trim(),y="";return""!==u&&(y="background-image:"+u+";"),0<s.length&&(y+="background-size:"+s.join(", ")+";"),y},Qe.generateTypographyCSS=function(e,t){var o="";for(var r in e)if(-1<r.indexOf(t)){var a=r.replace(t+"_",""),i=e[r];"color"==a&&(i=Qe.getGlobalColorValue(i)),o+=a+":"+Qe.addFontFamilyQuotes(a,i)+";"}return o},Qe.addFontFamilyQuotes=function(e,t){return("font-family"==e||-1<e.indexOf("font-family"))&&(Qe.loadWebFont(t),-1===t.indexOf(",")&&"inherit"!==t.toLowerCase()&&(t="'"+t+"'")),t},Qe.generateBoxShadowCSS=function(e,t){return null!=t?t+="_":t="",e[t+"box-shadow-color"]?"box-shadow:"+("inset"==e[t+"box-shadow-inset"]?e[t+"box-shadow-inset"]+" ":"")+(e[t+"box-shadow-horizontal-offset"]?e[t+"box-shadow-horizontal-offset"]+" ":"")+(e[t+"box-shadow-vertical-offset"]?e[t+"box-shadow-vertical-offset"]+" ":"")+(e[t+"box-shadow-blur"]?e[t+"box-shadow-blur"]+" ":"0px ")+(e[t+"box-shadow-spread"]?e[t+"box-shadow-spread"]+" ":"")+Qe.getGlobalColorValue(e[t+"box-shadow-color"])+";":""},Qe.generateArrayOptionsCSS=function(e,t){var o="";for(var r in e)-1<r.indexOf(t)&&(o+=r.replace(t+"_","")+":"+e[r]+";");return o},Qe.getSingleClassCSS=function(e,t){Qe.log&&(console.log("getSingleClassCSS()",e),Qe.functionStart("getSingleClassCSS()")),void 0===t&&(t=Qe.classes[e]),Qe.contentAdded=[];var o=Qe.getSelectorStyles(e,t);if(Qe.classes[e].media){var r=Qe.sortedMediaList(!1,!0);for(var a in r){var i=r[a];if(Qe.classes[e].media[i]){if("page-width"==i)var n=Qe.getPageWidth("global")+"px";else n=Qe.mediaList[i].maxSize;t=Qe.classes[e].media[i],o+="@media (max-width: "+n+") {",o+=Qe.getSelectorStyles(e,t,!1,i),o+="}"}}}return Qe.functionEnd("getSingleClassCSS()"),o},Qe.getSingleSelectorCSS=function(e,t){Qe.log&&(console.log("getSingleSelectorCSS()",e),Qe.functionStart("getSingleSelectorCSS()")),void 0===t&&(t=Qe.customSelectors[e]),Qe.contentAdded=[];var o=Qe.getSelectorStyles(e,t,!0);if(Qe.customSelectors[e].media){var r=Qe.sortedMediaList();for(var a in r){var i=r[a];Qe.customSelectors[e].media[i]&&(t=Qe.customSelectors[e].media[i],o+="@media (max-width: "+Qe.mediaList[i].maxSize+") {",o+=Qe.getSelectorStyles(e,t,!0,i),o+="}")}}return Qe.functionEnd("getSingleSelectorCSS()"),o},Qe.getSelectorStyles=function(e,t,o,r){if(""===e||!o&&void 0===Qe.classes[e]||o&&void 0===Qe.customSelectors[e])return"";var a,i="";for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];if("media"==n||"set_name"==n||"key"==n||"parent"==n||"status"==n||"friendly_name"==n)continue;a=("original"==n||e==Qe.selectorToEdit&&n==Qe.currentState||e==Qe.currentClass&&n==Qe.currentState)&&("original"==n||"hover"==n||"active"==n||"focus"==n)?"":":"+n;var l={state:n};o?l.selector=e:l.class=e;var c=Qe.getCSSOptions(null,null,s,null,r,l);if(i+=Qe.generateAllAPISelectorsCSS(e,c,"class"),(void 0!==c["icon-style"]||void 0!==c["icon-color"]||void 0!==c["icon-background-color"]||void 0!==c["icon-padding"]||void 0!==c["icon-size"])&&!o){if(r||"original"!=n)p=Qe.classes[e].original["icon-style"]||Qe.defaultOptions.ct_fancy_icon["icon-style"],d=Qe.getGlobalColorValue(c["icon-color"]),g=Qe.getGlobalColorValue(c["icon-background-color"]),m=c["icon-padding"],u=c["icon-size"];else var p=c["icon-style"]||Qe.defaultOptions.ct_fancy_icon["icon-style"],d=Qe.getGlobalColorValue(c["icon-color"])||Qe.defaultOptions.ct_fancy_icon["icon-color"],g=Qe.getGlobalColorValue(c["icon-background-color"])||Qe.defaultOptions.ct_fancy_icon["icon-background-color"],m=c["icon-padding"]||Qe.defaultOptions.ct_fancy_icon["icon-padding"]+Qe.defaultOptions.ct_fancy_icon["icon-padding-unit"],u=c["icon-size"]||Qe.defaultOptions.ct_fancy_icon["icon-size"]+Qe.defaultOptions.ct_fancy_icon["icon-size-unit"];i+="."+e+a+"{",1==p&&(i+="border: 1px solid;"),2==p&&g&&(i+="background-color: "+Qe.getGlobalColorValue(g)+";",i+="border: 1px solid "+Qe.getGlobalColorValue(g)+";"),1!=p&&2!=p||(i+="padding:"+m+";"),d&&(i+="color:"+Qe.getGlobalColorValue(d)+";"),i+="}",u&&(i+="."+e+a+">svg {",i+="width: "+u+";",i+="height: "+u+";",i+="}")}if((void 0!==c["button-style"]||void 0!==c["button-color"]||void 0!==c["button-size"]||void 0!==c["button-text-color"])&&!o){if(r||"original"!=n)_=Qe.classes[e].original["button-style"]||Qe.defaultOptions.ct_link_button["button-style"],y=Qe.getGlobalColorValue(c["button-color"]),h=c["button-size"],b=Qe.getGlobalColorValue(c["button-text-color"]);else var _=c["button-style"]||Qe.defaultOptions.ct_link_button["button-style"],y=Qe.getGlobalColorValue(c["button-color"])||Qe.defaultOptions.ct_link_button["button-color"],h=c["button-size"]||Qe.defaultOptions.ct_link_button["button-size"]+Qe.defaultOptions.ct_link_button["button-size-unit"],b=Qe.getGlobalColorValue(c["button-text-color"])||Qe.defaultOptions.ct_link_button["button-text-color"];if(i+="."+e+a+"{",1==_&&y&&(i+="background-color: "+Qe.getGlobalColorValue(y)+";",i+="border: 1px solid "+Qe.getGlobalColorValue(y)+";",b&&(i+="color: "+Qe.getGlobalColorValue(b)+";")),2==_&&(i+="background-color: transparent;",y&&(i+="border: 1px solid "+Qe.getGlobalColorValue(y)+";",i+="color: "+Qe.getGlobalColorValue(y)+";")),h){var x=2==_?1:0;i+="padding: "+(parseInt(h)-x)+"px "+(1.6*parseInt(h)-x)+"px;"}i+="}"}var S=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("testimonial_")&&(S=!0);if(!o&&S){S=!1;var f,v,C,w,k="",P=c.testimonial_image_spacing;if("vertical"==c.testimonial_layout?(k="margin:0;",P=c.testimonial_image_spacing||Qe.defaultOptions.oxy_testimonial.testimonial_image_spacing+Qe.defaultOptions.oxy_testimonial["testimonial_image_spacing-unit"],"bottom"==c.testimonial_image_position?k+="margin-top":k+="margin-bottom"):"bottom"==c.testimonial_image_position?(k="margin:0;",P=c.testimonial_image_spacing||Qe.defaultOptions.oxy_testimonial.testimonial_image_spacing+Qe.defaultOptions.oxy_testimonial["testimonial_image_spacing-unit"],k+="margin-left"):k+="margin-right",k+=": "+P+";","left"==c.testimonial_content_alignment?(f="flex-start",v="left"):"center"==c.testimonial_content_alignment?v=f="center":"right"==c.testimonial_content_alignment&&(f="flex-end",v="right"),"left"==Qe.classes[e].original.testimonial_mobile_content_alignment?(C="flex-start",w="left"):"center"==Qe.classes[e].original.testimonial_mobile_content_alignment?w=C="center":"right"==Qe.classes[e].original.testimonial_mobile_content_alignment&&(C="flex-end",w="right"),"vertical"==c.testimonial_layout?i+="."+e+a+" {flex-direction: column;}":"horizontal"==c.testimonial_layout&&(i+="."+e+a+" {flex-direction: row;align-items: center;}"),"top"==c.testimonial_image_position||""==c.testimonial_image_position?i+="."+e+a+" .oxy-testimonial-photo-wrap {order: 1;}":"bottom"==c.testimonial_image_position&&(i+="."+e+a+" .oxy-testimonial-photo-wrap {order: 3;}"),i+="."+e+a+" .oxy-testimonial-photo {width:"+c.testimonial_image_size+";height:"+c.testimonial_image_size+";"+k+"}",i+="."+e+a+" .oxy-testimonial-photo-wrap,."+e+a+" .oxy-testimonial-author-wrap,."+e+a+" .oxy-testimonial-content-wrap {align-items:"+f+";text-align:"+v+";}",i+="."+e+a+" .oxy-testimonial-text {margin-bottom:"+c.testimonial_text_space_below+";"+Qe.generateTypographyCSS(c,"testimonial_text_typography")+"}",i+="."+e+a+" .oxy-testimonial-author {margin-bottom:"+c.testimonial_author_space_below+";"+Qe.generateTypographyCSS(c,"testimonial_author_typography")+"}",i+="."+e+a+" .oxy-testimonial-author-info {margin-bottom:"+c.testimonial_author_info_space_below+";"+Qe.generateTypographyCSS(c,"testimonial_author_info_typography")+"}",I=Qe.getMediaMaxSize(Qe.classes[e].original.testimonial_vertical_layout_below)){var O=c.testimonial_image_spacing;O||(O=Qe.defaultOptions.oxy_testimonial.testimonial_image_spacing+Qe.defaultOptions.oxy_testimonial["testimonial_image_spacing-unit"]),i+="@media (max-width: "+I+"){."+e+a+" {flex-direction: column !important;}."+e+a+" .oxy-testimonial-photo {margin: 0;margin-"+("bottom"==c.testimonial_image_position?"top":"bottom")+":"+O+";}."+e+a+" .oxy-testimonial-photo-wrap, ."+e+a+" .oxy-testimonial-author-wrap, ."+e+a+" .oxy-testimonial-content-wrap {align-items:"+C+";text-align:"+w+";}}"}}var z=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("icon_box_")&&(z=!0);if(!o&&z){var T,G,M,V,A,I;if(z=!1,"top"==c.icon_box_icon_position?T="column":"left"==c.icon_box_icon_position?T="row":"right"==c.icon_box_icon_position?T="row-reverse":"bottom"==c.icon_box_icon_position&&(T="column-reverse"),"left"==c.icon_box_icon_position||"right"==c.icon_box_icon_position){var E=c.icon_box_icon_space_before||Qe.defaultOptions.oxy_icon_box.icon_box_icon_space_before+Qe.defaultOptions.oxy_icon_box["icon_box_icon_space_before-unit"];right=c.icon_box_icon_space_after||Qe.defaultOptions.oxy_icon_box.icon_box_icon_space_after+Qe.defaultOptions.oxy_icon_box["icon_box_icon_space_after-unit"],M="margin-left: "+E+";\n",M+="margin-right: "+right+";\n",M+="margin-bottom: 0; margin-top: 0;"}else M="margin-top: "+c.icon_box_icon_space_before+";\n",M+="margin-bottom: "+c.icon_box_icon_space_after+";\n";"left"==c.icon_box_icon_position||"right"==c.icon_box_icon_position?G=c.icon_box_icon_vertical_alignment:"left"==c.icon_box_content_alignment?G="flex-start":"center"==c.icon_box_content_alignment?G="center":"right"==c.icon_box_content_alignment&&(G="flex-end"),A="left"==c.icon_box_mobile_content_alignment?(V="flex-start","left"):"center"==c.icon_box_mobile_content_alignment?V="center":"right"==c.icon_box_mobile_content_alignment?(V="flex-end","right"):(V="flex-start","left"),i+="."+e+a+" {text-align: "+c.icon_box_content_alignment+";flex-direction: "+T+";}",i+="."+e+a+" .oxy-icon-box-icon {"+M+"align-self: "+G+";}",i+="."+e+a+" .oxy-icon-box-heading {"+Qe.generateTypographyCSS(c,"icon_box_heading_typography")+"margin-top: "+c.icon_box_heading_space_above+";margin-bottom: "+c.icon_box_heading_space_below+";}",i+="."+e+a+" .oxy-icon-box-text {"+Qe.generateTypographyCSS(c,"icon_box_text_typography")+"margin-top: "+c.icon_box_text_space_above+";margin-bottom: "+c.icon_box_text_space_below+";align-self: "+G+";}",i+="."+e+a+" .oxy-icon-box-link {margin-top: "+c.icon_box_link_space_above+";margin-bottom: "+c.icon_box_link_space_below+";}",(I=Qe.getMediaMaxSize(Qe.classes[e].original.icon_box_vertical_layout_below))&&!r&&(i+="@media (max-width: "+I+"){."+e+a+".oxy-icon-box {flex-direction: column !important;text-align: "+A+";}."+e+a+" .oxy-icon-box-icon {margin-left: 0;margin-right: 0;margin-top: "+c.icon_box_icon_space_before+";margin-bottom: "+c.icon_box_icon_space_after+";}."+e+a+" .oxy-icon-box-icon, .oxy-icon-box-text {align-self: "+V+";}}")}var F=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("progress_bar_")&&(F=!0);if(!o&&F){F=!1;var N="",j=[];if("true"==c.progress_bar_stripes&&(N="background-image: linear-gradient(-45deg,rgba(255,255,255,.12) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.12) 50%,rgba(255,255,255,.12) 75%,transparent 75%,transparent);"),"false"==c.progress_bar_stripes&&(N="background-image:none;"),"true"==c.progress_bar_animation_stripes){var K=c.progress_bar_animation_stripes_duration||Qe.defaultOptions.oxy_progress_bar.progress_bar_animation_stripes_duration;j.stripes="oxy_progress_bar_stripes "+K+" linear infinite"}if("false"==c.progress_bar_animation_stripes&&(j.stripes="none 0s paused"),"true"==c.progress_bar_animate_width){var B=c.progress_bar_animation_width_duration||Qe.defaultOptions.oxy_progress_bar.progress_bar_animation_width_duration;j.width="oxy_progress_bar_width "+B+" ease-out 1"}"false"==c.progress_bar_animate_width&&(j.width="none 0s paused");var D=[];for(var H in j)D.push(j[H]);i+="."+e+a+" .oxy-progress-bar-background {background-color:"+Qe.getGlobalColorValue(c.progress_bar_background_color)+";"+N+"animation:"+j.stripes+";}",i+="."+e+a+" .oxy-progress-bar-progress-wrap {width:"+c.progress_bar_progress+";}",i+="."+e+a+" .oxy-progress-bar-progress {background-color:"+Qe.getGlobalColorValue(c.progress_bar_bar_color)+";padding:"+c.progress_bar_bar_padding+";"+N+"animation:"+D.join()+";}",i+="."+e+a+" .oxy-progress-bar-overlay-text {"+Qe.generateTypographyCSS(c,"progress_bar_left_text_typography")+"}",i+="."+e+a+" .oxy-progress-bar-overlay-percent {"+Qe.generateTypographyCSS(c,"progress_bar_right_text_typography")+"}"}var W,X,Y,L,U,$,Z=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("pricing_box_")&&(Z=!0);if(!o&&Z)Z=!1,"vertical"==c.pricing_box_price_layout?(X="column","left"==c.pricing_box_price_alignment?W="flex-start":"center"==c.pricing_box_price_alignment?W="center":"right"==c.pricing_box_price_alignment&&(W="flex-end")):"horizontal"==c.pricing_box_price_layout&&(X="row"),"horizontal"==c.pricing_box_price_layout&&("left"==c.pricing_box_price_alignment?Y="flex-start":"center"==c.pricing_box_price_alignment?Y="center":"right"==c.pricing_box_price_alignment&&(Y="flex-end")),"left"==c.pricing_box_global_alignment?L="flex-start":"center"==c.pricing_box_global_alignment?L="center":"right"==c.pricing_box_global_alignment&&(L="flex-end"),"left"==c.pricing_box_graphic_alignment?U="flex-start":"center"==c.pricing_box_graphic_alignment?U="center":"right"==c.pricing_box_graphic_alignment?U="flex-end":L&&(U=L),"left"==c.pricing_box_cta_alignment?$="flex-start":"center"==c.pricing_box_cta_alignment?$="center":"right"==c.pricing_box_cta_alignment?$="flex-end":L&&($=L),i+="."+e+a+" .oxy-pricing-box-section {"+Qe.generateArrayOptionsCSS(c,"pricing_box_global")+"text-align:"+c.pricing_box_global_alignment+";}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-price {justify-content:"+L+";}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-graphic {"+Qe.generateArrayOptionsCSS(c,"pricing_box_graphic")+"background-color:"+Qe.getGlobalColorValue(c.pricing_box_graphic_background)+";text-align:"+c.pricing_box_graphic_alignment+";justify-content:"+U+";}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-title {"+Qe.generateArrayOptionsCSS(c,"pricing_box_title")+"text-align:"+c.pricing_box_title_alignment+";background-color:"+Qe.getGlobalColorValue(c.pricing_box_title_background)+";}",i+="."+e+a+" .oxy-pricing-box-title-title {"+Qe.generateTypographyCSS(c,"pricing_box_title_typography")+"}",i+="."+e+a+" .oxy-pricing-box-title-subtitle {"+Qe.generateTypographyCSS(c,"pricing_box_subtitle_typography")+"}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-price {"+Qe.generateArrayOptionsCSS(c,"pricing_box_price")+"text-align:"+c.pricing_box_price_alignment+";background-color:"+Qe.getGlobalColorValue(c.pricing_box_price_background)+";flex-direction:"+X+";justify-content:"+Y+";align-items:"+W+";}",i+="."+e+a+" .oxy-pricing-box-currency {"+Qe.generateTypographyCSS(c,"pricing_box_price_amount_currency_typography")+"}",i+="."+e+a+" .oxy-pricing-box-amount-main {"+Qe.generateTypographyCSS(c,"pricing_box_price_amount_main_typography")+"}",i+="."+e+a+" .oxy-pricing-box-amount-decimal {"+Qe.generateTypographyCSS(c,"pricing_box_price_amount_decimal_typography")+"}",i+="."+e+a+" .oxy-pricing-box-term {"+Qe.generateTypographyCSS(c,"pricing_box_price_amount_term_typography")+"}",i+="."+e+a+" .oxy-pricing-box-sale-price {"+Qe.generateTypographyCSS(c,"pricing_box_price_sale_typography")+"margin-bottom:"+c.pricing_box_price_sale_space_below+";}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-content {"+Qe.generateArrayOptionsCSS(c,"pricing_box_content")+"background-color:"+Qe.getGlobalColorValue(c.pricing_box_content_background)+";text-align:"+c.pricing_box_content_alignment+";"+Qe.generateTypographyCSS(c,"pricing_box_content_typography")+"}",i+="."+e+a+" .oxy-pricing-box-section.oxy-pricing-box-cta {"+Qe.generateArrayOptionsCSS(c,"pricing_box_cta")+"background-color:"+Qe.getGlobalColorValue(c.pricing_box_cta_background)+";text-align:"+c.pricing_box_cta_alignment+";justify-content:"+$+";}";!o&&Qe.classHasOptions(e,"slider-")&&(r||"original"!=n||(c["slider-arrow-color"]&&"lighter"==c["slider-arrow-color"]&&(i+="."+e+" .unslider-arrow {",i+="background-color: rgba(255,255,255,0.2); ",i+="}"),c["slider-dot-color"]&&(i+="."+e+" .unslider-nav ol li {",i+="border-color: "+Qe.getGlobalColorValue(c["slider-dot-color"])+"; ",i+="}",i+="."+e+" .unslider-nav ol li.unslider-active {",i+="background-color: "+Qe.getGlobalColorValue(c["slider-dot-color"])+"; ",i+="}"),c["slider-remove-padding"]&&"yes"==c["slider-remove-padding"]&&(i+="."+e+" .unslider {",i+="padding: 0px; ",i+="}",i+="."+e+" .unslider-wrap.unslider-carousel > li {",i+="padding: 0px; ",i+="}",i+="."+e+" .unslider-arrow.next {",i+="right: 10px; ",i+="z-index: 100; ",i+="}",i+="."+e+" .unslider-arrow.prev {",i+="left: 10px; ",i+="z-index: 100; ",i+="}"),c["slider-dots-overlay"]&&"yes"==c["slider-dots-overlay"]&&(i+="."+e+" .unslider .unslider-nav {",i+="position: absolute; bottom: 0; left: 0; right: 0; z-index: 100",i+="}"),c["slider-stretch-slides"]&&"yes"==c["slider-stretch-slides"]&&(i+="."+e+" .unslider-wrap {",i+="display: flex;",i+="}",i+="."+e+" .ct-slide {",i+="height: 100%;",i+="}",i+="."+e+" .unslider,",i+="."+e+" .oxygen-unslider-container,",i+="."+e+" .unslider-wrap,",i+="."+e+" .unslider-wrap li {",i+="height: 100%;",i+="}"),c["slider-stretch-slides"]&&"yes"==c["slider-stretch-slides"]&&c["slider-animation"]&&"fade"==c["slider-animation"]&&(i+="."+e+" .unslider-fade ul li.unslider-active {",i+="width: 100%;",i+="}"),c["slider-slide-padding"]&&(i+="."+e+" .ct-slide {",i+="padding: "+c["slider-slide-padding"],i+="}")));var Q=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("toggle_")&&(Q=!0);!o&&Q&&(i+="."+e+a+" .oxy-expand-collapse-icon {font-size:"+c.toggle_icon_size+";}",i+="."+e+a+" .oxy-expand-collapse-icon::before,."+e+a+" .oxy-expand-collapse-icon::after {background-color:"+Qe.getGlobalColorValue(c.toggle_icon_color)+";}");var q=!1;if(Qe.classes[e])for(paramName in Qe.classes[e].original)0===paramName.indexOf("superbox_")&&(q=!0);if(!o&&q){var R,J,ee,te,oe,re=c.superbox_secondary_scale_start,ae=c.superbox_secondary_scale_finish,ie=c.superbox_primary_scale_start,ne=c.superbox_primary_scale_finish,se="",le="",ce="",pe="";void 0!==re&&(J="transform: scale("+re+");"),void 0!==ae&&(ee="transform: scale("+ae+");"),void 0!==ie&&(te="transform: scale("+ie+");"),void 0!==ne&&(oe="transform: scale("+ne+");"),c.superbox_secondary_slide_direction&&(R=Qe.slide_position(c.superbox_secondary_slide_direction,(c.superbox_secondary_slide_distance||"")+"px"),"in"==c.superbox_secondary_slide_inorout?(se=R.out_css,le=R.in_css):"out"==c.superbox_secondary_slide_inorout&&(se=R.in_css,le=R.out_css)),c.superbox_primary_slide_direction&&(R=Qe.slide_position(c.superbox_primary_slide_direction,(c.superbox_primary_slide_distance||"")+"px"),"in"==c.superbox_primary_slide_inorout?(ce=R.out_css,pe=R.in_css):"out"==c.superbox_primary_slide_inorout&&(ce=R.in_css,pe=R.out_css)),i+="."+e+" .oxy-superbox-secondary, ."+e+" .oxy-superbox-primary {transition-duration:"+c.superbox_transition_duration+";}",i+="."+e+" .oxy-superbox-secondary {opacity:"+c.superbox_secondary_opacity_start+";"+se+J+"}",i+="."+e+":hover .oxy-superbox-secondary {opacity:"+c.superbox_secondary_opacity_finish+";z-index: 2147483642;"+le+ee+"}",i+="."+e+" .oxy-superbox-primary {opacity:"+c.superbox_primary_opacity_start+";"+ce+te+"}",i+="."+e+":hover .oxy-superbox-primary {opacity:"+c.superbox_primary_opacity_finish+";"+pe+oe+"}"}if(void 0!==Qe.componentsTemplates)for(var de in Qe.componentsTemplates)if(Qe.componentsTemplates.hasOwnProperty(de)){var ge=!1;if(Qe.classes[e])for(paramName in Qe.classes[e][n])0===paramName.indexOf(de)&&(ge=!0);if(!o&&ge&&Qe.componentsTemplates[de].registeredSelectors){var me=Qe.componentsTemplates[de].registeredSelectors;for(var H in selectorsCSS="",me)if(me.hasOwnProperty(H)){var ue=me[H],_e="";if(ue)for(var ye in ue)ue.hasOwnProperty(ye)&&c[ue[ye]]&&(_e+=ye+":"+Qe.getGlobalColorValue(c[ue[ye]])+";");_e&&(selectorsCSS+="."+e+" "+H+a+"{"+_e+"}")}i+=selectorsCSS}}if(c&&void 0!==Qe.componentsTemplates)for(var de in Qe.componentsTemplates)if(Qe.componentsTemplates.hasOwnProperty(de)){var he=Qe.componentsTemplates[de].valuesCSS;for(var be in he)if(he.hasOwnProperty(be)&&he[be][c[be]]){var xe=he[be][c[be]];i+=Qe.prefixCSSSelectors(xe,e,!0)}}if(c["box-shadow-color"]){var Se="inset"==c["box-shadow-inset"]?c["box-shadow-inset"]+" ":"",fe=c["box-shadow-horizontal-offset"]?c["box-shadow-horizontal-offset"]+"px ":"",ve=c["box-shadow-vertical-offset"]?c["box-shadow-vertical-offset"]+"px ":"",Ce=c["box-shadow-blur"]?c["box-shadow-blur"]+"px ":"0px ",we=c["box-shadow-spread"]?c["box-shadow-spread"]+"px ":"";c["box-shadow"]=Se+fe+ve+Ce+we+Qe.getGlobalColorValue(c["box-shadow-color"])}if(c["text-shadow-color"]){fe=c["text-shadow-horizontal-offset"]?c["text-shadow-horizontal-offset"]+"px ":"",ve=c["text-shadow-vertical-offset"]?c["text-shadow-vertical-offset"]+"px ":"",Ce=c["text-shadow-blur"]?c["text-shadow-blur"]+"px ":"0px ";c["text-shadow"]=fe+ve+Ce+Qe.getGlobalColorValue(c["text-shadow-color"])}for(var ke in o?e.indexOf(".")<0&&e.indexOf("#")<0&&e.indexOf("body")<0?i+=".oxygen-body "+e+a:i+=e+a:i+="."+e+a,i+="{",i+=Qe.getBackgroundLayersCSS(c,null,o,e,r,n)||"",i+=Qe.getTransformCSS(c)||"",c)if(c.hasOwnProperty(ke)){if("custom-css"==ke)continue;if(0<=["display","flex-direction","flex-wrap","align-items","align-content","justify-content","gap"].indexOf(ke)&&!o)continue;var Pe=c[ke];if("flex-direction"==ke){i+=ke+":"+Pe+(Oe="reverse"==c["flex-reverse"]?"-reverse":"")+";";continue}if("filter"==ke&&c["filter-amount-"+Pe])Pe+="("+c["filter-amount-"+Pe]+")";else if("filter"==ke)continue;if("content"==ke.trim().toLowerCase()&&(Pe='"'+Pe.replace('"','\\"')+'"',Qe.contentAdded[e+a]=!0),("font-family"==ke||-1<ke.indexOf("font-family"))&&void 0!==Pe&&(Qe.loadWebFont(Pe),-1===Pe.indexOf(",")&&"inherit"!==Pe.toLowerCase()&&(Pe="'"+Pe+"'")),"background-image"==ke||"background-size"==ke)continue;Pe&&Qe.excludeProperties.indexOf(ke)<0&&"background-layers"!==ke&&(i+=ke+":"+Qe.getGlobalColorValue(Pe)+";"),"-webkit-font-smoothing"==ke&&(i+="-moz-osx-font-smoothing:"+("antialiased"===Pe?"grayscale":"unset")+";")}if("before"!=n&&"after"!=n||Qe.contentAdded[e+a]||(i+='content:"";',Qe.contentAdded[e+a]=!0),c["custom-css"]&&(i+=Qe.replaceGlobalColors(c["custom-css"])),i+="}",(c["container-padding-top"]||c["container-padding-right"]||c["container-padding-bottom"]||c["container-padding-left"])&&(i+="."+e+a+" .ct-section-inner-wrap {",c["container-padding-top"]&&(i+="padding-top:"+c["container-padding-top"]+";"),c["container-padding-right"]&&(i+="padding-right:"+c["container-padding-right"]+";"),c["container-padding-bottom"]&&(i+="padding-bottom:"+c["container-padding-bottom"]+";"),c["container-padding-left"]&&(i+="padding-left:"+c["container-padding-left"]+";"),i+="}"),(c.display||c["flex-direction"]||c["flex-wrap"]||c["align-items"]||c["align-content"]||c["justify-content"]||c.gap)&&!o){i+="."+e+":not(.ct-section)"+a,Qe.isPseudoElement(a)?i+=",."+e+".ct-section .ct-section-inner-wrap"+a:i+=",."+e+".ct-section"+a+" .ct-section-inner-wrap",i+="{",c.display&&"grid"!=c["flex-direction"]&&(i+="display:"+c.display+";");var Oe="reverse"==c["flex-reverse"]?"-reverse":"";c["flex-direction"]&&"grid"!=c["flex-direction"]&&(i+="flex-direction:"+c["flex-direction"]+Oe+";"),c["justify-content"]&&(i+="justify-content:"+c["justify-content"]+";"),c["align-content"]&&(i+="align-content:"+c["align-content"]+";"),c["align-items"]&&(i+="align-items:"+c["align-items"]+";"),c["flex-wrap"]&&(i+="flex-wrap:"+c["flex-wrap"]+";"),c.gap&&(i+="gap:"+c.gap+";"),i+="}"}if("grid"==c.display){var ze=Qe.getGridCSS(c,void 0,"forceDisplayGrid")||"";ze&&(i+="."+e+":not(.ct-section):not(.oxy-easy-posts)"+a,Qe.isPseudoElement(a)?(i+=",."+e+".oxy-easy-posts .oxy-posts"+a,i+=",."+e+".ct-section .ct-section-inner-wrap"+a):(i+=",."+e+".oxy-easy-posts"+a+" .oxy-posts",i+=",."+e+".ct-section"+a+" .ct-section-inner-wrap"),i+="{",i+=ze,i+="}"),i+=Qe.getGridChildCSS(c,e,a,!1,"is class")}}return i},Qe.generateTreeCSS=function(t,o,r,a){if(a=0,a++,"[object Array]"!==Object.prototype.toString.call(t))return!1;Qe.log&&console.log("generateTreeCSS()",t,o),angular.forEach(t,function(e){e.options.name=e.name,e.options.original,e.options.id=e.options.original,Qe.generateDynamicBackgrounds(e.id,!1,"id",function(){o.styles+=Qe.getSingleComponentCSS(e.options,e.id),e.children?Qe.generateTreeCSS(e.children,o,r,a):a<=1&&r&&r()},{children:t})}),a--},Qe.classHasOptions=function(e,t){if(Qe.classes[e])for(paramName in Qe.classes[e].original)if(0===paramName.indexOf(t))return!0},Qe.classHasOption=function(e){var t=Qe.componentsClasses[Qe.component.active.id];if(null!=t)for(i in t){var o=t[i];for(stateKey in Qe.classes[o])if("media"!=stateKey&&"parent"!=stateKey){var r=Qe.classes[o][stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&r[e[0]]&&r[e[0]][e[1]])return!0;if(3==e.length&&r[e[0]]&&r[e[0]][e[1]]&&r[e[0]][e[1]][e[2]])return!0}else if(r[e])return!0}if(!Qe.isEditing("media"))return!1;if(Qe.classes[o].media){var a=Qe.sortedMediaList();for(var i in a)if(a.hasOwnProperty(i)){var n=a[i];if("default"==n)continue;if(Qe.classes[o].media[n]){var s=Qe.classes[o].media[n];for(stateKey in s){r=s[stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&r[e[0]]&&r[e[0]][e[1]])return!0;if(3==e.length&&r[e[0]]&&r[e[0]][e[1]]&&r[e[0]][e[1]][e[2]])return!0}else if(r[e])return!0}}if(n==Qe.getCurrentMedia())return!1}}}},Qe.classHasOptionEqualTo=function(e,t){var o=Qe.componentsClasses[Qe.component.active.id];if(null!=o)for(key in o){var r=o[key];if(Qe.classes[r].media)for(mediaKey in Qe.classes[r].media){var a=Qe.classes[r].media[mediaKey];for(stateKey in a){var i=a[stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&i[e[0]]&&i[e[0]][e[1]]&&i[e[0]][e[1]]==t)return!0;if(3==e.length&&i[e[0]]&&i[e[0]][e[1]]&&i[e[0]][e[1]][e[2]]&&i[e[0]][e[1]][e[2]]==t)return!0}else if(i[e])return!0}}for(stateKey in Qe.classes[r])if("media"!=stateKey&&"parent"!=stateKey){i=Qe.classes[r][stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&i[e[0]]&&i[e[0]][e[1]]&&i[e[0]][e[1]]==t)return!0;if(3==e.length&&i[e[0]]&&i[e[0]][e[1]]&&i[e[0]][e[1]][e[2]]&&i[e[0]][e[1]][e[2]]==t)return!0}else if(i[e]&&i[e]==t)return!0}}},Qe.IDHasOption=function(e){var t=Qe.component.active.id;for(stateKey in Qe.component.options[t])if("media"!=stateKey&&"model"!=stateKey&&"original"!=stateKey){var o=Qe.component.options[t][stateKey]||[];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&o[e[0]]&&o[e[0]][e[1]])return!0;if(3==e.length&&o[e[0]]&&o[e[0]][e[1]]&&o[e[0]][e[1]][e[2]])return!0}else if(o[e])return!0}if(!Qe.isEditing("media"))return!1;if(Qe.component.options[t].media){var r=Qe.sortedMediaList();for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];if("default"==i)continue;if(Qe.component.options[t].media[i]){var n=Qe.component.options[t].media[i];for(stateKey in n){o=n[stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&o[e[0]]&&o[e[0]][e[1]])return!0;if(3==e.length&&o[e[0]]&&o[e[0]][e[1]]&&o[e[0]][e[1]][e[2]])return!0}else if(o[e])return!0}}if(i==Qe.getCurrentMedia())return!1}}},Qe.IDHasOptionEqualTo=function(e,t){var o=Qe.component.active.id;if(Qe.component.options[o].media)for(mediaKey in Qe.component.options[o].media){var r=Qe.component.options[o].media[mediaKey];for(stateKey in r){var a=r[stateKey];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&a[e[0]]&&a[e[0]][e[1]]&&a[e[0]][e[1]]==t)return!0;if(3==e.length&&a[e[0]]&&a[e[0]][e[1]]&&a[e[0]][e[1]][e[2]]&&a[e[0]][e[1]][e[2]]==t)return!0}else if(a[e])return!0}}for(stateKey in Qe.component.options[o])if("media"!=stateKey&&"model"!=stateKey&&"original"!=stateKey){a=Qe.component.options[o][stateKey]||[];if(-1<e.indexOf(".")){if(2==(e=e.split(".")).length&&a[e[0]]&&a[e[0]][e[1]]&&a[e[0]][e[1]]==t)return!0;if(3==e.length&&a[e[0]]&&a[e[0]][e[1]]&&a[e[0]][e[1]][e[2]]&&a[e[0]][e[1]][e[2]]==t)return!0}else if(a[e]&&a[e]==t)return!0}},Qe.applyComponentCSS=function(e,t){null==e&&(e=Qe.component.active.id),null==t&&(t=Qe.component.active.name),Qe.setOption(e,t,"custom-css",!1,!1)},Qe.applyStyleSheet=function(e){var t="\n"+Qe.replaceGlobalColors(e.css)+"\n",o=document.getElementById("ct-style-sheet-"+e.name);if(null===o){var r=document.getElementsByClassName("ct-css-location"),a=angular.element(r[r.length-1]);(o=angular.element("<style>").attr("id","ct-style-sheet-"+e.name).addClass("ct-css-location")).insertAfter(a)}else o=angular.element(o);if(o.empty(),o.append(t),bracket=Qe.bracketsFailed(t)){if("("==bracket||"{"==bracket)var i="closing";else i="opening";var n="Warning: there is no "+i+' bracket for "'+bracket+'" somewhere in your CSS. This may break page styling.';jQuery(".oxygen-code-error-container",s.oxygenUIElement).show().html(n)}else jQuery(".oxygen-code-error-container",s.oxygenUIElement).hide().html("");Qe.unsavedChanges()},Qe.addDesignSetStyleSheets=function(e){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];"object"==typeof o&&void 0===Qe.styleSheets[o.name]&&(Qe.styleSheets[o.name]=Qe.stripSlashes(o.content),Qe.applyStyleSheet(o.name))}},Qe.getWidth=function(e){if(!e)return{value:"",unit:""};var t=parseInt(e,10),o="";return t!==e&&(o=-1<e.indexOf("%")?"%":-1<e.indexOf("em")?"em":-1<e.indexOf("rem")?"rem":"px"),{value:t,unit:o}},Qe.outputPageSettingsCSS=function(){var e="div.ct-section-inner-wrap, div.oxy-header-container{";e+="max-width:"+Qe.getPageWidth()+"px;",e+="}",Qe.getPageSetting("overlay-header-above")&&"never"!=Qe.getPageSetting("overlay-header-above")&&("always"!=Qe.getPageSetting("overlay-header-above")&&(e+="@media (min-width: "+Qe.getMediaMinSize(Qe.getPageSetting("overlay-header-above"))+") {"),e+="body.oxy-overlay-header .oxy-header {position: absolute;left: 0;right: 0;z-index: 2147483640;}body.oxy-overlay-header .oxy-header:not(.oxy-sticky-header-active),body.oxy-overlay-header .oxy-header:not(.oxy-sticky-header-active) .oxy-header-row {background-color: initial !important;}body.oxy-overlay-header .oxy-header .oxygen-hide-in-overlay{display: none;}body.oxy-overlay-header .oxy-header .oxygen-only-show-in-overlay{display: block;}","always"!=Qe.getPageSetting("overlay-header-above")&&(e+="}")),Qe.outputCSSStyles("ct-page-settings-styles",e)},Qe.updateGlobalSettingsCSS=function(){var e="",t=Qe.getGlobalFont("Text"),o=Qe.getGlobalFont("Display");-1===t.indexOf(",")&&(t="'"+t+"'"),-1===o.indexOf(",")&&(o="'"+o+"'"),e+="body {",e+="font-family: "+t+";",e+="line-height: "+Qe.globalSettings.body_text["line-height"]+";",e+="font-size: "+Qe.globalSettings.body_text["font-size"]+Qe.globalSettings.body_text["font-size-unit"]+";",e+="font-weight: "+Qe.globalSettings.body_text["font-weight"]+";",e+="color: "+Qe.getGlobalColorValue(Qe.globalSettings.body_text.color)+";",e+="}",e+=".oxy-nav-menu-hamburger-line {",e+="background-color: "+Qe.getGlobalColorValue(Qe.globalSettings.body_text.color)+";",e+="}",e+="h1, h2, h3, h4, h5, h6 {",e+="font-family: "+o+";",""!==Qe.globalSettings.headings.H1["font-size"]&&(e+="font-size: "+Qe.globalSettings.headings.H1["font-size"]+Qe.globalSettings.headings.H1["font-size-unit"]+";"),""!==Qe.globalSettings.headings.H1["font-weight"]&&(e+="font-weight: "+Qe.globalSettings.headings.H1["font-weight"]+";"),""!==Qe.globalSettings.headings.H1["line-height"]&&(e+="line-height: "+Qe.globalSettings.headings.H1["line-height"]+";"),""!==Qe.globalSettings.headings.H1.color&&(e+="color: "+Qe.getGlobalColorValue(Qe.globalSettings.headings.H1.color)+";"),e+="}";var r="h2, h3, h4, h5, h6";for(var a in Qe.globalSettings.headings)if(Qe.globalSettings.headings.hasOwnProperty(a)){var i="";if("H1"==a)continue;""!==Qe.globalSettings.headings[a]["font-size"]&&(i+="font-size: "+Qe.globalSettings.headings[a]["font-size"]+Qe.globalSettings.headings[a]["font-size-unit"]+";"),""!==Qe.globalSettings.headings[a]["font-weight"]&&(i+="font-weight: "+Qe.globalSettings.headings[a]["font-weight"]+";"),""!==Qe.globalSettings.headings[a]["line-height"]&&(i+="line-height: "+Qe.globalSettings.headings[a]["line-height"]+";"),""!==Qe.globalSettings.headings[a].color&&(i+="color: "+Qe.getGlobalColorValue(Qe.globalSettings.headings[a].color)+";"),""!==i&&(e+=r+"{",e+=i,e+="}"),r=r.replace(a.toLowerCase()+", ","")}var n={all:"a",text_link:".ct-link-text",link_wrapper:".ct-link",button:".ct-link-button"};for(var s in n)if(n.hasOwnProperty(s)){var l="";r=n[s];Qe.globalSettings.links[s]=Qe.globalSettings.links[s]||{},""!==Qe.globalSettings.links[s].color&&(l+="color: "+Qe.getGlobalColorValue(Qe.globalSettings.links[s].color)+";"),""!==Qe.globalSettings.links[s]["font-weight"]&&(l+="font-weight: "+Qe.globalSettings.links[s]["font-weight"]+";"),Qe.globalSettings.links[s]["text-decoration"]&&(l+="text-decoration: "+Qe.globalSettings.links[s]["text-decoration"]+";"),Qe.globalSettings.links[s]["border-radius"]&&(l+="border-radius: "+Qe.globalSettings.links[s]["border-radius"]+Qe.globalSettings.links[s]["border-radius-unit"]+";"),""!==l&&(e+=r+" {",e+=l,e+="}"),(l="")!==Qe.globalSettings.links[s].hover_color&&(l+="color: "+Qe.getGlobalColorValue(Qe.globalSettings.links[s].hover_color)+";"),Qe.globalSettings.links[s]["hover_text-decoration"]&&(l+="text-decoration: "+Qe.globalSettings.links[s]["hover_text-decoration"]+";"),""!==l&&(e+=r+":hover {",e+=l,e+="}")}for(var c in e+=".ct-section-inner-wrap {",e+="padding-top: "+Qe.globalSettings.sections["container-padding-top"]+Qe.globalSettings.sections["container-padding-top-unit"]+";",e+="padding-left: "+Qe.globalSettings.sections["container-padding-left"]+Qe.globalSettings.sections["container-padding-left-unit"]+";",e+="padding-right: "+Qe.globalSettings.sections["container-padding-right"]+Qe.globalSettings.sections["container-padding-right-unit"]+";",e+="padding-bottom: "+Qe.globalSettings.sections["container-padding-bottom"]+Qe.globalSettings.sections["container-padding-bottom-unit"]+";",e+="}",e+=".ct-new-columns > .ct-div-block {",e+="padding-top: "+Qe.globalSettings.columns["padding-top"]+Qe.globalSettings.columns["padding-top-unit"]+";",e+="padding-left: "+Qe.globalSettings.columns["padding-left"]+Qe.globalSettings.columns["padding-left-unit"]+";",e+="padding-right: "+Qe.globalSettings.columns["padding-right"]+Qe.globalSettings.columns["padding-right-unit"]+";",e+="padding-bottom: "+Qe.globalSettings.columns["padding-bottom"]+Qe.globalSettings.columns["padding-bottom-unit"]+";",e+="}",e+=".oxy-header-container {",e+="padding-left: "+Qe.globalSettings.sections["container-padding-left"]+Qe.globalSettings.sections["container-padding-left-unit"]+";",e+="padding-right: "+Qe.globalSettings.sections["container-padding-right"]+Qe.globalSettings.sections["container-padding-right-unit"]+";",e+="}",Qe.globalSettings)if(Qe.globalSettings.hasOwnProperty(c)){var p=Qe.globalSettings[c];for(var d in p)p.hasOwnProperty(d)&&("font-family"==d||-1<d.indexOf("font-family"))&&Qe.loadWebFont(p[d])}e+=Qe.replaceGlobalWooSettings(CtBuilderAjax.wooGlobalStyles),Qe.outputCSSStyles("oxygen-global-settings-styles",e)},Qe.$watch("globalSettings",function(e,t){Qe.updateGlobalSettingsCSS()},!0),Qe.$watch("globalSettings.sections",function(e,t){Qe.pageSettingsUpdate(),Qe.applyModelOptions(),Qe.unsavedChanges()},!0),Qe.$watch("globalSettings.woo",function(e,t){Qe.updateAllComponentsCacheStyles(),Qe.outputCSSOptions()},!0),Qe.$watch("pageSettingsMeta",function(e,t){Qe.pageSettingsUpdate(),Qe.unsavedChanges()},!0),Qe.$watch("pageSettingsMeta.aos",function(e,t){Qe.updateAOS()},!0),Qe.updateAOS=function(){var e=angular.copy(Qe.pageSettingsMeta.aos);for(var t in e)""!==e[t]&&void 0!==e[t]||delete e[t];var o=angular.extend({},Qe.globalSettings.aos,e);for(var t in"false"===o.once&&(o.once=!1),e=o)""!==e[t]&&void 0!==e[t]||delete e[t];aosDefaults={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1},o=angular.extend({},aosDefaults,e),jQuery('[data-aos-enabled="true"]').each(function(){var e=jQuery(this).attr("ng-attr-component-id");Qe.setOption(e,Qe.component.options[e].name,"aos-type")}),AOS.init(o)},Qe.bracketsFailed=function(e){return e=(""+e).replace(/(\/[*][^*]*[*]\/)|(\/\/[^\n]*)/gm,""),function(e){for(var t={"}":"{",")":"("},o=[],r=0,a=(e=""+e).length;r<a;r++)t[e[r]]&&o.pop()===t[e[r]]||o.push(e[r]);return!!o.length&&o[0]}(e=(""+e).replace(/[^(){}]/g,""))},Qe.mapCSSProperty=function(e,t,o){Qe.mappedSelectors[o]||(Qe.mappedSelectors[o]={}),Qe.mappedSelectors[o][t]||(Qe.mappedSelectors[o][t]={}),Qe.mappedSelectors[o][t]=e},Qe.unmapCSSProperty=function(e,t){Qe.mappedSelectors[t][e]=null,delete Qe.mappedSelectors[t][e]},Qe.getMappedCSS=function(t,e){var o="";for(var r in Qe.mappedSelectors){var a=Qe.mappedSelectors[r];for(var i in o+=(r=r.split(",").map(function(e){return"#"+t+" "+e}).join(","))+"{",a)if(void 0!==a[i]&&void 0!==e[a[i]]&&""!==e[a[i]].toString().trim()){var n="";void 0!==e[a[i]+"-unit"]&&(n=e[a[i]+"-unit"]),o+="background-image"===i?i+": url("+e[a[i]]+");":i+":"+Qe.getGlobalColorValue(e[a[i]])+n+";"}o+="}"}return o},Qe.generateAllAPISelectorsCSS=function(e,t,o){if(void 0===Qe.componentsTemplates)return"";var r="";for(var a in Qe.componentsTemplates)Qe.componentsTemplates.hasOwnProperty(a)&&(r+=Qe.generateAPISelectorsCSS(a,e,t,o));return r},Qe.generateAPISelectorsCSS=function(e,t,o,r){if(void 0===Qe.componentsTemplates[e]||void 0===Qe.componentsTemplates[e].registeredSelectors)return"";var a="",i=Qe.componentsTemplates[e].registeredSelectors,n=angular.copy(Qe.componentsTemplates[e].complexProperties);for(var s in i)if(i.hasOwnProperty(s)){var l=i[s],c="";if(l){for(var p in l){if(l.hasOwnProperty(p)){if(!o)continue;if("typography"==p)c+=Qe.generateTypographyCSS(o,l[p]);else if("box-shadow"==p)c+=Qe.generateBoxShadowCSS(o,l[p]);else if(-1<p.indexOf(">")){var d=p.split(">");if(n&&n[d[0]]){var g=n[d[0]];n[d[0]]=g.replace("{"+d[1]+"}",o[l[p]])}}else if(o[l[p]]){g=Qe.addFontFamilyQuotes(p,o[l[p]]);g=Qe.getGlobalColorValue(g),"transform:rotate"==p&&(p="transform",g="rotate("+g+")"),"background-image:url"==p&&(p="background-image",g="url("+g+")"),c+=p+":"+g+";"}else{var m=[];for(var u in o)if(o.hasOwnProperty(u)&&-1<u.indexOf(l[p])){var _;_=u.replace(l[p]+"_","");g=Qe.addFontFamilyQuotes(_,o[u]);m[_]=g}if(m["background-position-top"]||m["background-position-left"]){var y=m["background-position-top"]||"0%",h=m["background-position-left"]||"0%";m["background-position"]=h,m["background-position"]+=" "+y,delete m["background-position-top"],delete m["background-position-left"]}if("manual"==m["background-size"]){var b=m["background-size-width"]||"auto",x=m["background-size-height"]||"auto";m["background-size"]=b,m["background-size"]+=" "+x,delete m["background-size-width"],delete m["background-size-height"]}for(var u in m)if(m.hasOwnProperty(u)){g=m[u];"background-image"==u&&(g="url("+g+")"),c+=u+":"+Qe.getGlobalColorValue(g)+";"}}}for(var p in n)if(n.hasOwnProperty(p)){if(-1<n[p].indexOf("{"))continue;c+=p+":"+Qe.getGlobalColorValue(n[p])+";"}}c&&(c=s+"{"+c+"}",a+=Qe.prefixCSSSelectors(c,t,r))}}return a},Qe.position_css=function(e,t){var o;for(var r in e){var a=e[r];!0===t&&null!==a&&(a="0"),null!==a&&(o=r+":"+a+";")}return o},Qe.slide_position=function(e,t){var o="100%",r=[],a=[];switch(void 0!==t&&"px"!==t&&(o=t),e){case"left":r.left="-"+o;break;case"right":r.left=""+o;break;case"top":r.top="-"+o;break;case"bottom":r.top=""+o}return a.out_css=Qe.position_css(r),a.in_css=Qe.position_css(r,!0),a},Qe.SPECIFICITY=(o=function(e){var t,o,r,a,i=[];for(r=0,a=(t=e.split(",")).length;r<a;r+=1)0<(o=t[r]).length&&i.push(n(o));return i},n=function(l){var e,t,o,c=l,p={a:0,b:0,c:0},d=[];return e=function(e,t){var o,r,a,i,n,s;if(e.test(c))for(r=0,a=(o=c.match(e)).length;r<a;r+=1)p[t]+=1,i=o[r],n=c.indexOf(i),s=i.length,d.push({selector:l.substr(n,s),type:t,index:n,length:s}),c=c.replace(i,Array(s+1).join(" "))},(t=function(e){var t,o,r,a;if(e.test(c))for(o=0,r=(t=c.match(e)).length;o<r;o+=1)a=t[o],c=c.replace(a,Array(a.length+1).join("A"))})(/\\[0-9A-Fa-f]{6}\s?/g),t(/\\[0-9A-Fa-f]{1,5}\s/g),t(/\\./g),(o=/:not\(([^\)]*)\)/g).test(c)&&(c=c.replace(o,"     $1 ")),function(){var e,t,o,r,a=/{[^]*/gm;if(a.test(c))for(t=0,o=(e=c.match(a)).length;t<o;t+=1)r=e[t],c=c.replace(r,Array(r.length+1).join(" "))}(),e(/(\[[^\]]+\])/g,"b"),e(/(#[^\s\+>~\.\[:]+)/g,"a"),e(/(\.[^\s\+>~\.\[:]+)/g,"b"),e(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,"c"),e(/(:[\w-]+\([^\)]*\))/gi,"b"),e(/(:[^\s\+>~\.\[:]+)/g,"b"),c=(c=c.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),e(/([^\s\+>~\.\[:]+)/g,"c"),d.sort(function(e,t){return e.index-t.index}),{selector:l,specificity:"0,"+p.a.toString()+","+p.b.toString()+","+p.c.toString(),specificityArray:[0,p.a,p.b,p.c],parts:d}},{calculate:o,compare:function(e,t){var o,r,a;if("string"==typeof e){if(-1!==e.indexOf(","))throw"Invalid CSS selector";o=n(e).specificityArray}else{if(!Array.isArray(e))throw"Invalid CSS selector or specificity array";if(4!==e.filter(function(e){return"number"==typeof e}).length)throw"Invalid specificity array";o=e}if("string"==typeof t){if(-1!==t.indexOf(","))throw"Invalid CSS selector";r=n(t).specificityArray}else{if(!Array.isArray(t))throw"Invalid CSS selector or specificity array";if(4!==t.filter(function(e){return"number"==typeof e}).length)throw"Invalid specificity array";r=t}for(a=0;a<4;a+=1){if(o[a]<r[a])return-1;if(o[a]>r[a])return 1}return 0}})}]);
CTFrontendBuilder.controller("ControllerTemplates",["$scope","$parentScope","$timeout","$interval",function(m,u,f,e){m.replaceAfterReusable=!1,m.template={},m.template.postData={},m.componentizeOptions={},m.componentizeOptions.name="Re-usable component",m.componentizeOptions.pageName="Re-usable page",m.componentizeOptions.setName="My Design Set",m.componentizeOptions.status="public",m.previewType="",m.separatorAdded=!1,m.loadTemplatesTerm=function(e,o){m.previewType=o,m.loadTemplateData(m.setTemplateData,e)},m.setTemplateData=function(e){if(m.log&&console.log("setTemplateData()",e),void 0!==e.bodyClass&&jQuery("body").addClass(e.bodyClass).addClass("oxygen-builder-body"),void 0!==e.postData&&(m.template.postData=e.postData),void 0!==e.edit_link&&(m.template.postData.edit_link=e.edit_link),void 0!==e.postsList||void 0!==e.termsList){var o=!1;if(void 0!==e.postsList&&(null===e.postsList||(m.template.postsList=e.postsList,e.default?(m.loadTemplatesTerm(e.default.id,"post"),o=!0):e.postsList[0]&&(m.loadTemplatesTerm(e.postsList[0].id,"post"),o=!0))),void 0!==e.termsList&&e.termsList[0]&&(m.template.termsList=e.termsList,o||(m.loadTemplatesTerm(e.termsList[0].id,"term"),o=!0)),o)return}e.meta_keys&&(u.current_post_meta_keys=e.meta_keys),m.updateAttachmentSizes=!0,m.rebuildDOM(0),m.classesCached=!1,m.outputCSSOptions(),m.waitOxygenTree(function(){m.updateAttachmentSizes=!1})},m.loadReusablePart=function(e,o){void 0!==o?m.loadComponentsTree(m.addReusableChildren,e,o):m.loadComponentsTree(m.addReusable,e,o)},m.addReusable=function(e,o){var t={};t=void 0!==e[0]&&void 0!==e[0].content?e[0].content:e,m.log&&console.log("addReusable()",o);var n=m.component.active.id,i={id:0,name:"ct_reusable",options:{view_id:o}},s=m.getClosestPossibleInsert(n,t,m.replaceAfterReusable);m.componentBuffer=i,m.componentInsertId=s.id,0<=s.index&&(m.newComponentKey=s.index);var a=m.component.id;m.updateNewComponentIds(m.componentBuffer,s),m.findComponentItem(m.componentsTree.children,s.id,m.pasteComponentToTree),m.replaceAfterReusable&&(m.removeComponentById(m.replaceAfterReusable),m.replaceAfterReusable=!1),m.cancelDeleteUndo(),m.rebuildDOM(a),m.activateComponent(a);var r=f(function(){u.scrollToComponent(m.getActiveComponent().attr("id")),f.cancel(r)},0,!1);if(void 0!==oxygenVSBInitTabs)var c=f(function(){oxygenVSBInitTabs("#"+m.component.options[a].selector),f.cancel(c)},500,!1),l=f(function(){oxygenVSBInitTabs("#"+m.component.options[a].selector),f.cancel(l)},1500,!1);m.unsavedChanges()},m.recursively_find_reusable=function(e){_.forEach(e,function(e){if("ct_reusable"==e.name)e.options.view_id;e.children&&m.recursively_find_reusable(e.children)})},m.addPageFromSource=function(e,o,n){var i=m.component.active.id;i<0&&(iframeScope.activateComponent(0,"root"),i=0,iframeScope.currentClass=!1);var t=JSON.parse(e);if(!t||!t.components||t.components.length<1)m.showErrorModal(0,"Could not load the page. "+(t.error?t.error:"Try again!"));else{var s=!1,a=!1;if(t.components&&(s=t.components),s){t.classes&&(a=t.classes);var r={};t.colors&&(r=m.mergeIncomingSourceColors(t.colors,n));var c={};if(t.lookuptable&&(c=t.lookuptable),a){for(key in 0<Object.keys(r).length&&(a=m.ctMapSourceColors(a,r)),CtBuilderAjax.classicDesignsets.find(function(e){return e==n})&&(a=m.ctCreateVariableColors(a,n,c)),m.styleFolders.hasOwnProperty(n)||(m.styleFolders[n]={status:1,key:n}),a)a[key].parent=n;m.classes=Object.assign(a,m.classes),m.classesCached=!1}var l=m.component.id;_.each(s,function(e){var o=m.component.id;0<Object.keys(r).length&&(e=m.ctMapSourceColors(e,r)),CtBuilderAjax.classicDesignsets.find(function(e){return e==n})&&(e=m.ctCreateVariableColors(e,n,c));var t={id:0,index:iframeScope.getComponentById(i).index()+1};m.componentBuffer=e,0<=t.index&&(m.newComponentKey=t.index),m.updateNewComponentIds(m.componentBuffer,t),m.findComponentItem(m.componentsTree.children,t.id,m.pasteComponentToTree),m.cancelDeleteUndo(),m.rebuildDOM(o),m.updateComponentCacheStyles(o,function(){m.cache.idCSS="",Object.keys(m.cache.idStyles).map(function(e,o){m.cache.idCSS+=m.cache.idStyles[e]}),m.outputCSSStylesAfterWait("id",m.cache.idCSS)}),i=o}),m.rebuildDOM(0),m.outputCSSOptions(),m.activateComponent(l);var d=f(function(){u.scrollToComponent(m.getActiveComponent().attr("id")),f.cancel(d)},0,!1)}else m.showErrorModal(0,"Page not loaded, try again")}},m.ctMapSourceColors=function(e,t){for(key in e)"string"==typeof e[key]?e[key]=e[key].replace(/color\((\d*)\)/g,function(e,o){return"color("+t[parseInt(o)]+")"}):(e[key]instanceof Array||e[key]instanceof Object)&&(e[key]=m.ctMapSourceColors(e[key],t));return e},m.ctCreateVariableColorsCallback=function(e,o,t){var n=_.findWhere(iframeScope.globalColorSets.sets,{name:o});void 0===n&&(n={id:++iframeScope.globalColorSets.setsIncrement,name:o},iframeScope.globalColorSets.sets.push(n));var i,s=e.toLowerCase(),a=!1;t[s]?a=t[s]:t[s.replace(/ /g,"")]&&(a=t[s.replace(/ /g,"")]),4===s.length&&(s="#"+s.substr(1).repeat(2),!1===a&&t[s]&&(a=t[s]));var r=!1;if(!1!==a&&(_.each(t,function(e,o){!1===r&&e==a&&(r=o),4===r.length&&(r="#"+r.substr(1).repeat(2))}),void 0!==(i=_.findWhere(iframeScope.globalColorSets.colors,{name:a,set:n.id}))&&r!==s&&(s=r,i.value=r)),void 0===i&&(i=_.findWhere(iframeScope.globalColorSets.colors,{sourceVal:s,set:n.id})),void 0===i){if("IGNORE"==a)return s;i={id:++iframeScope.globalColorSets.colorsIncrement,name:a||"color #"+iframeScope.globalColorSets.colorsIncrement,value:s,sourceVal:s,set:n.id},iframeScope.globalColorSets.colors.push(i)}return"color("+i.id+")"},m.ctCreateVariableColors=function(e,o,t){for(key in e)"string"==typeof e[key]?e[key]=e[key].replace(/#[0-9|a-f]{3,6}|rgba\([\d|\s]*\,[\d|\s]*\,[\d|\s]*\,[^\)]*\)/gi,function(e){return m.ctCreateVariableColorsCallback(e,o,t)}):(e[key]instanceof Array||e[key]instanceof Object)&&(e[key]=m.ctCreateVariableColors(e[key],o,t));var n=_.find(iframeScope.globalColorSets.sets,{name:o});if(void 0===n)return e;var i=[];return _.each(t,function(e){var o,t=_.find(iframeScope.globalColorSets.colors,{set:n.id,name:e});t&&(o=iframeScope.globalColorSets.colors.indexOf(t)),void 0!==o&&(i.push(t),iframeScope.globalColorSets.colors.splice(o,1))}),iframeScope.globalColorSets.colors=i.concat(iframeScope.globalColorSets.colors),e},m.mergeIncomingSourceColors=function(e,o){var t={},n=_.findWhere(iframeScope.globalColorSets.sets,{name:o});for(key in void 0===n&&(n={id:++iframeScope.globalColorSets.setsIncrement,name:o},iframeScope.globalColorSets.sets.push(n)),e){var i=_.findWhere(iframeScope.globalColorSets.colors,{name:e[key].name,set:n.id});t[parseInt(key)]=void 0!==i?parseInt(i.id):(iframeScope.globalColorSets.colors.push({id:++iframeScope.globalColorSets.colorsIncrement,name:e[key].name,value:e[key].value,set:n.id}),parseInt(iframeScope.globalColorSets.colorsIncrement))}return t},m.addComponentFromSource=function(e,o,t,n){null!=o&&o||(o=m.component.active.id),o<0&&(iframeScope.activateComponent(0,"root"),o=0,iframeScope.currentClass=!1);var i=JSON.parse(e);if(!i||!i.component||i.component.length<1)m.showErrorModal(0,"Could not load the component. "+(i.error?i.error:"Try again!"));else{var s=!1,a=!1;if(i.component&&(s=i.component),s){i.classes&&(a=i.classes);var r={};i.colors&&(r=m.mergeIncomingSourceColors(i.colors,n));var c={};i.lookuptable&&(c=i.lookuptable),0<Object.keys(r).length&&(s=m.ctMapSourceColors(s,r)),CtBuilderAjax.classicDesignsets.find(function(e){return e==n})&&(s=m.ctCreateVariableColors(s,n,c));var l=m.component.id,d=m.getClosestPossibleInsert(o,s);if(m.componentBuffer=s,0<=d.index&&(m.newComponentKey=d.index),a){for(key in 0<Object.keys(r).length&&(a=m.ctMapSourceColors(a,r)),CtBuilderAjax.classicDesignsets.find(function(e){return e==n})&&(a=m.ctCreateVariableColors(a,n,c)),n&&!m.styleFolders.hasOwnProperty(n)&&(m.styleFolders[n]={status:1,key:n}),a)a[key].parent=n;m.classes=Object.assign(a,m.classes),m.classesCached=!1}m.updateNewComponentIds(m.componentBuffer,d),m.findComponentItem(m.componentsTree.children,d.id,m.pasteComponentToTree),m.cancelDeleteUndo(),m.rebuildDOM(l),m.updateComponentCacheStyles(l,function(){m.cache.idCSS="",Object.keys(m.cache.idStyles).map(function(e,o){m.cache.idCSS+=m.cache.idStyles[e]}),m.outputCSSStylesAfterWait("id",m.cache.idCSS)}),m.outputCSSOptions(),m.activateComponent(l);var p=f(function(){u.scrollToComponent(m.getActiveComponent().attr("id")),f.cancel(p)},0,!1)}else m.showErrorModal(0,"Component not loaded, try again")}},m.addReusableChildren=function(e,o,t){null==t&&(t=m.component.active.id),m.log&&console.log("addReusableChildren()",e,o,t);var n={};void 0!==e[0]&&void 0!==e[0].content||(n=e);var i=m.getClosestPossibleInsert(t,n);m.addReusableChild(n.children,0,-1,i),m.newComponentKey=-1},m.addReusableChild=function(t,n,i,s){if(0==t.length){m.activateComponent(i);var e=f(function(){u.scrollToComponent(m.getActiveComponent().attr("id")),f.cancel(e)},0,!1);return m.outputCSSOptions(),void u.hideDialogWindow()}var o=m.component.id;if(i<0&&(i=o),m.componentBuffer=t[0],0<=s.index&&(m.newComponentKey=s.index+n),m.updateNewComponentIds(m.componentBuffer,s),m.findComponentItem(m.componentsTree.children,s.id,m.pasteComponentToTree),m.cancelDeleteUndo(),m.rebuildDOM(o),m.updateComponentCacheStyles(o,function(){m.cache.idCSS="",Object.keys(m.cache.idStyles).map(function(e,o){m.cache.idCSS+=m.cache.idStyles[e]}),m.outputCSSStylesAfterWait("id",m.cache.idCSS)}),void 0!==oxygenVSBInitTabs)var a=f(function(){oxygenVSBInitTabs("#"+m.component.options[o].selector),f.cancel(a)},500,!1),r=f(function(){oxygenVSBInitTabs("#"+m.component.options[o].selector),f.cancel(r)},1500,!1);function c(e){var o;0<m.buildingOxygenTreeCounter&&e<900?(o=e,o++,setTimeout(function(){c(o)},100)):m.addReusableChild(t.splice(1),n+1,i,s),0<m.buildingOxygenTreeCounter&&900<=e&&console.log("Tree building timeout. ID counter is not incremented.")}c(0)},m.addReusableContent=function(e,o){if(e){m.log&&console.log("addReusableContent()",e),e.edit_link&&(m.reusableEditLinks[o]=e.edit_link);var t=m.getComponentById(o);if(t){t.append(e.post_content);var n=jQuery(e.post_content);if(n){var s=[];for(n.attr("class")&&(s=n.attr("class").split(/\s+/)),i=0;i<s.length;++i)if(0<=s[i].indexOf("ct-")){var a=s[i].replace(/\-/g,"_");m.component.options[o].dndtype=a;break}}}m.reusableCSS={},m.reusableCSS.styles="",e.post_tree&&m.generateTreeCSS(e.post_tree,m.reusableCSS,function(){m.outputCSSStyles("ct-re-usable-styles-"+e.ID,m.reusableCSS.styles)})}},m.getClosestPossibleInsert=function(e,o,t){if(m.log&&console.log("getClosestPossibleInsert()",e,o),null==e)return{};var n=m.getComponentById(e);insertData={componentToInsertIn:n,componentInsertId:0,parentId:0,index:0<e?n.index()+1:-1},i=0;var s=insertData.componentToInsertIn[0].attributes["is-nestable"],a=insertData.componentToInsertIn[0].classList.contains("ct_reusable"),r=JSON.stringify(o),c=-1<r.indexOf('"name":"ct_section"'),l=-1<r.indexOf('"name":"ct_link"')||-1<r.indexOf('"name":"ct_link_text"');function d(e,o){for(var t=e.componentToInsertIn,n=e.parentId;!t.hasClass(o)&&!t.hasClass("ct-builder");)t=t.parent();e.parentId=t[0].getAttribute("ng-attr-component-id"),0!=e.parentId?(e.index=t.index()+1,e.componentToInsertIn=jQuery(t).parent().closest("[is-nestable]"),e.componentInsertId=e.componentToInsertIn[0].getAttribute("ng-attr-component-id")):e.parentId=n}if(c&&d(insertData,"ct_section"),l&&d(insertData,"ct_link"),0==insertData.parentId)if(!s||a||t)for(;(!s||t||a)&&i<10;)insertData.componentToInsertIn=jQuery(insertData.componentToInsertIn).parent().closest("[is-nestable]"),insertData.componentToInsertIn&&(s=insertData.componentToInsertIn[0].attributes["is-nestable"],a=insertData.componentToInsertIn[0].classList.contains("ct_reusable"),insertData.componentInsertId=insertData.componentToInsertIn[0].getAttribute("ng-attr-component-id")),s&&(t=!1),i++;else insertData.componentInsertId=e,insertData.index=-1;return{id:insertData.componentInsertId,index:insertData.index}},m.isCanComponentize=function(e,o){return!(-1<["ct_reusable","oxy_header_row","ct_slide","oxy_tab","oxy_tab_content"].indexOf(o))&&0<e},m.saveReusable=function(e,o){void 0===o&&(o=!1),m.cancelDeleteUndo(),void 0===e&&(e=m.component.active.id);var t=prompt(o?"New Block Name":"New Re-Usable Name",m.componentizeOptions.name);if(null!=t)if(u.showLoadingOverlay("saveReusable()"),m.componentizeOptions.name=t,m.isSelectableEnabled&&m.isDOMNodesSelected){var n=jQuery("#ct-dom-tree").find(".ct-selected-dom-node").first().parent().parent().children(".ct-dom-tree-node").has(".ct-selected-dom-node"),i=[];n.each(function(){i.push(jQuery(this).attr("ng-attr-tree-id"))}),m.selectedComponents=[];for(var s=0;e=i[s],s<=i.length-1;s++)m.findComponentItem(m.componentsTree.children,e,m.addSelectedComponent);m.saveComponentAsView(null,m.selectedComponents,o)}else m.findComponentItem(m.componentsTree.children,e,m.saveComponentAsView,o);else alert("Name can't be empty")},m.replaceReusablePart=function(e,o){m.replaceAfterReusable=e,m.loadReusablePart(o)},m.showComponentize=function(e){u.showDialogWindow(),m.componentizeOptions.id=e,u.dialogForms.showComponentizeForm=!0},m.componentize=function(){if(m.isSelectableEnabled&&m.isDOMNodesSelected){var e=jQuery("#ct-dom-tree").find(".ct-selected-dom-node").first().parent().parent().children(".ct-dom-tree-node").has(".ct-selected-dom-node"),o=[];e.each(function(){o.push(jQuery(this).attr("ng-attr-tree-id"))}),m.selectedComponents=[];for(var t,n=0;t=o[n],n<=o.length-1;n++)m.findComponentItem(m.componentsTree.children,t,m.addSelectedComponent);m.postComponentize(null,m.selectedComponents)}else 0<m.componentizeOptions.idToUpdate?(m.componentizeOptions.assetId=null,m.findComponentItem(m.componentsTree.children,m.componentizeOptions.id,m.postComponentize),m.componentizeOptions.id=null):m.postAsset(m.componentizeOptions.screenshot,function(){m.findComponentItem(m.componentsTree.children,m.componentizeOptions.id,m.postComponentize),m.componentizeOptions.id=null});u.hideDialogWindow()},m.showPageComponentize=function(e){u.showDialogWindow(),u.dialogForms.showPageComponentizeForm=!0},m.tryPageComponentize=function(){m.postAsset(m.componentizeOptions.screenshot,function(){m.pageComponentize()}),u.hideDialogWindow()},m.addSelectedComponent=function(e,o){m.selectedComponents.push(o)},m.addWidget=function(e,o,t){var n=m.component.id;m.addComponent("ct_widget","widget"),m.component.options[n].model.class_name=e,m.setOption(n,"ct_widget","class_name"),m.component.options[n].model.id_base=o,m.setOption(n,"ct_widget","id_base"),m.component.options[n].model.pretty_name=t,m.setOption(n,"ct_widget","pretty_name"),m.component.options[n].nicename=t+" (#"+n+")",m.updateFriendlyName(n)},m.addSidebar=function(e){var o=m.component.id;m.addComponent("ct_sidebar","sidebar"),m.setOptionModel("sidebar_id",e,o,"ct_sidebar"),m.rebuildDOM(o)},m.loadWidgetForm=function(){m.renderWidget(m.component.active.id,!0)},m.applyWidgetInstance=function(e){m.log&&console.log("applyWidgetInstance()",e),e||(e=m.component.active.id);var o=m.component.options[e];if("ct_widget"!=o.name)return!1;var c={},t=jQuery("#ct-widget-form",window.parent.document).serializeArray(),l=o.original.id_base,n=jQuery("#ct-widget-form input:checkbox",window.parent.document).map(function(){if(!this.checked)return{name:this.name,value:!!this.checked&&this.value}});for(i=0;i<n.length;i++)t.push(n[i]);jQuery.each(t,function(e,o){var t=o.name.replace(l,"");if(-1<(t=(t=t.replace(/widget-\[\d\]\[/,"")).replace("]","")).indexOf("[")){var n=t.replace(/\[(.*)\]/,""),i=[],s=t.replace(n,"").match(/\[[^\]]*\]/g),a=function(e,o,t,n){0==n.length?e[t]=o:(void 0===e[t]&&(e[t]={}),a(e[t],o,n.shift(),n))};for(j=0;j<s.length;j++)"[]"!=s[j]&&i.push(s[j].replace(/\[|\]/g,""));if(0<i.length){var r=i.slice();void 0===c[n]&&(c[n]={}),a(c[n],o.value,r.shift(),r)}else void 0===c[n]&&(c[n]=[]),c[n].push(o.value)}else""!==t&&(c[t]=o.value)}),m.component.options[m.component.active.id].model.instance=c,m.setOption(m.component.active.id,"ct_widget","instance"),m.renderWidget(m.component.active.id)},m.loadHTMLForm=function(){u.showDialogWindow(),angular.element("#ct-html-component-form").val(m.component.options[m.component.active.id].model.html)},m.applyCodeBlock=function(e,o){m.log&&console.log("applyCodeBlock()",e,o),m.applyCodeBlockPHP(e,o),m.applyCodeBlockJS(e,o),m.applyCodeBlockCSS(e,o)},m.applyCodeBlockPHP=function(e,o){void 0===e&&(e=m.component.active.id),void 0===o&&(o=!0),m.log&&console.log("applyCodeBlockPHP()",e),o&&m.setOption(e,"ct_code_block","code-php",!1,!1);var t="#"+m.component.options[e].selector,n=m.getOption("code-php",e);m.execCode(n,t,m.insertElementContent)},m.applyCodeBlockJS=function(e,o){m.applyingComponentJS=!0,jQuery(".oxygen-code-error-container",u.oxygenUIElement).hide().html(""),void 0===e&&(e=m.component.active.id),void 0===o&&(o=!0),m.log&&console.log("applyCodeBlockJS()",e,o),o&&m.setOption(e,"ct_code_block","code-js",!1,!1),code=m.getOption("code-js",e),m.outputJSScript("js-code-",e,code),m.applyingComponentJS=!1},m.applyCodeBlockCSS=function(e,o){void 0===e&&(e=m.component.active.id),void 0===o&&(o=!0),m.log&&console.log("applyCodeBlockCSS()",e,o),o&&m.setOption(e,"ct_code_block","code-css",!1,!1),code=m.getOption("code-css",e);var t=m.component.options[e].selector;code=code.replace(new RegExp("%%ELEMENT_ID%%","g"),t),code=m.replaceGlobalColors(code),m.outputCSSStyles("ct_code_block_css_"+e,code)},m.outputJSScript=function(e,o,t){m.log&&console.log("outputJSScript()",e,o);var n=m.component.options[o].selector;t=t.replace(new RegExp("%%ELEMENT_ID%%","g"),n);var i=document.getElementById(e+o);i&&document.body.removeChild(i);var s=document.createElement("script");s.type="text/javascript",s.setAttribute("id",e+o);try{s.appendChild(document.createTextNode(t)),document.body.appendChild(s)}catch(e){s.text=t,document.body.appendChild(s)}},m.setupJSErrorNotice=function(){window.onerror=function(e,o,t){if(m.applyingComponentJS)jQuery(".oxygen-code-error-container",u.oxygenUIElement).show().html(e+" on line #"+t);else{if("object"==typeof o)return;if(void 0!==o.indexOf&&-1<o.indexOf("/component-framework/vendor/aos/aos.js"))return;if(0<=e.indexOf("ResizeObserver loop limit exceeded"))return;if(m.isRenderingAJAXElement)return;m.showNoticeModal("<div>"+e+" on line #"+t+" in "+o+"</div>")}}},m.insertElementContent=function(e,o,t){m.log&&console.log("insertElementContent()",e,o);var n=angular.element(o);n.html(""),m.cleanInsert("<span class='removeOnInsert'>"+e+"</span>",n),m.adjustResizeBox()},m.getLinkId=function(e){void 0===e&&(e=m.component.active.id);var o=jQuery("[ng-attr-component-id='"+e+"']","#ct-builder").closest(".ct-links");return 0<o.length&&o.attr("ng-attr-component-id")},m.addSeparator=function(e){m.separatorAdded=!0},m.addComponentClassesStyles=function(e){if(e.options&&void 0!==e.options.classes)for(var o in m.classes)if(e.options&&-1<e.options.classes.indexOf(o)){var t=e.options.classes.indexOf(o);e.options.classes.splice(t,1),e.options.classes.push({name:o,styles:m.classes[o]})}for(var n in e.children)if(e.children.hasOwnProperty(n)){var i=e.children[n];m.addComponentClassesStyles(i)}},m.parseTreeClassesStyles=function(e){if(e.options&&void 0!==e.options.classes){for(var o in e.options.classes)if(e.options.classes.hasOwnProperty(o)&&null!=e.options.classes[o].name){var t=e.options.classes[o].name,n=e.options.classes[o].styles;e.options.classes[o]=t,void 0!==m.classes[t]||(m.classes[t]=n)}m.classesCached=!1,m.outputCSSOptions()}for(var o in e.children)if(e.children.hasOwnProperty(o)){var i=e.children[o];m.parseTreeClassesStyles(i)}}}]),function(e,t){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(e,o){return t(e,o)});else if("undefined"!=typeof exports){var o=require("jquery");t(exports,o)}else t(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,r){function o(n,t){function s(e,o,t){return e[o]=t,e}function e(){return i}var i={},a={};this.addPair=function(e){if(!c.validate.test(e.name))return this;var o=function(e,o){for(var t,n=e.match(c.key);void 0!==(t=n.pop());)c.push.test(t)?o=s([],(i=e.replace(/\[\]$/,""),void 0===a[i]&&(a[i]=0),a[i]++),o):c.fixed.test(t)?o=s([],t,o):c.named.test(t)&&(o=s({},t,o));var i;return o}(e.name,function(e){switch(r('[name="'+e.name+'"]',t).attr("type")){case"checkbox":return"on"===e.value||e.value;default:return e.value}}(e));return i=n.extend(!0,i,o),this},this.addPairs=function(e){if(!n.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var o=0,t=e.length;o<t;o++)this.addPair(e[o]);return this},this.serialize=e,this.serializeJSON=function(){return JSON.stringify(e())}}var c={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return o.patterns=c,o.serializeObject=function(){return new o(r,this).addPairs(this.serializeArray()).serialize()},o.serializeJSON=function(){return new o(r,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==r.fn&&(r.fn.serializeObject=o.serializeObject,r.fn.serializeJSON=o.serializeJSON),e.FormSerializer=o});
CTFrontendBuilder.controller("ControllerMediaQueries",["$scope","$parentScope","$http","$timeout","$interval",function(c,o,e,n,t){c.currentMedia="default",c.initMedia=function(){var e=c.getPageWidth(),t=c.getBreakPointWidth("tablet"),i=c.getBreakPointWidth("phone-landscape"),s=c.getBreakPointWidth("phone-portrait");c.previousBreakPointsValues={"page-width":{page:c.pageSettingsMeta["max-width"],global:c.globalSettings["max-width"]},tablet:c.globalSettings.breakpoints.tablet,"phone-landscape":c.globalSettings.breakpoints["phone-landscape"],"phone-portrait":c.globalSettings.breakpoints["phone-portrait"]},c.mediaList={default:{maxSize:"100%",title:"Full Screen"},"page-width":{maxSize:e+"px",title:"Page container ("+e+"px) and below"},tablet:{maxSize:t-1+"px",title:"Less than "+t+"px"},"phone-landscape":{maxSize:i-1+"px",title:"Less than "+i+"px"},"phone-portrait":{maxSize:s-1+"px",title:"Less than "+s+"px"}},c.mediaListAbove={default:{minSize:"100%",title:"Full Screen"},"page-width":{minSize:e+1+"px",title:"Above Page container ("+e+"px)"},tablet:{minSize:t+"px",title:"At or above "+t+"px"},"phone-landscape":{minSize:i+"px",title:"At or above "+i+"px"},"phone-portrait":{minSize:s+"px",title:"At or above "+s+"px"}}},c.setCurrentMedia=function(e,t,i){if(c.getCurrentMedia()!=e){if(c.currentMedia=e,void 0===t||t){var s=c.getMediaPreviewSize(e,i);o.adjustViewport(s),"default"==e?o.hideViewportRuller():o.showViewportRuller()}if(o.adjustViewportContainer(),o.disableContentEdit(),o.disableSelectable(),o.closeAllTabs(["advancedSettings","componentBrowser"]),c.applyModelOptions(),o.checkTabs(),c.parentScope.activeForEditBgLayer=!1,!c.isEditing("custom-selector"))var a=n(function(){o.scrollToComponent(c.getActiveComponent().attr("id")),n.cancel(a)},0,!1)}},c.getCurrentMedia=function(){return c.currentMedia},c.getMediaTitle=function(e,t,i){return e?"never"==e?"Never":"always"==e?"Always":void 0!==c.mediaListAbove&&!0===t?i&&"page-width"==e?"Page container ("+c.getPageWidth("global")+"px) and above":c.mediaListAbove[e].title:void 0!==c.mediaList?i&&"page-width"==e?"Page container ("+c.getPageWidth("global")+"px) and below":c.mediaList[e].title:"":""},c.getMediaMaxSize=function(e){return void 0!==c.mediaList[e]&&c.mediaList[e].maxSize},c.getMediaMinSize=function(e){return void 0!==c.mediaList[e]&&c.mediaListAbove[e].minSize},c.getMediaPreviewSize=function(e,t){if("default"==e)return"100%";var i=c.sortedMediaList(!1,t);for(var s in i){if(i[s]==e){if(void 0!==(e=i[parseInt(s)+1])){if("page-width"==e&&t)var a=parseInt(c.getPageWidth(!0))+1;else a=parseInt(c.mediaList[e].maxSize)+1;return a+"px"}a=c.getBreakPointWidth("phone-portrait")-120;return(a=Math.max(a,320))+"px"}}},c.getMediaNameBySize=function(e){var t=[];for(var i in c.mediaList)c.mediaList.hasOwnProperty(i)&&e<parseInt(c.mediaList[i].maxSize)&&t.push(i);return 0<t.length?t[t.length-1]:"default"},c.getAllMediaNames=function(e){if("default"==e)return[];var t=[];for(var i in c.mediaList)c.mediaList.hasOwnProperty(i)&&parseInt(c.mediaList[e].maxSize)<parseInt(c.mediaList[i].maxSize)&&t.push(i);return t.push(e),t},c.setMediaParameter=function(e,t,i,s){c.component.options[e].media||(c.component.options[e].media={}),c.component.options[e].media[c.currentMedia]||(c.component.options[e].media[c.currentMedia]={}),c.component.options[e].media[c.currentMedia][s]||(c.component.options[e].media[c.currentMedia][s]={}),c.component.options[e].media[c.currentMedia][s][t]=i},c.isHasMedia=function(e,t){if(null==t&&(t=c.component.active.id),c.isEditing("id")){if("ct_reusable"!=c.component.active.name)return!!(c.component.options[t].media&&c.component.options[t].media[e]&&c.component.options[t].media[e][c.currentState]);var i=c.component.options[t].original.view_id;if(!c.postsData[i])return!1;var s=c.postsData[i].post_tree;return!!c.findMedia(s,e)}return c.isEditing("class")?!!(c.classes[c.currentClass]&&c.classes[c.currentClass].media&&c.classes[c.currentClass].media[e]&&c.classes[c.currentClass].media[e][c.currentState]):c.isEditing("custom-selector")&&!c.isEditing("class")?!!(c.customSelectors[c.selectorToEdit]&&c.customSelectors[c.selectorToEdit].media&&c.customSelectors[c.selectorToEdit].media[e]&&c.customSelectors[c.selectorToEdit].media[e][c.currentState]):void 0},c.isHasMedias=function(){for(var e in c.mediaList)if(c.mediaList.hasOwnProperty(e)){if("default"===e)continue;if(!0===c.isHasMedia(e))return!0}return!1},c.removeComponentMedia=function(e,t){c.cancelDeleteUndo(),c.isEditing("id")?(null==t&&(t=c.component.active.id),c.component.options[t].media&&c.component.options[t].media[e]&&c.component.options[t].media[e][c.currentState]&&(c.component.options[t].media[e][c.currentState]={},delete c.component.options[t].media[e][c.currentState],c.outputCSSOptions(t),c.applyModelOptions(),c.findComponentItem(c.componentsTree.children,t,c.removeMediaFromTree,e))):c.isEditing("class")?c.classes[c.currentClass]&&c.classes[c.currentClass].media&&c.classes[c.currentClass].media[e]&&c.classes[c.currentClass].media[e][c.currentState]&&(c.classes[c.currentClass].media[e][c.currentState]={},delete c.classes[c.currentClass].media[e][c.currentState],c.outputCSSOptions(),c.applyModelOptions()):c.isEditing("custom-selector")&&c.customSelectors[c.selectorToEdit]&&c.customSelectors[c.selectorToEdit].media&&c.customSelectors[c.selectorToEdit].media[e]&&c.customSelectors[c.selectorToEdit].media[e][c.currentState]&&(c.customSelectors[c.selectorToEdit].media[e][c.currentState]={},delete c.customSelectors[c.selectorToEdit].media[e][c.currentState],c.outputCSSOptions(),c.applyModelOptions()),c.unsavedChanges(),c.adjustResizeBox()},c.removeMediaFromTree=function(e,t,i){delete t.options.media[i]},c.sortedMediaList=function(e,t){if(!0===e){var i=c.mediaListAbove;size="minSize"}else{i=c.mediaList;size="maxSize"}var s=["default"],a=!1;if(i)if(!0===t)var o=c.globalSettings["max-width"];else o=i["page-width"][size];for(var n in i)if(i.hasOwnProperty(n)){if("default"==n||"page-width"==n)continue;parseInt(i[n][size])>=parseInt(o)||a?s.push(n):(s.push("page-width"),s.push(n),a=!0)}return a||s.push("page-width"),s},c.getCurrentBreakpointValue=function(e,t){if(c.isEditing("id"))if(id=c.component.active.id,"default"==t){if(c.component.options[id][c.currentState]&&c.component.options[id][c.currentState][e])return c.component.options[id][c.currentState][e]}else if(c.component.options[id].media&&c.component.options[id].media[t]&&c.component.options[id].media[t][c.currentState]&&c.component.options[id].media[t][c.currentState][e])return c.component.options[id].media[t][c.currentState][e];if(c.isEditing("class"))if("default"==t){if(c.classes[c.currentClass]&&c.classes[c.currentClass][c.currentState]&&c.classes[c.currentClass][c.currentState][e])return c.classes[c.currentClass][c.currentState][e]}else if(c.classes[c.currentClass]&&c.classes[c.currentClass].media&&c.classes[c.currentClass].media[t]&&c.classes[c.currentClass].media[t][c.currentState]&&c.classes[c.currentClass].media[t][c.currentState][e])return c.classes[c.currentClass].media[t][c.currentState][e];if(c.isEditing("custom-selector")&&!c.isEditing("class"))if("default"==t){if(c.customSelectors[c.selectorToEdit]&&c.customSelectors[c.selectorToEdit][c.currentState]&&c.customSelectors[c.selectorToEdit][c.currentState][e])return c.customSelectors[c.selectorToEdit][c.currentState][e]}else if(c.customSelectors[c.selectorToEdit]&&c.customSelectors[c.selectorToEdit].media&&c.customSelectors[c.selectorToEdit].media[t]&&c.customSelectors[c.selectorToEdit].media[t][c.currentState]&&c.customSelectors[c.selectorToEdit].media[t][c.currentState][e])return c.customSelectors[c.selectorToEdit].media[t][c.currentState][e];return""},c.getCustomBreakpointValue=function(e,t,i){if(i.id&&i.state)if("default"==t){if(c.component.options[i.id][i.state]&&c.component.options[i.id][i.state][e])return c.component.options[i.id][i.state][e]}else if(c.component.options[i.id].media&&c.component.options[i.id].media[t]&&c.component.options[i.id].media[t][i.state]&&c.component.options[i.id].media[t][i.state][e])return c.component.options[i.id].media[t][i.state][e];if(i.class&&i.state)if("default"==t){if(c.classes[i.class]&&c.classes[i.class][i.state]&&c.classes[i.class][i.state][e])return c.classes[i.class][i.state][e]}else if(c.classes[i.class]&&c.classes[i.class].media&&c.classes[i.class].media[t]&&c.classes[i.class].media[t][i.state]&&c.classes[i.class].media[t][i.state][e])return c.classes[i.class].media[t][i.state][e];if(i.selector&&i.state)if("default"==t){if(c.customSelectors[i.selector]&&c.customSelectors[i.selector][i.state]&&c.customSelectors[i.selector][i.state][e])return c.customSelectors[i.selector][i.state][e]}else if(c.customSelectors[i.selector]&&c.customSelectors[i.selector].media&&c.customSelectors[i.selector].media[t]&&c.customSelectors[i.selector].media[t][i.state]&&c.customSelectors[i.selector].media[t][i.state][e])return c.customSelectors[i.selector].media[t][i.state][e];return""},c.getClosestBreakpointValue=function(e,t,i){if(!c.isEditing("media")&&!i)return"";void 0===t&&(t=c.currentMedia);var s=c.sortedMediaList().reverse(),a=!1;for(var o in s)if(s.hasOwnProperty(o)){var n=s[o];if(a){var r=c.getCurrentBreakpointValue(e,n);if(void 0!==i&&(r=c.getCustomBreakpointValue(e,n,i)),r)return r}n==t&&(a=!0)}return 0<e.indexOf("-unit")&&-1<e.indexOf("container-padding")?c.globalSettings.sections[e]:""}}]);
CTFrontendBuilder.controller("ControllerAPI",["$scope","$parentScope","$http","$timeout",function(d,c,e,t){d.itemOptions={},d.showAddItemDialog=function(e,t,o,n,i,r,a,m,p){var s;if(void 0!==m){if("component"===t){var l=[];l=p?d.experimental_components[p].items[m].contents:d.libraryCategories[m].contents,s=_.findWhere(l,{id:e,name:a,page:r,source:i})}else if("page"===t||"template"===t){l=[];l=p?"template"===t?d.experimental_components[p].templates:d.experimental_components[p].pages:d.libraryPages[m].contents,s=_.findWhere(l,{id:e,name:a,source:i})}if(void 0!==s.firstFew&&0===s.firstFew)return c.showDialogWindow(),void(c.dialogForms.showProComponentPageAddDialog=!0)}else s=void 0!==a&&void 0!==r?d.getSourceComponent(e,a,r):d.getAPIItem(e,t);"template"===t&&(t="page"),d.itemOptions={id:e,type:t,termId:o,termType:n,currentItem:s},void 0!==i&&(d.itemOptions.source=i),void 0!==r&&(d.itemOptions.page=r),void 0!==p&&(d.itemOptions.designSet=p),d.addItem()},d.addItem=function(e,t,o,n,i,r){switch(d.cancelDeleteUndo(),null==e&&(e=d.itemOptions.id),null==t&&(t=d.itemOptions.type),null==n&&null!=d.itemOptions.source&&(n=d.itemOptions.source),null==i&&null!=d.itemOptions.page&&(i=d.itemOptions.page),null==r&&null!=d.itemOptions.designSet&&(r=d.itemOptions.designSet),void 0!==o&&o.stopPropagation(),d.itemOptions={},t){case"component":void 0!==n&&void 0!==i?d.getComponentFromSource(e,n,r,i,d.addComponentFromSource):d.makeAPICall("get_components",{id:e},d.addReusableChildren);break;case"page":void 0!==n?d.getPageFromSource(e,n,r,d.addPageFromSource):d.makeAPICall("get_pages",{id:e},d.addReusableChildren)}c.hideDialogWindow()},d.getSourceComponent=function(t,e,o){var n=d.experimental_components[e].items.filter(function(e){return e.id==t&&e.page==o});return n[0]?n[0]:null}}]);
CTFrontendBuilder.controller("ControllerDragnDropLists",["$scope","$timeout","$parentScope","$interval",function(m,o,e,t){m.isHorizontal=!1,m.ghostElementForImg=new Image,m.ghostElementForImg.src=CtBuilderAjax.oxyFrameworkURI+"/toolbar/UI/images/ghost_img.png",m.dragoverCallback=function(e,t,n,r){if(m.hideResizeBox(),jQuery("body").addClass("oxygen-dragging"),m.currentDragoverElement=angular.element(document.querySelector("#"+e)),"'ct_div_block'"==m.selectedDragElement.attr("dnd-type")&&"'oxy_dynamic_list'"==m.selectedDragElement.parent().attr("dnd-type"))return!1;if("'ct_div_block'"==m.currentDragoverElement.attr("dnd-type")&&"'ct_section'"==m.selectedDragElement.attr("dnd-type")&&"ct-builder"!=m.currentDragoverElement.parent().attr("id"))return!1;if("'ct_div_block'"==m.selectedDragElement.attr("dnd-type")&&"'ct_new_columns'"==m.selectedDragElement.parent().attr("dnd-type")&&"'ct_new_columns'"!=m.currentDragoverElement.attr("dnd-type"))return!1;if("'ct_div_block'"==m.selectedDragElement.attr("dnd-type")&&"'oxy_tabs'"==m.selectedDragElement.parent().attr("dnd-type")&&"'oxy_tabs'"!=m.currentDragoverElement.attr("dnd-type"))return!1;if("'ct_div_block'"==m.selectedDragElement.attr("dnd-type")&&"'oxy_tabs_contents'"==m.selectedDragElement.parent().attr("dnd-type")&&"'oxy_tabs_contents'"!=m.currentDragoverElement.attr("dnd-type"))return!1;if(m.currentDragoverElement.is("[dnd-horizontal-list]")?"column"==m.currentDragoverElement.css("flex-direction")?m.isHorizontal=!1:m.isHorizontal=!0:m.currentDragoverElement.children().eq(0).is("[dnd-horizontal-list]")&&("column"==m.currentDragoverElement.children().eq(0).css("flex-direction")?m.isHorizontal=!1:m.isHorizontal=!0),("'ct_div_block'"!=m.currentDragoverElement.attr("dnd-type")||"'ct_new_columns'"!=m.currentDragoverElement.parent().attr("dnd-type"))&&m.onCheckEdgeOfContainer(m.currentDragoverElement,t))return!1;angular.element(document.querySelectorAll(".dndDragover")).removeClass("dndDragover"),"'ct_section'"==m.currentDragoverElement.attr("dnd-type")?m.currentDragoverElement.children(".ct-inner-wrap").addClass("dndDragover"):m.currentDragoverElement.addClass("dndDragover");var a=m.selectedDragElementClone,l=angular.element(document.querySelector(".dndPlaceholder"));if(void 0!==m.selectedDragElement||0==l.children().length){l.parent(".oxy-icon-box").length&&l.prependTo(l.parent(".oxy-icon-box").children(".oxy-icon-box-content").children(".oxy-icon-box-link")),l.parent(".oxy-pricing-box").length&&l.prependTo(l.parent(".oxy-pricing-box").children(".oxy-pricing-box-cta")),l.after(a),m.selectedDragElement.addClass("hide");var d=angular.element(document.querySelector(".dndDraggingContainer"));"'ct_div_block'"==d.attr("dnd-type")&&0==d.children(":not(.dndDraggingSource)").length&&d.addClass("emptyDefaultSize")}return void 0!==l&&(angular.element(document.querySelectorAll(".dndTempEmptyHeight")).removeClass("dndTempEmptyHeight"),l.parent().addClass("dndTempEmptyHeight")),angular.element(document.querySelectorAll(".dndAvailableDragTarget")).removeClass("dndAvailableDragTarget"),"'ct_section'"==m.currentDragoverElement.attr("dnd-type")?(m.currentDragoverElement.children(".ct-inner-wrap").children(".ct-div-block").addClass("dndAvailableDragTarget"),m.currentDragoverElement.children(".ct-inner-wrap").children(".ct-section").children(".ct-section-inner-wrap").addClass("dndAvailableDragTarget"),m.currentDragoverElement.children(".ct-inner-wrap").children(".ct-new-columns").children(".ct-div-block").addClass("dndAvailableDragTarget")):(m.currentDragoverElement.children(".ct-div-block").addClass("dndAvailableDragTarget"),m.currentDragoverElement.children(".ct-section").children(".ct-section-inner-wrap").addClass("dndAvailableDragTarget"),m.currentDragoverElement.children(".ct-new-columns").children(".ct-div-block").addClass("dndAvailableDragTarget")),m.currentDragoverElement.parent().addClass("dndAvailableDragTarget").children(".ct-div-block").addClass("dndAvailableDragTarget"),m.currentDragoverElement.parent().children(".ct-section").children(".ct-section-inner-wrap").addClass("dndAvailableDragTarget"),m.currentDragoverElement.parent().children(".ct-new-columns").children(".ct-div-block").addClass("dndAvailableDragTarget"),!0},m.dragstartCallback=function(e,t,n){m.selectedDragElement=m.getComponentById(e),m.selectedDragElement.parent().addClass("dndDraggingContainer"),"'ct_div_block'"!=m.selectedDragElement.attr("dnd-type")&&"'ct_link'"!=m.selectedDragElement.attr("dnd-type")||""==m.selectedDragElement.html()&&m.selectedDragElement.addClass("emptyDefaultSize"),"'ct_inner_content'"==m.selectedDragElement.attr("dnd-type")&&""==m.selectedDragElement.html()&&m.selectedDragElement.css({height:m.selectedDragElement.height()}),m.selectedDragElement.find("iframe").each(function(e){var t=angular.element(document.createElement("div"));t.css({background:"rgba(0,0,0,0.5)",width:jQuery(this).outerWidth()+"px",height:jQuery(this).outerHeight()+"px"}),"'ct_video'"==m.selectedDragElement.attr("dnd-type")&&t.css({position:"absolute"}),jQuery(this).replaceWith(t)}),m.selectedDragElementClone=m.selectedDragElement.clone().removeClass("dndDraggingSource dndDragging ct-active").addClass("dndDraggingCloneSource"),m.selectedDragElementId=m.selectedDragElement.attr("id");"'ct_image'"==m.selectedDragElement.attr("dnd-type")?n.dataTransfer.setDragImage(m.ghostElementForImg,-0,-0):m.changeGhostImage(e,t,n,0,0)},m.dragendCallback=function(e,t,n){m.selectedDragElement.removeClass("hide").parent().removeClass("dndDraggingContainer").removeClass("emptyDefaultSize"),angular.element(document.querySelectorAll(".dndDragover")).removeClass("dndDragover"),angular.element(document.querySelectorAll(".dndAvailableDragTarget")).removeClass("dndAvailableDragTarget");var r,a,l,d,o,c,i=m.selectedDragElementClone;if(a=m.selectedDragElement.attr("ng-attr-component-id"),r=angular.element(parent.document.querySelector('[ng-attr-tree-id="'+a+'"]')),1e5<(c=m.selectedDragElement.parent().closest("[ng-attr-component-id]").attr("ng-attr-component-id"))&&(c=m.innerContentRoot&&m.innerContentRoot.id?m.innerContentRoot.id:0),o=angular.element(parent.document.querySelector('[ng-attr-tree-id="'+c+'"]')),null!=(d=i.parent().closest("[ng-attr-component-id]").attr("ng-attr-component-id"))){1e5<d&&(d=m.innerContentRoot&&m.innerContentRoot.id?m.innerContentRoot.id:0),l=angular.element(parent.document.querySelector('[ng-attr-tree-id="'+d+'"]'));var g=i.parent().children(":not(.dndDraggingSource)").index(i),s=m.findComponentItem(m.componentsTree.children,d,m.calculateBuiltInOffset);i.parent().removeClass("dndTempEmptyHeight"),i.remove(),m.updateDomTreeNBuilder(r,l,o,g+s);m.getComponentById(a);m.activateComponent(e),m.updateBreadcrumbs(e),m.adjustResizeBox()}else console.log("Drag failed: not created DNDPlaceholder");jQuery("body").removeClass("oxygen-dragging")},m.changeGhostImage=function(e,t,n,r,a){var l=document.createElement("div");l.className="dndGhostWrapper";var d=document.createElement("div");d.className+="dndGhostSource",d.innerHTML=m.component.options[e].nicename?m.component.options[e].nicename.replace(" (#"+e+")",""):m.calcDefaultComponentTitle(m.component.options[e]).replace(" (#"+e+")",""),l.appendChild(d),document.querySelector("#"+t).appendChild(l),n.dataTransfer.setDragImage(l,-r,-a),o(function(){l.parentNode.removeChild(l)},500,!1)},m.updateDomTreeNBuilder=function(e,t,n,r){var a=n[0].attributes["ng-attr-tree-id"].value,l=t[0].attributes["ng-attr-tree-id"].value,d=(t.parent().attr("ng-attr-tree-id"),e[0].attributes["ng-attr-tree-id"].value);m.componentInsertId=l,m.newComponentKey=r,m.reorderSameParent=a==l,m.findParentComponentItem(m.componentsTree,d,m.cutComponentFromTree),m.findComponentItem(m.componentsTree.children,m.componentInsertId,m.pasteComponentToTree),m.findComponentItem(m.componentsTree.children,d,m.updateComponentParentId),m.findParentComponentItem(m.componentsTree,d,m.updateCurrentActiveParent);var o=m.getComponentById(l);o&&o.hasClass("ct-new-columns")&&a==l?m.rebuildDOM(l):(o&&o.hasClass("ct-new-columns")?m.rebuildDOM(a):o&&o.hasClass("oxy-icon-box"),m.rebuildDOM(d,!0)),m.cancelDeleteUndo()},m.onCheckEdgeOfContainer=function(e,t){var n=e[0].getBoundingClientRect();return t.clientY<=n.top+n.height&&t.clientY>=n.top+n.height-3||t.clientY>=n.top&&t.clientY<=n.top+3||t.clientX<=n.left+n.width&&t.clientX>=n.left+n.width-3||t.clientX>=n.left&&t.clientX<=n.left+3},m.dragstartResizeBoxCallback=function(e,t){void 0===t&&(t=m.component.active.id);var n=m.component.options[t].selector;angular.element(document.querySelector("#oxygen-resize-box-drag-handler")).removeClass("dndDraggingSource dndDragging"),m.getComponentById(t).addClass("dndDraggingSource dndDragging"),m.dragstartCallback(t,n,e)},m.dragendResizeBoxCallback=function(e,t){var n=t||m.component.active.id;m.dragendCallback(n,m.selectedDragElementDNDType,e)}}]);
CTFrontendBuilder.controller("ControllerUndoRedo",["$scope","$parentScope","$timeout","$interval",function(f,t,n,o){var r={},l={},h=!1,p=!0,u=new UndoManager;function e(e){d();var t=angular.copy(e.data),n=angular.copy(l),o=DeepDiff(n,t);o&&m(o)}function m(e){var r=!(h=!0),c=!1,l=1/0,p=[],u=[],m=[];if(e.forEach(function e(t){var n=t.path;if("componentsTree"===n[0]){var o=n.lastIndexOf("children");if(0<o)if(n.includes("options")){c=!0;var a=n.slice(0,o+2).join(".");-1==u.indexOf(a)&&u.push(a);var s=_.last(n);("tag"==s||"original"==s&&(_.has(t.lhs,"tag")||_.has(t.rhs,"tag")))&&-1==m.indexOf(a)&&m.push(a)}else r=!0,l=Math.min(o,l),a=n.slice(0,l).join("."),-1==p.indexOf(a)&&p.push(a)}switch(t.kind){case"EDIT":case"NEW":objectPath.set(f,n,t.rhs);break;case"DELETE":objectPath.del(f,n);break;case"ARRAY":var i=t.item;i.path=n.concat(t.index),e(i)}}),r){var o=[];l<1/0&&p.forEach(function(e){var t=objectPath.get(f,e,null);if(t&&"number"==typeof t.id){var n=t.id;void 0===o[n]&&(o[n]=t)}}),0==o.length&&o.push(f.componentsTree),o.forEach(function(e){var t=e.id,n=e.name,o=f.getComponentById(t);o&&0<o.closest("[ctdynamiclist]").length&&f.updateRepeaterQuery(t),"ct_slide"==n&&(t=e.options.ct_parent),f.rebuildDOM(t)})}if(c){var d=[];u.forEach(function(e){var t=objectPath.get(f,e,null),n=f.component.options;if(t&&t.id&&t.options){var o=t.id,a=t.name,s=n[o].nicename,i=n[o].ct_parent;if(n[o]={},f.applyComponentDefaultOptions(o,a,t),f.applyComponentSavedOptions(o,t),f.applyModelOptions(o,a),n[o].nicename=s,n[o].ct_parent=i,!r&&"object"==typeof f.componentsTemplates&&f.componentsTemplates.hasOwnProperty(a)){var c=f.componentsTemplates[a].rebuildTriggerOptions;c&&_.each(t.options.original,function(e,t){c.includes(t)&&!d[o]&&(d[o]=a)})}}}),d.forEach(function(e,t){n(function(){f.renderComponentWithAJAX("oxy_render_"+e,t)})}),!r&&m.length&&m.forEach(function(e){var t=objectPath.get(f,e,null);t&&f.rebuildDOM(t.id)})}f.classesCached=!1,f.updateAllComponentsCacheStyles(),f.outputCSSOptions(),f.outputPageSettingsCSS(),f.adjustResizeBox(),f.cancelDeleteUndo(),f.skipChanges=!0,f.waitOxygenTree(function(){h=!1})}function d(){l={component:{active:f.component.active},componentsTree:f.componentsTree,classes:f.classes,currentClass:f.currentClass,componentsClasses:f.componentsClasses,customSelectors:f.customSelectors,styleSets:f.styleSets,styleFolders:f.styleFolders,styleSheets:f.styleSheets,currentActiveStylesheetFolder:f.currentActiveStylesheetFolder,pageSettingsMeta:f.pageSettingsMeta,globalSettings:f.globalSettings,globalColorSets:f.globalColorSets,easyPostsCustomTemplates:f.easyPostsCustomTemplates,commentsListCustomTemplates:f.commentsListCustomTemplates,elementPresets:f.elementPresets}}function a(){if(0!=p&&!h){d();var e=angular.copy(l);if(!_.isEqual(e,r)){var t=DeepDiff(e,r),n=DeepDiff(r,e);if(t&&n){var o,a,s,i=!0;for(var c in n)if("component"!=n[c].path[0]){i=!1;break}if(!i)f.skipChanges?f.skipChanges=!1:(o=t,a=n,s=f.component.options[f.component.active.id].nicename||f.component.active.name||"Unknown",u.add({time:new Date,name:s,data:angular.copy(l),undo:function(){m.call(this,o)},redo:function(){m.call(this,a)}})),r=angular.copy(l)}}}}f.undoManager=u,f.pauseDataWatcher=function(){a(),p=!1},f.resumeDataWatcher=function(){p=!0,a()},f.watchIntervalCallback=a,f.firstHistoryItem={},f.historyItems=[],f.skipChanges=!1,f.canUndo=!1,f.canRedo=!1,f.undo=function(){0==h&&u.undo()},f.redo=function(){0==h&&u.redo()},u.setChangeCallback(function(){f.canUndo=u.hasUndo(),f.canRedo=u.hasRedo();var o=[],a=u.getIndex(),e=u.getCommands();f.firstHistoryItem.active=-1==a,e.forEach(function(e,t){var n={index:t,time:e.time.toLocaleTimeString(),name:e.name,active:a==t};o.push(n)}),f.historyItems=o}),u.setDoCallback(e),f.doFirstHistoryItem=function(){u.setIndex(-1),e(f.firstHistoryItem)},f.$on("oxygen_components_loaded",function(){var e=o(function(){0==t.overlaysCount&&(!function(){d(),r=angular.copy(l);var e=new Date;f.firstHistoryItem={index:-1,name:"Initial State",time:e.toLocaleTimeString(),data:angular.copy(l),active:!0},f.historyLimit&&u.setLimit(f.historyLimit),o(a,1e3)}(),o.cancel(e))},100)})}]);
CTFrontendBuilder.controller("ControllerShortcuts",["$scope","$parentScope","$timeout","$interval","$rootScope",function(e,c,n,t,r){var a,o,s,i=(a=function(e){if("true"==CtBuilderAjax.userCanFullAccess&&!e.originalEvent.repeat&&!c.isActiveActionTab("contentEditing")){var t=!1,a=e.key.toLowerCase();if(e.keyCode,!e.ctrlKey&&!e.metaKey||e.shiftKey){if((e.ctrlKey||e.metaKey)&&e.shiftKey)switch(a){case"c":c.copyElementExportJSON(c.iframeScope.component.active.id),t=!0;break;case"i":c.showImportModal(),t=!0;break;case"e":c.isActiveActionTab("componentBrowser")||c.switchActionTab("componentBrowser"),c.addSearchbarInputFocus=!1,c.showEmmetCLI=!0;var o=n(function(){c.emmetInputFocus=!0,n.cancel(o)},0,!1);break;case"a":c.isActiveActionTab("componentBrowser")||c.switchActionTab("componentBrowser"),c.emmetInputFocus=!1,c.showEmmetCLI=!1,o=n(function(){c.addSearchbarInputFocus=!0,n.cancel(o)},0,!1)}}else switch(a){case"s":iframeScope.savePage(),t=!0;break;case"backspace":case"delete":iframeScope.removeActiveComponent(),t=!0;break;case"d":iframeScope.duplicateComponent(),t=!0;break;case"c":r.$broadcast("copyElement"),t=!0;break;case"v":r.$broadcast("pasteElement"),t=!0;break;case"z":iframeScope.undo();break;case"y":iframeScope.redo()}return!t&&void 0}},o=250,function(){var e=this,t=arguments;s&&clearTimeout(s),s=setTimeout(function(){s=null,a.apply(e,t)},o)});function m(e){if(["s","backspace","delete","d","c","v","z","y","i","a","e"].includes(e.key.toLowerCase())&&(!e.target.parentElement.classList.contains("textarea")||"s"==e.key.toLowerCase())&&("INPUT"!=e.target.nodeName||"s"==e.key.toLowerCase()||e.target.classList.contains("oxygen-add-searchbar"))&&("TEXTAREA"!=e.target.nodeName||"s"==e.key.toLowerCase()||"oxy-emmet-cli-input"===e.target.getAttribute("id"))&&(!e.target.classList.contains("oxygen-add-searchbar")&&"oxy-emmet-cli-input"!=e.target.getAttribute("id")||!e.ctrlKey&&!e.metaKey||e.shiftKey||!["a","c","v"].includes(e.key.toLowerCase()))&&!(c.isActiveActionTab("contentEditing")||parent.document.getElementsByClassName("cm-focused").length&&"s"!=e.key.toLowerCase()))return e.ctrlKey||e.metaKey?(i(e),!1):void 0}angular.element("body").on("keydown",m),parent.angular.element("body").on("keydown",m)}]);
CTFrontendBuilder.controller("ControllerAutoUnits",["$scope","$parentScope","$timeout","$interval","$rootScope",function(e,n,r,o,t){var a=[];function l(e){return"INPUT"==e.nodeName&&!!e.parentElement.querySelector(".oxygen-measure-box-units")}parent.angular.element("body").on("keyup",function(e){var n=e.target;l(n)&&a.length&&a.forEach(function(e){n.value&&n.value.replace(/-?\d*\.?\d*/g,"")==e&&("none"==e&&(e=" "),function(e,n,o){e.attributes["ng-model"].nodeValue.includes("global")?iframeScope.setGlobalOptionUnit("global",n,o):iframeScope.setOptionUnit(n,o);var t=r(function(){" "==o&&(o="none"),e.value=e.value.replace(o,""),iframeScope.setOptionModel(n,e.value),r.cancel(t)},50,!1);"none"!=o&&e.blur()}(n,n.dataset.option,e))})}).on("focusin",function(e){var n=e.target;l(n)&&(a=[],n.parentElement.querySelector(".oxygen-measure-box-units").querySelectorAll("div:not(.oxygen-measure-box-unit-active)").forEach(function(e){a.push(e.innerText.replace(/[\n\r]+|[\s]{2,}/g," ").trim())}))})}]);
CTFrontendBuilder.controller("ControllerCopyPaste",["$scope","$parentScope","$timeout","$interval","$window",function(i,e,r,n,o){i.$on("copyElement",function(){var e=i.component.active.id;if(0<e){if(i.findParentComponentItem(i.componentsTree,e,i.copyComponentTreeNode),-1===["ct_inner_content","ct_reusable"].indexOf(i.componentBuffer.name)){var n=JSON.stringify(i.componentBuffer);return window.localStorage.setItem("oxygen-componentbuffer",n),void i.showNoticeModal("<div>Element "+i.componentBuffer.name+" copied to Oxygen clipboard</div>","ct-notice")}i.showNoticeModal("<div>Element of type "+i.componentBuffer.name+" can't be copied/pasted.</div>")}else i.showNoticeModal("<div>Body element can't be copied/pasted.</div>")}),i.$on("pasteElement",function(){if(window.localStorage.getItem("oxygen-componentbuffer")){var e,n=window.localStorage.getItem("oxygen-componentbuffer");try{e=JSON.parse(n)}catch(e){return}if(i.addComponent(e.name)){var o=i.component.active.parent;if(o){var t=o.id;i.updateNewComponentIds(e,o);var c=50;i.isAJAXElement(e.name)&&(c=1500),r(function(){i.removeActiveComponent(),i.componentBuffer=e,i.findComponentItem(i.componentsTree.children,t,i.pasteComponentToTree),i.rebuildDOM(i.componentBuffer.id),i.activateComponent(i.componentBuffer.id,i.componentBuffer.name)},c,!1)}}}})}]);
function oxygenMD5(t){function a(t,e){var n=t[0],o=t[1],i=t[2],a=t[3];o=s(o=s(o=s(o=s(o=p(o=p(o=p(o=p(o=d(o=d(o=d(o=d(o=r(o=r(o=r(o=r(o,i=r(i,a=r(a,n=r(n,o,i,a,e[0],7,-680876936),o,i,e[1],12,-389564586),n,o,e[2],17,606105819),a,n,e[3],22,-1044525330),i=r(i,a=r(a,n=r(n,o,i,a,e[4],7,-176418897),o,i,e[5],12,1200080426),n,o,e[6],17,-1473231341),a,n,e[7],22,-45705983),i=r(i,a=r(a,n=r(n,o,i,a,e[8],7,1770035416),o,i,e[9],12,-1958414417),n,o,e[10],17,-42063),a,n,e[11],22,-1990404162),i=r(i,a=r(a,n=r(n,o,i,a,e[12],7,1804603682),o,i,e[13],12,-40341101),n,o,e[14],17,-1502002290),a,n,e[15],22,1236535329),i=d(i,a=d(a,n=d(n,o,i,a,e[1],5,-165796510),o,i,e[6],9,-1069501632),n,o,e[11],14,643717713),a,n,e[0],20,-373897302),i=d(i,a=d(a,n=d(n,o,i,a,e[5],5,-701558691),o,i,e[10],9,38016083),n,o,e[15],14,-660478335),a,n,e[4],20,-405537848),i=d(i,a=d(a,n=d(n,o,i,a,e[9],5,568446438),o,i,e[14],9,-1019803690),n,o,e[3],14,-187363961),a,n,e[8],20,1163531501),i=d(i,a=d(a,n=d(n,o,i,a,e[13],5,-1444681467),o,i,e[2],9,-51403784),n,o,e[7],14,1735328473),a,n,e[12],20,-1926607734),i=p(i,a=p(a,n=p(n,o,i,a,e[5],4,-378558),o,i,e[8],11,-2022574463),n,o,e[11],16,1839030562),a,n,e[14],23,-35309556),i=p(i,a=p(a,n=p(n,o,i,a,e[1],4,-1530992060),o,i,e[4],11,1272893353),n,o,e[7],16,-155497632),a,n,e[10],23,-1094730640),i=p(i,a=p(a,n=p(n,o,i,a,e[13],4,681279174),o,i,e[0],11,-358537222),n,o,e[3],16,-722521979),a,n,e[6],23,76029189),i=p(i,a=p(a,n=p(n,o,i,a,e[9],4,-640364487),o,i,e[12],11,-421815835),n,o,e[15],16,530742520),a,n,e[2],23,-995338651),i=s(i,a=s(a,n=s(n,o,i,a,e[0],6,-198630844),o,i,e[7],10,1126891415),n,o,e[14],15,-1416354905),a,n,e[5],21,-57434055),i=s(i,a=s(a,n=s(n,o,i,a,e[12],6,1700485571),o,i,e[3],10,-1894986606),n,o,e[10],15,-1051523),a,n,e[1],21,-2054922799),i=s(i,a=s(a,n=s(n,o,i,a,e[8],6,1873313359),o,i,e[15],10,-30611744),n,o,e[6],15,-1560198380),a,n,e[13],21,1309151649),i=s(i,a=s(a,n=s(n,o,i,a,e[4],6,-145523070),o,i,e[11],10,-1120210379),n,o,e[2],15,718787259),a,n,e[9],21,-343485551),t[0]=g(n,t[0]),t[1]=g(o,t[1]),t[2]=g(i,t[2]),t[3]=g(a,t[3])}function c(t,e,n,o,i,a){return e=g(g(e,t),g(o,a)),g(e<<i|e>>>32-i,n)}function r(t,e,n,o,i,a,r){return c(e&n|~e&o,t,e,i,a,r)}function d(t,e,n,o,i,a,r){return c(e&o|n&~o,t,e,i,a,r)}function p(t,e,n,o,i,a,r){return c(e^n^o,t,e,i,a,r)}function s(t,e,n,o,i,a,r){return c(n^(e|~o),t,e,i,a,r)}function l(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var o="0123456789abcdef".split("");function n(t){for(var e="",n=0;n<4;n++)e+=o[t>>8*n+4&15]+o[t>>8*n&15];return e}function e(t){return function(t){for(var e=0;e<t.length;e++)t[e]=n(t[e]);return t.join("")}(function(t){txt="";var e,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)a(o,l(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(a(o,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,a(o,i),o}(t))}function g(t,e){return t+e&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=e("hello"))function g(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return e(t)}CTFrontendBuilder.directive("ngBuilderWrap",["$parentScope","$compile","$timeout","$interval",function(R,t,N,e){return{restrict:"A",link:function(D,t){D.insertBeforeComponent=function(t,e){for(var n=e.activeComponent;!n.is(t)&&!n.hasClass("ct-builder");)n=n.parent();0!=n[0].getAttribute("ng-attr-component-id")&&(e.index=n.index()+1,n=jQuery(n).parent().closest("[is-nestable]"),e.idToInsert=n[0].getAttribute("ng-attr-component-id"),D.activateComponent(e.idToInsert),e.activeComponent=D.getActiveComponent())},D.tree=[{"oxy-timeline":[{"oxy-timeline-entry":["ct_headline","ct_text_block","ct_image"]},{"oxy-timeline-entry":[{ct_div_block:["ct_headline"]},"ct_text_block","ct_image"]},{"oxy-timeline-entry":["ct_headline","ct_text_block","ct_image"]}]},"ct_headline"],D.addComponentsTree=function(t,e){for(key in t)if(t.hasOwnProperty(key)){var n=t[key];if("object"==typeof n){for(subKey in n)if(n.hasOwnProperty(subKey)){var o=D.addComponent(subKey);"object"==typeof n[subKey]&&D.addComponentsTree(n[subKey],o),"string"==typeof n[subKey]&&D.addComponent(n[subKey],"",!0)}void 0!==e&&D.activateComponent(e)}"string"==typeof n&&D.addComponent(n,"",!0)}void 0!==e&&D.activateComponent(e)},D.addComponents=function(t,e){if(D.addComponent(t),"ct_columns"==t)var n=N(function(){D.addComponent(e,!1,!0),N.cancel(n)},0,!1),o=N(function(){D.addColumn(D.component.active.id),D.columns[D.component.active.id]=2,N.cancel(o)},500,!1);else n=N(function(){D.waitOxygenTree(function(){D.addComponent(e)}),N.cancel(n)},0,!1)},D.addTab=function(){var n=D.component.active.id,o=D.component.active.name;if("oxy_tabs"==D.component.active.name){var t=D.getOption("tabs_contents_wrapper"),e=jQuery("#"+t).attr("ng-attr-component-id"),i=D.addComponent("oxy_tab",!1,!0),a=D.getOption("active_tab_class",n);D.addClassToComponentSafe(i,a.replace("-active","")),D.addClassToComponentSafe(i,a),D.activeSelectors[i]=a.replace("-active","");var r=N(function(){D.activateComponent(i,"oxy_tab");var t=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Another Tab",t,"ct_text_block"),N.cancel(r)},0,!1);D.activateComponent(e,"oxy_tabs_contents"),addedComponentIDTwo=D.addComponent("oxy_tab_content",!1,!0),D.addClassToComponentSafe(addedComponentIDTwo,a.replace("tabs-","tabs-contents-").replace("-active","")),D.activeSelectors[addedComponentIDTwo]=a.replace("tabs-","tabs-contents-").replace("-active","");var c=N(function(){D.activateComponent(addedComponentIDTwo,"oxy_tab_content");var t=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Another Tab Contents",t,"ct_text_block");var e=N(function(){jQuery(D.getComponentById(i)).trigger("click"),D.activateComponent(n,o),D.adjustResizeBox(),N.cancel(e)},100,!1);N.cancel(c)},0,!1)}else if("oxy_tabs_contents"==D.component.active.name){t=D.getOption("tabs_wrapper"),e=jQuery("#"+t).attr("ng-attr-component-id"),i=D.addComponent("oxy_tab_content",!1,!0),a=D.getOption("active_tab_class",e);D.addClassToComponentSafe(i,a.replace("tabs-","tabs-contents-").replace("-active","")),D.activeSelectors[i]=a.replace("tabs-","tabs-contents-").replace("-active","");c=N(function(){D.activateComponent(i,"oxy_tab_content");var t=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Another Tab Contents",t,"ct_text_block"),N.cancel(c)},0,!1);D.activateComponent(e,"oxy_tabs"),addedComponentIDTwo=D.addComponent("oxy_tab",!1,!0),D.addClassToComponentSafe(addedComponentIDTwo,a.replace("-active","")),D.addClassToComponentSafe(addedComponentIDTwo,a),D.activeSelectors[addedComponentIDTwo]=a.replace("-active","");r=N(function(){D.activateComponent(addedComponentIDTwo,"oxy_tab");var t=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Another Tab",t,"ct_text_block");var e=N(function(){jQuery(D.getComponentById(addedComponentIDTwo)).trigger("click"),D.activateComponent(n,o),D.adjustResizeBox(),N.cancel(e)},100,!1);N.cancel(r)},0,!1)}},D.addComponent=function(t,e,n,o){D.cancelDeleteUndo(),D.log&&console.log("addComponent()",t,e,n,o);var i=jQuery("div.ct-component.ct-inner-content:not(.ct-inner-content-workarea)");if("ct_inner_content"===t&&0<i.length)alert("You cannot add more than one Inner Content component to a template.");else{if(!("oxy-product-tabs"===t&&0<jQuery(".oxy-product-tabs").length)){"ct_inner_content"===t&&(D.innerContentAdded=!0),"oxy_dynamic_list"==t&&(iframeScope.dynamicListActions.actions[D.component.id]={});var a=!1;D.applyComponentDefaultOptions(D.component.id,t);var r=null;null!=o&&(r=o.parent_id);var c={},d=D.getComponentTemplate(t,D.component.id,e,null,r);if(c.idToInsert=D.component.active.id,c.activeComponent=D.getActiveComponent(),c.index=!1,c.activeComponent||(c.activeComponent=document.getElementsByClassName("ct-builder"),c.activeComponent=angular.element(c.activeComponent),c.idToInsert=0),D.isAPIComponent(t)&&D.insertBeforeComponent("."+t,c),"ct_section"==t&&D.insertBeforeComponent(".ct_section, .oxy_header, .ct_slider",c),"ct_modal"==t){D.insertBeforeComponent(".ct_section, .oxy_header, .ct_slider, .ct_modal",c);var p=N(function(){D.setOptionModel("width",iframeScope.component.options[D.component.active.id].model.width,D.component.active.id,"ct_modal"),N.cancel(p)},0,!1)}if("ct_new_columns"==t&&D.insertBeforeComponent(".ct_new_columns",c),"oxy_tabs"!=t&&"oxy_tabs_contents"!=t||D.insertBeforeComponent(".oxy_tabs, .oxy_tabs_contents",c),"ct_link"!=t&&"ct_link_text"!=t||D.insertBeforeComponent(".ct_link",c),"oxy_header"==t&&D.insertBeforeComponent(".oxy_header, .ct_section",c),"ct_inner_content"==t&&D.insertBeforeComponent(".oxy_header, .ct_section",c),"ct_slider"==t&&D.insertBeforeComponent(".ct_slider",c),"oxy_icon_box"==t&&D.insertBeforeComponent(".oxy_icon_box",c),"oxy_pricing_box"==t&&D.insertBeforeComponent(".oxy_pricing_box",c),"ct_inner_content"!=D.component.active.name||D.isTemplateInnerContent(D.component.active)||D.insertBeforeComponent(".ct_inner_content",c),"ct_link_button"!=t&&"ct_link_text"!=t&&"builtin"!==e&&D.insertBeforeComponent(".oxy_pricing_box, .oxy_icon_box",c),"ct_columns"==D.component.active.name&&"ct_column"==t)(s=D.getInnerWrap(c.activeComponent)).append(d),D.cleanInsert(c.activeComponent),callback=D.insertComponentToTree,D.setOptionModel("width","100",D.component.id,"ct_column");else if("oxy_header"==D.component.active.name&&"oxy_header_row"==t){var s=D.getInnerWrap(c.activeComponent);callback=D.insertComponentToTree,s.append(d),D.cleanInsert(c.activeComponent)}else if("ct_new_columns"==D.component.active.name&&"ct_div_block"==t){s=D.getInnerWrap(c.activeComponent);callback=D.insertComponentToTree,s.append(d),D.cleanInsert(c.activeComponent)}else if("ct_new_columns"==D.component.active.name&&"ct_div_block"!=t&&0<c.activeComponent.children(".ct_div_block").length){var l=c.activeComponent.children(".ct_div_block").first();c.idToInsert=parseInt(l.attr("ng-attr-component-id")),callback=D.insertComponentToTree,D.cleanInsert(d,l)}else if(("oxy_tabs"==D.component.active.name||"oxy_tabs_contents"==D.component.active.name)&&"ct_div_block"!=t&&0<c.activeComponent.children(".ct_div_block").length){var g=c.activeComponent.children(".ct_div_block").first();c.idToInsert=parseInt(g.attr("ng-attr-component-id")),callback=D.insertComponentToTree,D.cleanInsert(d,g)}else if("oxy_header_row"==D.component.active.name&&"oxy_header_row"==t)a=c.activeComponent.parent(),c.index=c.activeComponent.index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if("oxy_header_row"==D.component.active.name&&"oxy_header_left"!==t&&"oxy_header_center"!==t&&"oxy_header_right"!==t){var m=c.activeComponent.find(".oxy-header-left");c.idToInsert=parseInt(m.attr("ng-attr-component-id")),callback=D.insertComponentToTree,D.cleanInsert(d,m)}else if("oxy_header"==D.component.active.name&&"oxy_header_left"!==t&&"oxy_header_center"!==t&&"oxy_header_right"!==t){m=c.activeComponent.find(".oxy-header-left");c.idToInsert=parseInt(m.attr("ng-attr-component-id")),callback=D.insertComponentToTree,D.cleanInsert(d,m)}else if("oxy_header_left"==t||"oxy_header_center"==t||"oxy_header_right"==t){s=D.getInnerWrap(c.activeComponent);callback=D.insertComponentToTree,s.append(d),D.cleanInsert(c.activeComponent)}else if("ct_ul"==D.component.active.name&&"ct_li"!=t)a=c.activeComponent.parent(),c.index=c.activeComponent.index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if("ct_if_else_wrap"==D.component.active.name&&"ct_if_wrap"!=t&&"ct_else_wrap"!=t)a=c.activeComponent.parent(),c.index=c.activeComponent.index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if("oxy_dynamic_list"==D.component.active.name&&("ct_div_block"!=t||0<c.activeComponent.children(".ct_div_block").length)){0<(s=c.activeComponent.children("div:first-child")).length?(D.cleanInsert(d,s,c.index),callback=D.insertComponentToChild):(a=c.activeComponent.parent(),c.index=c.activeComponent.index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index))}else if("ct_li"==D.component.active.name&&"ct_li"!=t)a=c.activeComponent.parent().parent(),c.index=c.activeComponent.parent().index()+1,callback=D.insertComponentToGrandParent,D.cleanInsert(d,a,c.index);else if("ct_slide"==D.component.active.name&&"ct_slide"==t)a=c.activeComponent.parent().parent(),c.index=c.activeComponent.parent().index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if(D.component.active.name==t&&D.isAPIComponent(t))a=c.activeComponent.parent().closest("[is-nestable]"),c.index=c.activeComponent.parent().closest("ct-component").index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if("ct_slider"==D.component.active.name&&"ct_slide"!=t&&0<c.activeComponent.find(".unslider-active").length){var u=c.activeComponent.find(".unslider-active").children(".ct_slide");c.idToInsert=parseInt(u.attr("ng-attr-component-id")),callback=D.insertComponentToTree,D.cleanInsert(d,u)}else if("ct_slider"==D.component.active.name&&"ct_slide"!=t&&0==c.activeComponent.find(".unslider-active").length)a=c.activeComponent.parent(),c.index=c.activeComponent.index()+1,callback=D.insertComponentToParent,D.cleanInsert(d,a,c.index);else if(c.activeComponent[0].attributes["is-nestable"]&&D.canBeChild(D.component.active.name,t)){if((jQuery("body").hasClass("ct_inner")||jQuery("body",window.parent.document).hasClass("ct_inner"))&&(0===parseInt(c.idToInsert)||1e5<parseInt(c.idToInsert))&&0<jQuery(".ct-inner-content.ct-component").length){var b=parseInt(jQuery(".ct-inner-content.ct-component").attr("ng-attr-component-id"));c.idToInsert!=b&&(c.idToInsert=b,c.index=!1,D.activateComponent(c.idToInsert),c.activeComponent=D.getActiveComponent(),callback=D.insertComponentToTree)}s=D.getInnerWrap(c.activeComponent);"builtin"==e&&(s=D.getBuiltInWrap(c.activeComponent)),D.cleanInsert(d,s,c.index),callback=D.insertComponentToTree}else if("builtin"==e)s=D.getBuiltInWrap(c.activeComponent),D.cleanInsert(d,s,c.index),callback=D.insertComponentToTree;else{if(a=c.activeComponent.parent(),callback=D.insertComponentToParent,!a[0].attributes["is-nestable"]&&!a.hasClass("ct-inner-wrap")){for(;!a[0].attributes["is-nestable"]&&!a.hasClass("ct-inner-wrap");)a=a.parent();callback=D.insertComponentToGrandParent}"true"==D.component.options[D.component.active.id].original.oxy_builtin&&(a=a.parent()),c.index=c.activeComponent.index()+1,D.cleanInsert(d,a,c.index)}if("shortcode"==e)var v=!0;if("widget"==e)var _=!0;if("data"==e)var f=!0;if("sidebar"==e)var y=!0;if("nav_menu"==e)var C=!0;if("builtin"==e){var x=!0;D.builtinComponents[D.component.id]=!0}var h={id:D.component.id,name:t,isShortcode:v,isWidget:_,isData:f,isSidebar:y,isNavMenu:C,isBuiltIn:x,index:c.index};if(D.findComponentItem(D.componentsTree.children,c.idToInsert,callback,h),n||D.activateComponent(D.component.id,t),D.justaddedcomponents=D.justaddedcomponents||[],D.justaddedcomponents.push(D.component.id),D.setOption(D.component.id,t),D.setFirstTimeOptions(D.component.id,t),"ct_slide"==t)var S=N(function(){D.rebuildDOM(c.idToInsert),N.cancel(S)},0,!1);if(void 0!==o&&o.rebuild_parent)var $=N(function(){console.log("rebuild",c.idToInsert),D.rebuildDOM(c.idToInsert),N.cancel($)},0,!1);if("ct_span"!==t){var T=D.getComponentById(h.id).parent().closest(".oxy-dynamic-list");0<T.length&&!T.hasClass("oxy-dynamic-list-edit")&&(D.afterComponentsAddedSignal&&clearTimeout(D.afterComponentsAddedSignal),D.afterComponentsAddedSignal=setTimeout(function(){D.updateRepeaterQuery(parseInt(T.attr("ng-attr-component-id")))},500))}D.rebuildDOMChangeParent(c.idToInsert),(a=D.findComponentItem(D.componentsTree.children,c.idToInsert,D.getComponentItem)).children&&1===a.children.length&&D.isAJAXElement(a.name)&&D.rebuildDOM(c.idToInsert),D.component.id++,R.closeAllTabs(),D.unsavedChanges();var k=0;"ct_slide"!=t&&"oxy_social_icons"!=t||(k=1e3);var O=N(function(){var t=D.getActiveComponent();t&&R.scrollToComponent(t.attr("id")),N.cancel(O)},k,!1);if("oxy_header_row"==t)var w=N(function(){D.waitOxygenTree(function(){D.addComponent("oxy_header_left",!1,!0),D.addComponent("oxy_header_center",!1,!0),D.addComponent("oxy_header_right",!1,!0)}),N.cancel(w)},0,!1);if("oxy_dynamic_list"==t)var I=N(function(){D.waitOxygenTree(function(){D.addComponent("ct_div_block",!1,!0,{parent_id:h.id})}),N.cancel(I)},0,!1);if("oxy_icon_box"==t)var j=N(function(){D.waitOxygenTree(function(){var t=D.addComponent("ct_fancy_icon","builtin",!0);D.setOptionModel("icon-id","Lineariconsicon-rocket",t,"ct_fancy_icon")}),N.cancel(j)},0,!1);if("oxy_superbox"==t)var Q=N(function(){D.waitOxygenTree(function(){var t=D.addComponent("ct_div_block","builtin",!0),e=D.addComponent("ct_div_block","builtin",!0);D.component.options[t].nicename="Primary",D.component.options[e].nicename="Secondary",D.updateFriendlyName(t),D.updateFriendlyName(e),D.addClassToComponentSafe(t,"oxy-superbox-primary"),D.addClassToComponentSafe(e,"oxy-superbox-secondary"),D.setOptionModel("align-items","center",e,"ct_div_block"),D.setOptionModel("justify-content","center",e,"ct_div_block"),D.setOptionModel("background-color","rgba(0,0,0,0.3)",e,"ct_div_block"),D.setOptionModel("text-align","center",e,"ct_div_block"),D.activateComponent(t);var n=D.addComponent("ct_image",!1,!0);D.setOptionModel("src","https://source.unsplash.com/random/480x270",n,"ct_image"),D.setOptionModel("width","400",n,"ct_image"),D.activateComponent(e);var o=D.addComponent("ct_headline",!1,!0);D.setOptionModel("ct_content","Superbox",o,"ct_headline"),D.setOptionModel("font-size","36",o,"ct_headline"),D.setOptionModel("color","#ffffff",o,"ct_headline"),D.setOptionModel("tag","h2",o,"ct_headline"),D.activateComponent(h.id)}),N.cancel(Q)},0,!1);if("oxy_pricing_box"==t)var B=N(function(){D.waitOxygenTree(function(){var t=D.addComponent("ct_image","builtin",!0);D.setOptionModel("src","http://via.placeholder.com/300x150",t,"ct_image"),D.addComponent("ct_link_button",!1,!0)}),N.cancel(B)},0,!1);if("oxy_tabs"==t){for(var E,M=oxygenMD5(Date.now().toString()).match(/\d+/)[0].substring(0,4),U=0;M.length<4&&U<1e5;)M=oxygenMD5(Date.now().toString()).match(/\d+/)[0].substring(0,4),U++;D.waitOxygenTree(function(){var a=N(function(){E=D.addComponent("oxy_tab",!1,!0);var t=D.addComponent("oxy_tab",!1,!0),e=D.addComponent("oxy_tab",!1,!0);D.addClassToComponentSafe(E,"tabs-"+M+"-tab"),D.addClassToComponentSafe(t,"tabs-"+M+"-tab"),D.addClassToComponentSafe(e,"tabs-"+M+"-tab"),D.addClassToComponentSafe(E,"tabs-"+M+"-tab-active"),D.addClassToComponentSafe(t,"tabs-"+M+"-tab-active"),D.addClassToComponentSafe(e,"tabs-"+M+"-tab-active"),D.activeSelectors=D.activeSelectors||{},D.activeSelectors[E]="tabs-"+M+"-tab",D.activeSelectors[t]="tabs-"+M+"-tab",D.activeSelectors[e]="tabs-"+M+"-tab",D.activateComponent(E,"oxy_tab");var n=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab #1",n,"ct_text_block"),D.activateComponent(t,"oxy_tab");var o=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab #2",o,"ct_text_block"),D.activateComponent(e,"oxy_tab");var i=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab #3",i,"ct_text_block"),N.cancel(a)},0,!1)}),D.waitOxygenTree(function(){var p=N(function(){D.activateComponent(h.id,"oxy_tabs");var t=D.addComponent("oxy_tabs_contents",!1,!0);D.activateComponent(t,"oxy_tabs_contents");var e=D.addComponent("oxy_tab_content",!1,!0),n=D.addComponent("oxy_tab_content",!1,!0),o=D.addComponent("oxy_tab_content",!1,!0);D.addClassToComponentSafe(e,"tabs-contents-"+M+"-tab"),D.addClassToComponentSafe(n,"tabs-contents-"+M+"-tab"),D.addClassToComponentSafe(o,"tabs-contents-"+M+"-tab"),D.activeSelectors=D.activeSelectors||{},D.activeSelectors[e]="tabs-contents-"+M+"-tab",D.activeSelectors[n]="tabs-contents-"+M+"-tab",D.activeSelectors[o]="tabs-contents-"+M+"-tab",D.activateComponent(e,"oxy_tab_content");var i=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab Content #1",i,"ct_text_block"),D.activateComponent(n,"oxy_tab_content");var a=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab Content #2",a,"ct_text_block"),D.activateComponent(o,"oxy_tab_content");var r=D.addComponent("ct_text_block",!1,!0);D.setOptionModel("ct_content","Tab Content #3",r,"ct_text_block"),D.activateComponent(h.id,"oxy_tabs"),D.setOptionModel("tabs_wrapper",D.component.options[h.id].selector,t,"oxy_tabs_contents"),D.setOptionModel("tabs_contents_wrapper",D.component.options[t].selector,h.id,"oxy_tabs"),D.setOptionModel("active_tab_class","tabs-"+M+"-tab-active",h.id,"oxy_tabs");var c=N(function(){jQuery(D.getComponentById(h.id)).children(".oxy-tabs-wrapper > div").eq(0).trigger("click"),D.activateComponent(E,"oxy_tab"),N.cancel(c)},100,!1),d=N(function(){D.waitOxygenTree(function(){D.adjustResizeBox()}),N.cancel(d)},200,!1);N.cancel(p)},100,!1)})}if("oxy_toggle"==t){for(M=oxygenMD5(Date.now().toString()).match(/\d+/)[0].substring(0,4),U=0;M.length<4&&U<1e5;)M=oxygenMD5(Date.now().toString()).match(/\d+/)[0].substring(0,4),U++;var A=D.component.active.parent.id,L=D.component.active.parent.name;D.addClassToComponentSafe(h.id,"toggle-"+M),D.addClassToComponentSafe(h.id,"toggle-"+M+"-expanded"),D.activeSelectors[h.id]="toggle-"+M,D.setOptionModel("toggle_active_class","toggle-"+M+"-expanded",h.id,"oxy_toggle");var P=N(function(){D.waitOxygenTree(function(){D.addComponent("ct_headline",!1,!0),D.activateComponent(A,L),D.addComponent("ct_text_block",!1,!0)}),N.cancel(P)},10,!1)}return h.id}D.showNoticeModal("<div>You cannot add more than one Product Tabs element</div>")}}}}}]),CTFrontendBuilder.directive("ngModel",["$timeout","$interval",function(t,e){return{restrict:"A",priority:-1,link:function(t,e,n){t.$watch(n.ngModel,function(t){e.is(":radio")&&(e.next().addClass("ct-update-css"),e.next().removeClass("ct-update-css"))})}}}]),CTFrontendBuilder.directive("ctFloatEditor",function(){return{link:function(t,e,n,o){var i=angular.element("#oxygen-topbar").outerHeight(),a=t.getActiveComponent(),r=a.outerHeight(),c=a[0].getBoundingClientRect(),d=a.offset();n.draggable({handle:".ct-draggable-handle",containment:"document"});var p=n.outerHeight(),s=n.outerWidth(),l=xOffset=0;l=n.is(".ct-choose-selector")?110:i+p>c.top?r+8:-(p+8);var g=e.showSidePanel?330:0;c.left+s>document.documentElement.clientWidth-20-g&&(xOffset=document.documentElement.clientWidth-20-g-(c.left+s)),n.css({top:d.top+l,left:d.left+xOffset})}}}),CTFrontendBuilder.directive("oxygenResizeBox",["$timeout","$interval",function(v,t){return{restrict:"AE",scope:{rOptions:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(i,a,t){"flexBasis"in document.documentElement.style||"webkitFlexBasis"in document.documentElement.style||document.documentElement.style,window.getComputedStyle(a[0],null);var r,c,d,p,s,e=i.rOptions||["top","right","bottom","left","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],o=i.rCenteredX?2:1,l=i.rCenteredY?2:1,n=i.rGrabber?i.rGrabber:"<span></span>",g=function(t){return t.touches?t.touches[0].clientX:t.clientX},m=function(t){return t.touches?t.touches[0].clientY:t.clientY},u=function(t){if("true"!=i.$parent.getOption("selector-locked")){var e="x"===d?r-g(t):r-m(t);switch(c){case"margin-top":if(s=0<marginTop-e*l?marginTop-e*l:0,i.$parent.parentScope.showStatusBar("margin-top:"+s+marginTopUnit),i.$parent.isEditing("id"))jQuery(p).css("margin-top",s.toString()+marginTopUnit);else if(i.$parent.isEditing("class")){var n="."+i.$parent.currentClass+"{margin-top:"+s.toString()+marginTopUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}break;case"margin-bottom":if(s=0<marginBottom-e*l?marginBottom-e*l:0,i.$parent.parentScope.showStatusBar("margin-bottom:"+s+marginBottomUnit),i.$parent.isEditing("id"))jQuery(p).css("margin-bottom",s.toString()+marginBottomUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{margin-bottom:"+s.toString()+marginBottomUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}break;case"margin-right":if(s=0<marginRight-e*o?marginRight-e*o:0,i.$parent.parentScope.showStatusBar("margin-right:"+s+marginRightUnit),i.$parent.isEditing("id"))jQuery(p).css("margin-right",s.toString()+marginRightUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{margin-right:"+s.toString()+marginRightUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}break;case"margin-left":if(s=0<marginLeft-e*o?marginLeft-e*o:0,i.$parent.parentScope.showStatusBar("margin-left:"+s+marginLeftUnit),i.$parent.isEditing("id"))jQuery(p).css("margin-left",s.toString()+marginLeftUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{margin-left:"+s.toString()+marginLeftUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}break;case"padding-top":if(i.$parent.parentScope.isActiveName("ct_section")){if(s=0<containerPaddingTop-e*l?containerPaddingTop-e*l:0,i.$parent.isEditing("id"))jQuery(".ct-section-inner-wrap",p).css("padding-top",s.toString()+paddingTopUnit);else if(i.$parent.isEditing("class"))n="."+i.$parent.currentClass+" .ct-section-inner-wrap{padding-top:"+s.toString()+paddingTopUnit+"}"}else if(s=0<paddingTop-e*l?paddingTop-e*l:0,i.$parent.isEditing("id"))jQuery(p).css("padding-top",s.toString()+paddingTopUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{padding-top:"+s.toString()+paddingTopUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}i.$parent.parentScope.showStatusBar("padding-top:"+s+paddingTopUnit),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.isEditing("id")?jQuery(p).css("padding-bottom",s.toString()+paddingTopUnit):i.$parent.isEditing("class")&&(n+="."+i.$parent.currentClass+"{padding-bottom:"+s.toString()+paddingTopUnit+"}")),i.$parent.outputCSSStyles("oxy-dragging-styles",n);break;case"padding-bottom":if(i.$parent.parentScope.isActiveName("ct_section")){if(s=0<containerPaddingBottom-e*l?containerPaddingBottom-e*l:0,i.$parent.isEditing("id"))jQuery(".ct-section-inner-wrap",p).css("padding-bottom",s.toString()+paddingBottomUnit);else if(i.$parent.isEditing("class"))n="."+i.$parent.currentClass+" .ct-section-inner-wrap{padding-bottom:"+s.toString()+paddingTopUnit+"}"}else if(s=0<paddingBottom-e*l?paddingBottom-e*l:0,i.$parent.isEditing("id"))jQuery(p).css("padding-bottom",s.toString()+paddingBottomUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{padding-bottom:"+s.toString()+paddingBottomUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}i.$parent.parentScope.showStatusBar("padding-bottom:"+s+paddingBottomUnit),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.isEditing("id")?jQuery(p).css("padding-top",s.toString()+paddingBottomUnit):i.$parent.isEditing("class")&&(n+="."+i.$parent.currentClass+"{padding-top:"+s.toString()+paddingBottomUnit+"}")),i.$parent.outputCSSStyles("oxy-dragging-styles",n);break;case"padding-right":if(i.$parent.parentScope.isActiveName("ct_section")){if(s=0<containerPaddingRight-e*l?containerPaddingRight-e*l:0,i.$parent.isEditing("id"))jQuery(".ct-section-inner-wrap",p).css("padding-right",s.toString()+paddingRightUnit);else if(i.$parent.isEditing("class"))n="."+i.$parent.currentClass+" .ct-section-inner-wrap{padding-right:"+s.toString()+paddingTopUnit+"}"}else if(s=0<paddingRight-e*o?paddingRight-e*o:0,i.$parent.isEditing("id"))jQuery(p).css("padding-right",s.toString()+paddingRightUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{padding-right:"+s.toString()+paddingRightUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}i.$parent.parentScope.showStatusBar("padding-right:"+s+paddingRightUnit),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.isEditing("id")?jQuery(p).css("padding-left",s.toString()+paddingRightUnit):i.$parent.isEditing("class")&&(n+="."+i.$parent.currentClass+"{padding-left:"+s.toString()+paddingRightUnit+"}")),i.$parent.outputCSSStyles("oxy-dragging-styles",n);break;case"padding-left":if(i.$parent.parentScope.isActiveName("ct_section")){if(s=0<containerPaddingLeft-e*l?containerPaddingLeft-e*l:0,i.$parent.isEditing("id"))jQuery(".ct-section-inner-wrap",p).css("padding-left",s.toString()+paddingLeftUnit);else if(i.$parent.isEditing("class"))n="."+i.$parent.currentClass+" .ct-section-inner-wrap{padding-left:"+s.toString()+paddingTopUnit+"}"}else if(s=0<paddingLeft-e*o?paddingLeft-e*o:0,i.$parent.isEditing("id"))jQuery(p).css("padding-left",s.toString()+paddingLeftUnit);else if(i.$parent.isEditing("class")){n="."+i.$parent.currentClass+"{padding-left:"+s.toString()+paddingLeftUnit+"}";i.$parent.outputCSSStyles("oxy-dragging-styles",n)}i.$parent.parentScope.showStatusBar("padding-left:"+s+paddingLeftUnit),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.isEditing("id")?jQuery(p).css("padding-right",s.toString()+paddingLeftUnit):i.$parent.isEditing("class")&&(n+="."+i.$parent.currentClass+"{padding-right:"+s.toString()+paddingLeftUnit+"}")),i.$parent.outputCSSStyles("oxy-dragging-styles",n)}0<s&&(jQuery("#rb-"+c+"-button").css("display","none"),jQuery("#rb-"+c).addClass("rb-currently-editing")),0==s&&jQuery("#rb-"+c).removeClass("rb-currently-editing"),i.$parent.adjustResizeBox(),i.$apply()}},b=function(t){if(i.$parent.outputCSSStyles("oxy-dragging-styles",""),i.$apply(),document.removeEventListener("mouseup",b,!1),document.removeEventListener("mousemove",u,!1),document.removeEventListener("touchend",b,!1),document.removeEventListener("touchmove",u,!1),window.parent.document.removeEventListener("mouseup",b,!1),window.parent.document.removeEventListener("touchend",b,!1),void 0!==s)switch(c){case"margin-top":i.$parent.setOptionModel("margin-top",s.toString()),jQuery(p).css("margin-top","");break;case"margin-bottom":i.$parent.setOptionModel("margin-bottom",s.toString()),jQuery(p).css("margin-bottom","");break;case"margin-right":i.$parent.setOptionModel("margin-right",s.toString()),jQuery(p).css("margin-right","");break;case"margin-left":i.$parent.setOptionModel("margin-left",s.toString()),jQuery(p).css("margin-left","");break;case"padding-top":i.$parent.parentScope.isActiveName("ct_section")?(i.$parent.setOptionModel("container-padding-top",s.toString()),jQuery(".ct-section-inner-wrap",p).css("padding-top","")):(i.$parent.setOptionModel("padding-top",s.toString()),jQuery(p).css("padding-top","")),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.setOptionModel("padding-bottom",s.toString()),jQuery(p).css("padding-bottom",""));break;case"padding-bottom":i.$parent.parentScope.isActiveName("ct_section")?(i.$parent.setOptionModel("container-padding-bottom",s.toString()),jQuery(".ct-section-inner-wrap",p).css("padding-bottom","")):(i.$parent.setOptionModel("padding-bottom",s.toString()),jQuery(p).css("padding-bottom","")),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.setOptionModel("padding-top",s.toString()),jQuery(p).css("padding-top",""));break;case"padding-right":i.$parent.parentScope.isActiveName("ct_section")?(i.$parent.setOptionModel("container-padding-right",s.toString()),jQuery(".ct-section-inner-wrap",p).css("padding-right","")):(i.$parent.setOptionModel("padding-right",s.toString()),jQuery(p).css("padding-right","")),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.setOptionModel("padding-left",s.toString()),jQuery(p).css("padding-left",""));break;case"padding-left":i.$parent.parentScope.isActiveName("ct_section")?(i.$parent.setOptionModel("container-padding-left",s.toString()),jQuery(".ct-section-inner-wrap",p).css("padding-left","")):(i.$parent.setOptionModel("padding-left",s.toString()),jQuery(p).css("padding-left","")),i.$parent.parentScope.isActiveName("ct_link_button")&&(i.$parent.setOptionModel("padding-right",s.toString()),jQuery(p).css("padding-right",""))}a.removeClass("oxygen-no-transition"),jQuery(".rb-currently-editing").removeClass("rb-currently-editing"),i.$parent.parentScope.hideStatusBar(),i.$parent.parentScope.$apply();var e=v(function(){jQuery("body").removeClass("oxy-dragging-resize-box"),v.cancel(e)},0,!1)};e.forEach(function(o){var t=document.createElement("div");t.setAttribute("class","rb"),t.setAttribute("id","rb-"+o),t.innerHTML=n,a.append(t),t.ondragstart=function(){return!1};var e=function(t){var e,n;"true"===i.rDisabled||1!==t.which&&!t.touches||(e=t,n=o,jQuery("body").addClass("oxy-dragging-resize-box"),c=n,jQuery("#rb-"+c),d=0<=c.indexOf("left")||0<=c.indexOf("right")?"x":"y",r="x"===d?g(e):m(e),s=void 0,p=i.$parent.getActiveComponent(),containerPaddingBottom=parseInt(i.$parent.getOption("container-padding-bottom")),containerPaddingBottomUnit=i.$parent.getOptionUnit("container-padding-bottom"),containerPaddingTop=parseInt(i.$parent.getOption("container-padding-top")),containerPaddingTopUnit=i.$parent.getOptionUnit("container-padding-top"),containerPaddingLeft=parseInt(i.$parent.getOption("container-padding-left")),containerPaddingLeftUnit=i.$parent.getOptionUnit("container-padding-left"),containerPaddingRight=parseInt(i.$parent.getOption("container-padding-right")),containerPaddingRightUnit=i.$parent.getOptionUnit("container-padding-right"),paddingTop=parseInt(i.$parent.getOption("padding-top"))||0,paddingTopUnit=i.$parent.getOptionUnit("padding-top"),paddingRight=parseInt(i.$parent.getOption("padding-right"))||0,paddingRightUnit=i.$parent.getOptionUnit("padding-right"),paddingBottom=parseInt(i.$parent.getOption("padding-bottom"))||0,paddingBottomUnit=i.$parent.getOptionUnit("padding-bottom"),paddingLeft=parseInt(i.$parent.getOption("padding-left"))||0,paddingLeftUnit=i.$parent.getOptionUnit("padding-left"),marginTop=parseInt(i.$parent.getOption("margin-top"))||0,marginTopUnit=i.$parent.getOptionUnit("margin-top"),marginRight=parseInt(i.$parent.getOption("margin-right"))||0,marginRightUnit=i.$parent.getOptionUnit("margin-right"),marginBottom=parseInt(i.$parent.getOption("margin-bottom"))||0,marginBottomUnit=i.$parent.getOptionUnit("margin-bottom"),marginLeft=parseInt(i.$parent.getOption("margin-left"))||0,marginLeftUnit=i.$parent.getOptionUnit("margin-left"),a.addClass("oxygen-no-transition"),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",u,!1),document.addEventListener("touchend",b,!1),document.addEventListener("touchmove",u,!1),window.parent.document.addEventListener("mouseup",b,!1),window.parent.document.addEventListener("touchend",b,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,i.$apply())};t.addEventListener("mousedown",e,!1),t.addEventListener("touchstart",e,!1),-1==["top","right","left","bottom"].indexOf(o)?(jQuery(t).mouseenter(function(){jQuery(this).addClass("rb-currently-editing")}).mouseleave(function(){jQuery(this).removeClass("rb-currently-editing")}),jQuery(t).dblclick(function(){p=i.$parent.getActiveComponent(),i.$parent.parentScope.isActiveName("ct_section")?(i.$parent.setOptionModel("container-"+o,""),jQuery(".ct-section-inner-wrap",p).css(o,"")):(i.$parent.setOptionModel(o,""),jQuery(p).css(o,"")),i.$parent.outputCSSStyles("oxy-dragging-styles",""),i.$apply()}),jQuery(t).addClass("rb-overlay")):(t.addEventListener("mouseover",function(t){var e;if(i.$parent.parentScope.isActiveName("ct_section"))jQuery("#rb-margin-"+o+"-button").css("display","none"),e=parseInt(i.$parent.getOption("container-padding-"+o));else{var n=parseInt(i.$parent.getOption("margin-"+o));e=parseInt(i.$parent.getOption("padding-"+o)),0<n?jQuery("#rb-margin-"+o+"-button").css("display","none"):jQuery("#rb-margin-"+o+"-button").css("display","")}0<e?jQuery("#rb-padding-"+o+"-button").css("display","none"):jQuery("#rb-padding-"+o+"-button").css("display","")},!1),t.addEventListener("mouseout",function(t){jQuery("#rb-margin-"+o+"-button").css("display",""),jQuery("#rb-padding-"+o+"-button").css("display","")},!1),jQuery(t).addClass("rb-border"))}),i.$parent.rbMarginTop=jQuery("#rb-margin-top"),i.$parent.rbMarginLeft=jQuery("#rb-margin-left"),i.$parent.rbMarginRight=jQuery("#rb-margin-right"),i.$parent.rbMarginBottom=jQuery("#rb-margin-bottom"),i.$parent.rbPaddingTop=jQuery("#rb-padding-top"),i.$parent.rbPaddingLeft=jQuery("#rb-padding-left"),i.$parent.rbPaddingRight=jQuery("#rb-padding-right"),i.$parent.rbPaddingBottom=jQuery("#rb-padding-bottom"),i.$parent.rbTop=jQuery("#rb-top"),i.$parent.rbLeft=jQuery("#rb-left"),i.$parent.rbRight=jQuery("#rb-right"),i.$parent.rbBottom=jQuery("#rb-bottom"),i.$parent.rbTitleBar=jQuery("#oxygen-resize-box-titlebar"),i.$parent.rbParentTitleBar=jQuery("#oxygen-resize-box-parent-titlebar")}}}]),CTFrontendBuilder.directive("oxygenResizeFlex",["$timeout","$interval",function(b,t){return{restrict:"AE",scope:{rOptions:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rId:"=",rGrabber:"@",rDisabled:"@"},link:function(o,i,t){"flexBasis"in document.documentElement.style||"webkitFlexBasis"in document.documentElement.style||document.documentElement.style;var a,r,c,e=b(function(){var t=i.css("position");""!=t&&"static"!=t||i.addClass("oxygen-resizable-relative"),b.cancel(e)},0,!1),d=window.getComputedStyle(i[0],null),n=o.rOptions||["right"],p=o.rCenteredX?2:1,s=(o.rCenteredY,o.rGrabber?o.rGrabber:"<span></span>"),l=function(t){return t.touches?t.touches[0].clientX:t.clientX},g=function(t){return t.touches?t.touches[0].clientY:t.clientY},m=function(t){var e="x"===c?a-l(t):a-g(t);switch(r){case"right":var n=0<width-e*p?width-e*p:0;o.$parent.setOptionModel("flex-basis",n+"px",o.rId),console.log(width,n)}},u=function(t){o.$apply(),document.removeEventListener("mouseup",u,!1),document.removeEventListener("mousemove",m,!1),document.removeEventListener("touchend",u,!1),document.removeEventListener("touchmove",m,!1),i.removeClass("oxygen-no-transition")};n.forEach(function(n){var t=document.createElement("div");t.setAttribute("class","rg rg-"+n),t.innerHTML=s,i.append(t),t.ondragstart=function(){return!1};var e=function(t){var e;"true"===o.rDisabled||1!==t.which&&!t.touches||(e=t,c=0<=(r=n).indexOf("left")||0<=r.indexOf("right")?"x":"y",a="x"===c?l(e):g(e),width=parseInt(o.$parent.getOption("width"))||parseInt(d.getPropertyValue("width")),i.addClass("oxygen-no-transition"),document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",m,!1),document.addEventListener("touchend",u,!1),document.addEventListener("touchmove",m,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,o.$apply())};t.addEventListener("mousedown",e,!1),t.addEventListener("touchstart",e,!1)})}}}]),CTFrontendBuilder.directive("oxyimageonload",function(){return{restrict:"A",link:function(t,e,n){e.bind("load",function(){t.adjustResizeBox()})}}});
CTFrontendBuilder.directive("oxygenSlider",["$timeout","$interval",function(e,n){return{link:function(a,t,n){e(function(){var i=t.parent().attr("ng-attr-component-id");a.$parent&&a.$parent.waitOxygenTree(function(){void 0===a.$parent.sliders&&(a.$parent.sliders={});var r=a.component.options[i].id;a.$parent.sliders[i]=t.on("unslider.ready",function(){a.$parent.adjustResizeBox()}).unslider({autoplay:"yes"==r["slider-autoplay"],delay:parseInt(r["slider-autoplay-delay"]),animation:r["slider-animation"],speed:parseInt(r["slider-animation-speed"]),arrows:"yes"==r["slider-show-arrows"],nav:"yes"==r["slider-show-dots"],infinite:!1}).on("unslider.change",function(n,e,i){if("no"==r["slider-autoplay"]){a.$parent.titleBarsVisibility("hidden");var t=i.children().attr("ng-attr-component-id");a.$parent.activateComponent(t)}}).on("unslider.moved",function(){a.$parent.adjustResizeBox(),a.$parent.titleBarsVisibility("visible","visible")});var n=a.$parent.getActiveComponent();if(0<n.parents(".ct-slider").length){var e=n.closest("li").index();a.$parent.sliders[i].unslider("animate:"+e)}t.siblings(".unslider-arrow").mousedown(function(n){n.stopPropagation()}),t.siblings(".unslider-nav").find("li").mousedown(function(n){n.stopPropagation()})})},0,!1)}}}]);