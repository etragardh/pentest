function buUploadMedia(){Coloris({el:".coloris"}),Coloris.setInstance(".swatch_color",{theme:"pill",themeMode:"dark",formatToggle:!0,closeButton:!0,clearButton:!0,onChange:(e,t)=>{t.setAttribute("value",e)}}),document.querySelectorAll(".busw-term-image").forEach(e=>{let o=e.querySelector(".bu-remove-btn")||!1,u=e.querySelector("input.bu-upload-input-url")||!1,l=e.querySelector("input.bu-upload-input-id")||!1,r=e.querySelector(".bu-upload-preview-wrap")||!1;r.querySelector("img");previewSVG=r.querySelector("object")||!1,jQuery(e).off("click").on("click",".bu-upload-btn, img, object",function(e){e.preventDefault();var t=wp.media({title:"Upload swatch",button:{text:"Add swatch"},multiple:!1}).on("select",function(){var e=t.state().get("selection").first().toJSON();l.value=e.id,u.value=e.url,"svg"!==(extension=e.url.split(".").pop())&&jQuery(r).html('<img src="'+e.url+'" />'),"svg"===extension&&jQuery(r).html('<object type="image/svg+xml" data="'+e.url+'"></object>'),o.classList.add("bu-active")}).open()}),o.addEventListener("click",function(e){e.preventDefault(),jQuery(r).find("img").remove(),jQuery(r).find("object").remove(),jQuery(r).find("svg").remove(),l.value="",u.value="",o.classList.remove("bu-active")})})}document.addEventListener("DOMContentLoaded",buUploadMedia);