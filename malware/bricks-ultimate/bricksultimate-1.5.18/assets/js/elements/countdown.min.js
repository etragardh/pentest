function triggerUltimateCountdown(e){e.facets.on("appended",function(e){ultimateCountdown(document)})}function ultimateCountdown(e=document){e.querySelectorAll(".brxe-bu-countdown").forEach(e=>{var t,o=JSON.parse(e.getAttribute("data-timer-config"));o&&(t=new Date(""+("none"!==o.year?parseInt(o.year):""),""+("none"!==o.month?parseInt(o.month)-1:""),""+("none"!==o.day?parseInt(o.day):""),""+("none"!==o.hour?parseInt(o.hour):""),""+("none"!==o.minute?parseInt(o.minute):""),""+("none"!==o.second?parseInt(o.second):"")),bricksIsFrontend||(jQuery(e).countdown("destroy"),"evergreen"==o.timertype&&(jQuery.removeCookie("countdown-"+o.id),jQuery.removeCookie("countdown-"+o.id+"-currdate"),jQuery.removeCookie("countdown-"+o.id+"-day"),jQuery.removeCookie("countdown-"+o.id+"-hour"),jQuery.removeCookie("countdown-"+o.id+"-min"),jQuery.removeCookie("countdown-"+o.id+"-sec"))),new UltimateCountdown({id:o.id,timertype:o.timertype,timer_date:"fixed"==o.timertype?t:new Date,time_zone:o.time_zone,timer_format:o.timer_format,timer_layout:o.timer_layout,timer_labels:o.timer_labels,timer_labels_singular:o.timer_labels_singular,timer_action:o.action,evergreen_date_days:"none"!==o.day?parseInt(o.day):"",evergreen_date_hours:"none"!==o.hour?parseInt(o.hour):"",evergreen_date_minutes:"none"!==o.minute?parseInt(o.minute):"",evergreen_date_seconds:"none"!==o.second?parseInt(o.second):"",timer_exp_text:o.timer_exp_text,redirect_link_target:o.redirect_link_target,redirect_link:o.redirect_link,isRTL:o.isRTL,toggleSelectors:o.selectors||!1,hideSelectors:o.hideSelectors||!1}))})}!function(n){(UltimateCountdown=function(e){var t,o;this.params=e,this.id=e.id,this.timerid=".bu-countdown-"+e.id,"NULL"==e.timezone&&(e.timezone=null),"evergreen"==e.timertype&&(t="",o=0,null==n.cookie("countdown-"+e.id)&&(n.cookie("countdown-"+e.id,!0),n.cookie("countdown-"+e.id+"-currdate",new Date),n.cookie("countdown-"+e.id+"-day",e.evergreen_date_days),n.cookie("countdown-"+e.id+"-hour",e.evergreen_date_hours),n.cookie("countdown-"+e.id+"-min",e.evergreen_date_minutes),n.cookie("countdown-"+e.id+"-sec",e.evergreen_date_seconds)),t=new Date(n.cookie("countdown-"+e.id+"-currdate")),o=1e3*(parseFloat(24*e.evergreen_date_days*60*60)+parseFloat(60*e.evergreen_date_hours*60)+parseFloat(60*e.evergreen_date_minutes)+parseFloat(e.evergreen_date_seconds)),t.setTime(t.getTime()+o),e.timer_date=t),this.options={until:e.timer_date,format:e.timer_format,layout:e.timer_layout,timezone:e.timezone,labels:e.timer_labels.split(","),labels1:e.timer_labels_singular.split(","),expiryText:"",onExpiry:null,isRTL:e.isRTL,whichLabels:function(e){return 1<e?0:1}},this._initTimerAction(),this._initCountdown()}).prototype={params:{},timerid:"",options:{},_initCountdown:function(){params=this.params,n.cookie("countdown-"+params.id+"expiremsg",null),n.cookie("countdown-"+params.id+"redirect",null),n.cookie("countdown-"+params.id+"redirectwindow",null),n.cookie("countdown-"+params.id+"hide",null),n.cookie("countdown-"+params.id+"reset",null),n.removeCookie("countdown-"+params.id+"expiremsg"),n.removeCookie("countdown-"+params.id+"redirect"),n.removeCookie("countdown-"+params.id+"redirectwindow"),n.removeCookie("countdown-"+params.id+"hide"),n.removeCookie("countdown-"+params.id+"reset"),"msg"==params.timer_action?n.cookie("countdown-"+params.id+"expiremsg",params.expire_message,{expires:365}):"redirect"==params.timer_action?(n.cookie("countdown-"+params.id+"redirect",params.redirect_link,{expires:365}),n.cookie("countdown-"+params.id+"redirectwindow",params.redirect_link_target,{expires:365})):"hide"==params.timer_action?n.cookie("countdown-"+params.id+"hide","yes",{expires:365}):"reset"==params.timer_action&&n.cookie("countdown-"+params.id+"reset","yes",{expires:365})},_initTimerAction:function(){var e=new Date;params=this.params,options=this.options,timerid=this.timerid,bricksIsFrontend&&this._showSelectors(),0<e.getTime()-params.timer_date.getTime()?"msg"==params.timer_action?n(timerid).append(params.timer_exp_text):"toggle"==params.timer_action?bricksIsFrontend?(this._showSelectors(),this._hideSelectors()):n(timerid).countdown(options):"hide"==params.timer_action?this._hideCounter():("redirect"==params.timer_action?(bricksIsFrontend&&("_blank"==params.redirect_link_target?window.open(params.redirect_link,params.redirect_link_target):window.location.href=params.redirect_link),"evergreen"!=params.timertype||bricksIsFrontend||(options.onExpiry=this._restartCountdown)):"reset"==params.timer_action?options.onExpiry=this._restartCountdown:options.onExpiry=null,n(timerid).countdown(options)):("msg"==params.timer_action?options.expiryText=params.timer_exp_text:"redirect"==params.timer_action?bricksIsFrontend?options.onExpiry=this._redirectCounter:"evergreen"==params.timertype?options.onExpiry=this._restartCountdown:options.onExpiry=null:"hide"==params.timer_action?options.onExpiry=this._hideCounter:"toggle"==params.timer_action?bricksIsFrontend&&(options.onExpiry=this._toggleContentCallback):"reset"==params.timer_action?options.onExpiry=this._restartCountdown:options.onExpiry=null,n(timerid).countdown(options))},_showSelectors:function(){const r=document.querySelector(timerid)||!1;if(params.toggleSelectors){const e=params.toggleSelectors.toString().split(",");e.forEach(e=>{const t=!!r&&r.closest(".brxe-loop-builder-on"),o=(t&&t.querySelector(e)?t:document).querySelector(e);o&&o.classList.toggle("screen-reader-text")})}},_hideSelectors:function(){const r=document.querySelector(timerid)||!1;if(params.hideSelectors){const e=params.hideSelectors.toString().split(",");e.forEach(e=>{const t=!!r&&r.closest(".brxe-loop-builder-on"),o=(t&&t.querySelector(e)?t:document).querySelector(e);o&&o.classList.toggle("screen-reader-text")})}},_toggleContentCallback:function(){const r=document.querySelector(timerid)||!1;if(params.toggleSelectors){const e=params.toggleSelectors.toString().split(",");e.forEach(e=>{const t=!!r&&r.closest(".brxe-loop-builder-on"),o=(t&&t.querySelector(e)?t:document).querySelector(e);o&&o.classList.remove("screen-reader-text")})}if(params.hideSelectors){const t=params.hideSelectors.toString().split(",");t.forEach(e=>{const t=!!r&&r.closest(".brxe-loop-builder-on"),o=(t&&t.querySelector(e)?t:document).querySelector(e);o&&o.classList.add("screen-reader-text")})}n(timerid).countdown("destroy")},_destroyCounter:function(){bricksIsFrontend&&n(this).countdown("destroy")},_hideCounter:function(){bricksIsFrontend?n(timerid).remove():n(timerid).countdown(options)},_redirectCounter:function(){bricksIsFrontend&&("_blank"==params.redirect_link_target?window.open(params.redirect_link,params.redirect_link_target):window.location.href=params.redirect_link,n(timerid).countdown("destroy"),n(timerid).remove())},_restartCountdown:function(){n.cookie("countdown-"+params.id+"-currdate",new Date),currdate=new Date(n.cookie("countdown-"+params.id+"-currdate"));var e=n.cookie("countdown-"+params.id+"-day"),t=n.cookie("countdown-"+params.id+"-hour"),o=n.cookie("countdown-"+params.id+"-min"),r=n.cookie("countdown-"+params.id+"-sec"),e=1e3*(parseFloat(24*e*60*60)+parseFloat(60*t*60)+parseFloat(60*o)+parseFloat(r));currdate.setTime(currdate.getTime()+e),params.timer_date=currdate,n(this).countdown("option",{until:currdate})}}}(jQuery),document.addEventListener("DOMContentLoaded",function(){ultimateCountdown(document),window.ultimateCountdown=ultimateCountdown,window.WP_Grid_Builder&&WP_Grid_Builder.on("init",triggerUltimateCountdown)}),document.addEventListener("bricks/ajax/end",function(e){ultimateCountdown(document)});